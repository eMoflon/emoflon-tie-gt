<?xml version="1.0" encoding="ASCII"?>
<ecore:EPackage xmi:version="2.0" xmlns:xmi="http://www.omg.org/XMI" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:activities="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//activities" xmlns:callExpressions="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//calls/callExpressions" xmlns:ecore="http://www.eclipse.org/emf/2002/Ecore" xmlns:expressions="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//expressions" xmlns:patternExpressions="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//patterns/patternExpressions" name="democles" nsURI="platform:/plugin/org.moflon.sdm.runtime.democles/model/Democles.ecore" nsPrefix="org.moflon.sdm.runtime.democles">
  <eAnnotations source="http://www.eclipse.org/emf/2002/GenModel">
    <details key="basePackage" value="org.moflon.sdm.runtime"/>
  </eAnnotations>
  <eClassifiers xsi:type="ecore:EClass" name="ContinueStatement" eSuperTypes="//CFNode"/>
  <eClassifiers xsi:type="ecore:EClass" name="RepetitionNode" abstract="true" eSuperTypes="//CompoundNode">
    <eOperations xsi:type="activities:MoflonEOperation" name="hasShortcuts">
      <eType xsi:type="ecore:EDataType" href="http://www.eclipse.org/emf/2002/Ecore#//EBoolean"/>
      <activity owningOperation="//RepetitionNode/hasShortcuts">
        <ownedActivityEdge source="//RepetitionNode/hasShortcuts/@activity/@ownedActivityNode.1" target="//RepetitionNode/hasShortcuts/@activity/@ownedActivityNode.2"/>
        <ownedActivityEdge source="//RepetitionNode/hasShortcuts/@activity/@ownedActivityNode.2" target="//RepetitionNode/hasShortcuts/@activity/@ownedActivityNode.3" guard="SUCCESS"/>
        <ownedActivityEdge source="//RepetitionNode/hasShortcuts/@activity/@ownedActivityNode.2" target="//RepetitionNode/hasShortcuts/@activity/@ownedActivityNode.0" guard="FAILURE"/>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//RepetitionNode/hasShortcuts/@activity/@ownedActivityEdge.2">
          <returnValue xsi:type="expressions:LiteralExpression" value="false"/>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StartNode" outgoing="//RepetitionNode/hasShortcuts/@activity/@ownedActivityEdge.0"/>
        <ownedActivityNode xsi:type="activities:StoryNode" name="HasContinueStatementAsAShortcut" comment="HasContinueStatementAsAShortcut" outgoing="//RepetitionNode/hasShortcuts/@activity/@ownedActivityEdge.1 //RepetitionNode/hasShortcuts/@activity/@ownedActivityEdge.2" incoming="//RepetitionNode/hasShortcuts/@activity/@ownedActivityEdge.0">
          <storyPattern comment="HasContinueStatementAsAShortcut">
            <objectVariable type="//RepetitionNode" name="this" outgoingLink="//RepetitionNode/hasShortcuts/@activity/@ownedActivityNode.2/@storyPattern/@linkVariable.0" bindingState="BOUND"/>
            <objectVariable type="//ContinueStatement" name="continueStatement" incomingLink="//RepetitionNode/hasShortcuts/@activity/@ownedActivityNode.2/@storyPattern/@linkVariable.0"/>
            <linkVariable name="lastNodes" target="//RepetitionNode/hasShortcuts/@activity/@ownedActivityNode.2/@storyPattern/@objectVariable.1" source="//RepetitionNode/hasShortcuts/@activity/@ownedActivityNode.2/@storyPattern/@objectVariable.0" type="//RepetitionNode/lastNodes"/>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//RepetitionNode/hasShortcuts/@activity/@ownedActivityEdge.1">
          <returnValue xsi:type="expressions:LiteralExpression" value="true"/>
        </ownedActivityNode>
      </activity>
    </eOperations>
    <eStructuralFeatures xsi:type="ecore:EReference" name="lastNodes" upperBound="-1" eType="//CFNode" eOpposite="//CFNode/header"/>
  </eClassifiers>
  <eClassifiers xsi:type="ecore:EClass" name="Loop" abstract="true" eSuperTypes="//RepetitionNode">
    <eOperations xsi:type="activities:MoflonEOperation" name="getRelevantScope" eType="//Scope">
      <activity owningOperation="//Loop/getRelevantScope">
        <ownedActivityEdge source="//Loop/getRelevantScope/@activity/@ownedActivityNode.1" target="//Loop/getRelevantScope/@activity/@ownedActivityNode.0"/>
        <ownedActivityEdge source="//Loop/getRelevantScope/@activity/@ownedActivityNode.2" target="//Loop/getRelevantScope/@activity/@ownedActivityNode.5" guard="FAILURE"/>
        <ownedActivityEdge source="//Loop/getRelevantScope/@activity/@ownedActivityNode.2" target="//Loop/getRelevantScope/@activity/@ownedActivityNode.1" guard="SUCCESS"/>
        <ownedActivityEdge source="//Loop/getRelevantScope/@activity/@ownedActivityNode.3" target="//Loop/getRelevantScope/@activity/@ownedActivityNode.2"/>
        <ownedActivityEdge source="//Loop/getRelevantScope/@activity/@ownedActivityNode.5" target="//Loop/getRelevantScope/@activity/@ownedActivityNode.4"/>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//Loop/getRelevantScope/@activity/@ownedActivityEdge.0">
          <returnValue xsi:type="patternExpressions:ObjectVariableExpression" object="//Loop/getRelevantScope/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.1"/>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StoryNode" name="SelectChildScopeAsRelevant" comment="SelectChildScopeAsRelevant" outgoing="//Loop/getRelevantScope/@activity/@ownedActivityEdge.0" incoming="//Loop/getRelevantScope/@activity/@ownedActivityEdge.2">
          <storyPattern comment="SelectChildScopeAsRelevant">
            <objectVariable type="//Loop" name="this" incomingLink="//Loop/getRelevantScope/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.0" bindingState="BOUND"/>
            <objectVariable type="//Scope" name="child" outgoingLink="//Loop/getRelevantScope/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.0"/>
            <linkVariable name="parent" target="//Loop/getRelevantScope/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.0" source="//Loop/getRelevantScope/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.1" type="//Scope/parent"/>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StoryNode" name="LoopsAlongTrueBranch" comment="LoopsAlongTrueBranch" outgoing="//Loop/getRelevantScope/@activity/@ownedActivityEdge.1 //Loop/getRelevantScope/@activity/@ownedActivityEdge.2" incoming="//Loop/getRelevantScope/@activity/@ownedActivityEdge.3">
          <storyPattern comment="LoopsAlongTrueBranch">
            <objectVariable type="//Loop" name="this" bindingState="BOUND">
              <constraint>
                <constraintExpression xsi:type="expressions:ComparisonExpression" operator="EQUAL">
                  <rightExpression xsi:type="expressions:LiteralExpression" value="true"/>
                  <leftExpression xsi:type="patternExpressions:AttributeValueExpression" object="//Loop/getRelevantScope/@activity/@ownedActivityNode.2/@storyPattern/@objectVariable.0" attribute="//Loop/loopAlongTrue"/>
                </constraintExpression>
              </constraint>
            </objectVariable>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StartNode" outgoing="//Loop/getRelevantScope/@activity/@ownedActivityEdge.3"/>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//Loop/getRelevantScope/@activity/@ownedActivityEdge.4">
          <returnValue xsi:type="patternExpressions:ObjectVariableExpression" object="//Loop/getRelevantScope/@activity/@ownedActivityNode.5/@storyPattern/@objectVariable.0"/>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StoryNode" name="SelectParentScopeAsRelevant" comment="SelectParentScopeAsRelevant" outgoing="//Loop/getRelevantScope/@activity/@ownedActivityEdge.4" incoming="//Loop/getRelevantScope/@activity/@ownedActivityEdge.1">
          <storyPattern comment="SelectParentScopeAsRelevant">
            <objectVariable type="//Scope" name="parent" outgoingLink="//Loop/getRelevantScope/@activity/@ownedActivityNode.5/@storyPattern/@linkVariable.0"/>
            <objectVariable type="//Loop" name="this" incomingLink="//Loop/getRelevantScope/@activity/@ownedActivityNode.5/@storyPattern/@linkVariable.0" bindingState="BOUND"/>
            <linkVariable name="contents" target="//Loop/getRelevantScope/@activity/@ownedActivityNode.5/@storyPattern/@objectVariable.1" source="//Loop/getRelevantScope/@activity/@ownedActivityNode.5/@storyPattern/@objectVariable.0" type="//Scope/contents"/>
          </storyPattern>
        </ownedActivityNode>
      </activity>
    </eOperations>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="loopAlongTrue" ordered="false" lowerBound="1">
      <eType xsi:type="ecore:EDataType" href="http://www.eclipse.org/emf/2002/Ecore#//EBoolean"/>
    </eStructuralFeatures>
  </eClassifiers>
  <eClassifiers xsi:type="ecore:EClass" name="ReturnStatement" eSuperTypes="//CFNode"/>
  <eClassifiers xsi:type="ecore:EClass" name="HeadControlledLoop" eSuperTypes="//Loop">
    <eOperations xsi:type="activities:MoflonEOperation" name="accept">
      <eParameters name="visitor" eType="//Visitor"/>
      <activity owningOperation="//HeadControlledLoop/accept">
        <ownedActivityEdge source="//HeadControlledLoop/accept/@activity/@ownedActivityNode.1" target="//HeadControlledLoop/accept/@activity/@ownedActivityNode.0"/>
        <ownedActivityEdge source="//HeadControlledLoop/accept/@activity/@ownedActivityNode.2" target="//HeadControlledLoop/accept/@activity/@ownedActivityNode.5"/>
        <ownedActivityEdge source="//HeadControlledLoop/accept/@activity/@ownedActivityNode.3" target="//HeadControlledLoop/accept/@activity/@ownedActivityNode.7"/>
        <ownedActivityEdge source="//HeadControlledLoop/accept/@activity/@ownedActivityNode.4" target="//HeadControlledLoop/accept/@activity/@ownedActivityNode.5" guard="FAILURE"/>
        <ownedActivityEdge source="//HeadControlledLoop/accept/@activity/@ownedActivityNode.4" target="//HeadControlledLoop/accept/@activity/@ownedActivityNode.2" guard="SUCCESS"/>
        <ownedActivityEdge source="//HeadControlledLoop/accept/@activity/@ownedActivityNode.5" target="//HeadControlledLoop/accept/@activity/@ownedActivityNode.1" guard="SUCCESS"/>
        <ownedActivityEdge source="//HeadControlledLoop/accept/@activity/@ownedActivityNode.5" target="//HeadControlledLoop/accept/@activity/@ownedActivityNode.0" guard="FAILURE"/>
        <ownedActivityEdge source="//HeadControlledLoop/accept/@activity/@ownedActivityNode.6" target="//HeadControlledLoop/accept/@activity/@ownedActivityNode.3"/>
        <ownedActivityEdge source="//HeadControlledLoop/accept/@activity/@ownedActivityNode.7" target="//HeadControlledLoop/accept/@activity/@ownedActivityNode.4"/>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//HeadControlledLoop/accept/@activity/@ownedActivityEdge.0 //HeadControlledLoop/accept/@activity/@ownedActivityEdge.6"/>
        <ownedActivityNode xsi:type="activities:StatementNode" name="TraverseNextNode" outgoing="//HeadControlledLoop/accept/@activity/@ownedActivityEdge.0" incoming="//HeadControlledLoop/accept/@activity/@ownedActivityEdge.5">
          <statementExpression xsi:type="callExpressions:MethodCallExpression" callee="//CFNode/accept">
            <ownedParameterBindings parameter="//CFNode/accept/visitor">
              <valueExpression xsi:type="callExpressions:ParameterExpression" parameter="//HeadControlledLoop/accept/visitor"/>
            </ownedParameterBindings>
            <target xsi:type="patternExpressions:ObjectVariableExpression" object="//HeadControlledLoop/accept/@activity/@ownedActivityNode.5/@storyPattern/@objectVariable.0"/>
          </statementExpression>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StatementNode" name="TraverseLoopBodyScope" outgoing="//HeadControlledLoop/accept/@activity/@ownedActivityEdge.1" incoming="//HeadControlledLoop/accept/@activity/@ownedActivityEdge.4">
          <statementExpression xsi:type="callExpressions:MethodCallExpression" callee="//Scope/accept">
            <ownedParameterBindings parameter="//Scope/accept/visitor">
              <valueExpression xsi:type="callExpressions:ParameterExpression" parameter="//HeadControlledLoop/accept/visitor"/>
            </ownedParameterBindings>
            <target xsi:type="patternExpressions:ObjectVariableExpression" object="//HeadControlledLoop/accept/@activity/@ownedActivityNode.4/@storyPattern/@objectVariable.1"/>
          </statementExpression>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StoryNode" name="LookupThisObject" comment="LookupThisObject" outgoing="//HeadControlledLoop/accept/@activity/@ownedActivityEdge.2" incoming="//HeadControlledLoop/accept/@activity/@ownedActivityEdge.7">
          <storyPattern comment="LookupThisObject">
            <objectVariable type="//HeadControlledLoop" name="this" bindingState="BOUND"/>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StoryNode" name="LookupLoopBodyScope" comment="LookupLoopBodyScope" outgoing="//HeadControlledLoop/accept/@activity/@ownedActivityEdge.3 //HeadControlledLoop/accept/@activity/@ownedActivityEdge.4" incoming="//HeadControlledLoop/accept/@activity/@ownedActivityEdge.8">
          <storyPattern comment="LookupLoopBodyScope">
            <objectVariable type="//HeadControlledLoop" name="this" incomingLink="//HeadControlledLoop/accept/@activity/@ownedActivityNode.4/@storyPattern/@linkVariable.0" bindingState="BOUND"/>
            <objectVariable type="//Scope" name="loopBodyScope" outgoingLink="//HeadControlledLoop/accept/@activity/@ownedActivityNode.4/@storyPattern/@linkVariable.0"/>
            <linkVariable name="parent" target="//HeadControlledLoop/accept/@activity/@ownedActivityNode.4/@storyPattern/@objectVariable.0" source="//HeadControlledLoop/accept/@activity/@ownedActivityNode.4/@storyPattern/@objectVariable.1" type="//Scope/parent"/>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StoryNode" name="LookupNextNode" comment="LookupNextNode" outgoing="//HeadControlledLoop/accept/@activity/@ownedActivityEdge.5 //HeadControlledLoop/accept/@activity/@ownedActivityEdge.6" incoming="//HeadControlledLoop/accept/@activity/@ownedActivityEdge.1 //HeadControlledLoop/accept/@activity/@ownedActivityEdge.3">
          <storyPattern comment="LookupNextNode">
            <objectVariable type="//CFNode" name="nextNode" incomingLink="//HeadControlledLoop/accept/@activity/@ownedActivityNode.5/@storyPattern/@linkVariable.0"/>
            <objectVariable type="//HeadControlledLoop" name="this" outgoingLink="//HeadControlledLoop/accept/@activity/@ownedActivityNode.5/@storyPattern/@linkVariable.0" bindingState="BOUND"/>
            <linkVariable name="next" target="//HeadControlledLoop/accept/@activity/@ownedActivityNode.5/@storyPattern/@objectVariable.0" source="//HeadControlledLoop/accept/@activity/@ownedActivityNode.5/@storyPattern/@objectVariable.1" type="//CFNode/next"/>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StartNode" outgoing="//HeadControlledLoop/accept/@activity/@ownedActivityEdge.7"/>
        <ownedActivityNode xsi:type="activities:StatementNode" name="VisitHeadControlledLoop" outgoing="//HeadControlledLoop/accept/@activity/@ownedActivityEdge.8" incoming="//HeadControlledLoop/accept/@activity/@ownedActivityEdge.2">
          <statementExpression xsi:type="callExpressions:MethodCallExpression" callee="//Visitor/visitHeadControlledLoop">
            <ownedParameterBindings parameter="//Visitor/visitHeadControlledLoop/headControlledLoop">
              <valueExpression xsi:type="patternExpressions:ObjectVariableExpression" object="//HeadControlledLoop/accept/@activity/@ownedActivityNode.3/@storyPattern/@objectVariable.0"/>
            </ownedParameterBindings>
            <target xsi:type="callExpressions:ParameterExpression" parameter="//HeadControlledLoop/accept/visitor"/>
          </statementExpression>
        </ownedActivityNode>
      </activity>
    </eOperations>
  </eClassifiers>
  <eClassifiers xsi:type="ecore:EClass" name="TailControlledLoop" eSuperTypes="//Loop">
    <eOperations xsi:type="activities:MoflonEOperation" name="accept">
      <eParameters name="visitor" eType="//Visitor"/>
      <activity owningOperation="//TailControlledLoop/accept">
        <ownedActivityEdge source="//TailControlledLoop/accept/@activity/@ownedActivityNode.0" target="//TailControlledLoop/accept/@activity/@ownedActivityNode.3" guard="SUCCESS"/>
        <ownedActivityEdge source="//TailControlledLoop/accept/@activity/@ownedActivityNode.0" target="//TailControlledLoop/accept/@activity/@ownedActivityNode.1" guard="FAILURE"/>
        <ownedActivityEdge source="//TailControlledLoop/accept/@activity/@ownedActivityNode.1" target="//TailControlledLoop/accept/@activity/@ownedActivityNode.6"/>
        <ownedActivityEdge source="//TailControlledLoop/accept/@activity/@ownedActivityNode.2" target="//TailControlledLoop/accept/@activity/@ownedActivityNode.4"/>
        <ownedActivityEdge source="//TailControlledLoop/accept/@activity/@ownedActivityNode.3" target="//TailControlledLoop/accept/@activity/@ownedActivityNode.1"/>
        <ownedActivityEdge source="//TailControlledLoop/accept/@activity/@ownedActivityNode.5" target="//TailControlledLoop/accept/@activity/@ownedActivityNode.0"/>
        <ownedActivityEdge source="//TailControlledLoop/accept/@activity/@ownedActivityNode.6" target="//TailControlledLoop/accept/@activity/@ownedActivityNode.4" guard="FAILURE"/>
        <ownedActivityEdge source="//TailControlledLoop/accept/@activity/@ownedActivityNode.6" target="//TailControlledLoop/accept/@activity/@ownedActivityNode.2" guard="SUCCESS"/>
        <ownedActivityNode xsi:type="activities:StoryNode" name="LookupLoopBodyScope" comment="LookupLoopBodyScope" outgoing="//TailControlledLoop/accept/@activity/@ownedActivityEdge.0 //TailControlledLoop/accept/@activity/@ownedActivityEdge.1" incoming="//TailControlledLoop/accept/@activity/@ownedActivityEdge.5">
          <storyPattern comment="LookupLoopBodyScope">
            <objectVariable type="//TailControlledLoop" name="this" incomingLink="//TailControlledLoop/accept/@activity/@ownedActivityNode.0/@storyPattern/@linkVariable.0" bindingState="BOUND"/>
            <objectVariable type="//Scope" name="loopBodyScope" outgoingLink="//TailControlledLoop/accept/@activity/@ownedActivityNode.0/@storyPattern/@linkVariable.0"/>
            <linkVariable name="parent" target="//TailControlledLoop/accept/@activity/@ownedActivityNode.0/@storyPattern/@objectVariable.0" source="//TailControlledLoop/accept/@activity/@ownedActivityNode.0/@storyPattern/@objectVariable.1" type="//Scope/parent"/>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StatementNode" name="VisitTailControlledLoop" outgoing="//TailControlledLoop/accept/@activity/@ownedActivityEdge.2" incoming="//TailControlledLoop/accept/@activity/@ownedActivityEdge.1 //TailControlledLoop/accept/@activity/@ownedActivityEdge.4">
          <statementExpression xsi:type="callExpressions:MethodCallExpression" callee="//Visitor/visitTailControlledLoop">
            <ownedParameterBindings parameter="//Visitor/visitTailControlledLoop/tailControlledLoop">
              <valueExpression xsi:type="patternExpressions:ObjectVariableExpression" object="//TailControlledLoop/accept/@activity/@ownedActivityNode.6/@storyPattern/@objectVariable.0"/>
            </ownedParameterBindings>
            <target xsi:type="callExpressions:ParameterExpression" parameter="//TailControlledLoop/accept/visitor"/>
          </statementExpression>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StatementNode" name="TraverseNextNode" outgoing="//TailControlledLoop/accept/@activity/@ownedActivityEdge.3" incoming="//TailControlledLoop/accept/@activity/@ownedActivityEdge.7">
          <statementExpression xsi:type="callExpressions:MethodCallExpression" callee="//CFNode/accept">
            <ownedParameterBindings parameter="//CFNode/accept/visitor">
              <valueExpression xsi:type="callExpressions:ParameterExpression" parameter="//TailControlledLoop/accept/visitor"/>
            </ownedParameterBindings>
            <target xsi:type="patternExpressions:ObjectVariableExpression" object="//TailControlledLoop/accept/@activity/@ownedActivityNode.6/@storyPattern/@objectVariable.1"/>
          </statementExpression>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StatementNode" name="TraverseLoopBodyScope" outgoing="//TailControlledLoop/accept/@activity/@ownedActivityEdge.4" incoming="//TailControlledLoop/accept/@activity/@ownedActivityEdge.0">
          <statementExpression xsi:type="callExpressions:MethodCallExpression" callee="//Scope/accept">
            <ownedParameterBindings parameter="//Scope/accept/visitor">
              <valueExpression xsi:type="callExpressions:ParameterExpression" parameter="//TailControlledLoop/accept/visitor"/>
            </ownedParameterBindings>
            <target xsi:type="patternExpressions:ObjectVariableExpression" object="//TailControlledLoop/accept/@activity/@ownedActivityNode.0/@storyPattern/@objectVariable.1"/>
          </statementExpression>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//TailControlledLoop/accept/@activity/@ownedActivityEdge.3 //TailControlledLoop/accept/@activity/@ownedActivityEdge.6"/>
        <ownedActivityNode xsi:type="activities:StartNode" outgoing="//TailControlledLoop/accept/@activity/@ownedActivityEdge.5"/>
        <ownedActivityNode xsi:type="activities:StoryNode" name="LookupNextNode" comment="LookupNextNode" outgoing="//TailControlledLoop/accept/@activity/@ownedActivityEdge.6 //TailControlledLoop/accept/@activity/@ownedActivityEdge.7" incoming="//TailControlledLoop/accept/@activity/@ownedActivityEdge.2">
          <storyPattern comment="LookupNextNode">
            <objectVariable type="//TailControlledLoop" name="this" outgoingLink="//TailControlledLoop/accept/@activity/@ownedActivityNode.6/@storyPattern/@linkVariable.0" bindingState="BOUND"/>
            <objectVariable type="//CFNode" name="nextNode" incomingLink="//TailControlledLoop/accept/@activity/@ownedActivityNode.6/@storyPattern/@linkVariable.0"/>
            <linkVariable name="next" target="//TailControlledLoop/accept/@activity/@ownedActivityNode.6/@storyPattern/@objectVariable.1" source="//TailControlledLoop/accept/@activity/@ownedActivityNode.6/@storyPattern/@objectVariable.0" type="//CFNode/next"/>
          </storyPattern>
        </ownedActivityNode>
      </activity>
    </eOperations>
  </eClassifiers>
  <eClassifiers xsi:type="ecore:EClass" name="ForEach" eSuperTypes="//RepetitionNode">
    <eOperations xsi:type="activities:MoflonEOperation" name="accept">
      <eParameters name="visitor" eType="//Visitor"/>
      <activity owningOperation="//ForEach/accept">
        <ownedActivityEdge source="//ForEach/accept/@activity/@ownedActivityNode.0" target="//ForEach/accept/@activity/@ownedActivityNode.7" guard="SUCCESS"/>
        <ownedActivityEdge source="//ForEach/accept/@activity/@ownedActivityNode.0" target="//ForEach/accept/@activity/@ownedActivityNode.6" guard="FAILURE"/>
        <ownedActivityEdge source="//ForEach/accept/@activity/@ownedActivityNode.1" target="//ForEach/accept/@activity/@ownedActivityNode.0"/>
        <ownedActivityEdge source="//ForEach/accept/@activity/@ownedActivityNode.2" target="//ForEach/accept/@activity/@ownedActivityNode.4"/>
        <ownedActivityEdge source="//ForEach/accept/@activity/@ownedActivityNode.4" target="//ForEach/accept/@activity/@ownedActivityNode.1"/>
        <ownedActivityEdge source="//ForEach/accept/@activity/@ownedActivityNode.5" target="//ForEach/accept/@activity/@ownedActivityNode.3"/>
        <ownedActivityEdge source="//ForEach/accept/@activity/@ownedActivityNode.6" target="//ForEach/accept/@activity/@ownedActivityNode.5" guard="SUCCESS"/>
        <ownedActivityEdge source="//ForEach/accept/@activity/@ownedActivityNode.6" target="//ForEach/accept/@activity/@ownedActivityNode.3" guard="FAILURE"/>
        <ownedActivityEdge source="//ForEach/accept/@activity/@ownedActivityNode.7" target="//ForEach/accept/@activity/@ownedActivityNode.6"/>
        <ownedActivityNode xsi:type="activities:StoryNode" name="LookupForEachScope" comment="LookupForEachScope" outgoing="//ForEach/accept/@activity/@ownedActivityEdge.0 //ForEach/accept/@activity/@ownedActivityEdge.1" incoming="//ForEach/accept/@activity/@ownedActivityEdge.2">
          <storyPattern comment="LookupForEachScope">
            <objectVariable type="//Scope" name="forEachScope" outgoingLink="//ForEach/accept/@activity/@ownedActivityNode.0/@storyPattern/@linkVariable.0"/>
            <objectVariable type="//ForEach" name="this" incomingLink="//ForEach/accept/@activity/@ownedActivityNode.0/@storyPattern/@linkVariable.0" bindingState="BOUND"/>
            <linkVariable name="parent" target="//ForEach/accept/@activity/@ownedActivityNode.0/@storyPattern/@objectVariable.1" source="//ForEach/accept/@activity/@ownedActivityNode.0/@storyPattern/@objectVariable.0" type="//Scope/parent"/>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StatementNode" name="VisitForEachNode" outgoing="//ForEach/accept/@activity/@ownedActivityEdge.2" incoming="//ForEach/accept/@activity/@ownedActivityEdge.4">
          <statementExpression xsi:type="callExpressions:MethodCallExpression" callee="//Visitor/visitForEach">
            <ownedParameterBindings parameter="//Visitor/visitForEach/forEach">
              <valueExpression xsi:type="patternExpressions:ObjectVariableExpression" object="//ForEach/accept/@activity/@ownedActivityNode.6/@storyPattern/@objectVariable.0"/>
            </ownedParameterBindings>
            <target xsi:type="callExpressions:ParameterExpression" parameter="//ForEach/accept/visitor"/>
          </statementExpression>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StartNode" outgoing="//ForEach/accept/@activity/@ownedActivityEdge.3"/>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//ForEach/accept/@activity/@ownedActivityEdge.5 //ForEach/accept/@activity/@ownedActivityEdge.7"/>
        <ownedActivityNode xsi:type="activities:StoryNode" name="LookupThisObject" comment="LookupThisObject" outgoing="//ForEach/accept/@activity/@ownedActivityEdge.4" incoming="//ForEach/accept/@activity/@ownedActivityEdge.3">
          <storyPattern comment="LookupThisObject">
            <objectVariable type="//ForEach" name="this" bindingState="BOUND"/>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StatementNode" name="TraverseNextNode" outgoing="//ForEach/accept/@activity/@ownedActivityEdge.5" incoming="//ForEach/accept/@activity/@ownedActivityEdge.6">
          <statementExpression xsi:type="callExpressions:MethodCallExpression" callee="//CFNode/accept">
            <ownedParameterBindings parameter="//CFNode/accept/visitor">
              <valueExpression xsi:type="callExpressions:ParameterExpression" parameter="//ForEach/accept/visitor"/>
            </ownedParameterBindings>
            <target xsi:type="patternExpressions:ObjectVariableExpression" object="//ForEach/accept/@activity/@ownedActivityNode.6/@storyPattern/@objectVariable.1"/>
          </statementExpression>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StoryNode" name="LookupNextNode" comment="LookupNextNode" outgoing="//ForEach/accept/@activity/@ownedActivityEdge.6 //ForEach/accept/@activity/@ownedActivityEdge.7" incoming="//ForEach/accept/@activity/@ownedActivityEdge.1 //ForEach/accept/@activity/@ownedActivityEdge.8">
          <storyPattern comment="LookupNextNode">
            <objectVariable type="//ForEach" name="this" outgoingLink="//ForEach/accept/@activity/@ownedActivityNode.6/@storyPattern/@linkVariable.0" bindingState="BOUND"/>
            <objectVariable type="//CFNode" name="nextNode" incomingLink="//ForEach/accept/@activity/@ownedActivityNode.6/@storyPattern/@linkVariable.0"/>
            <linkVariable name="next" target="//ForEach/accept/@activity/@ownedActivityNode.6/@storyPattern/@objectVariable.1" source="//ForEach/accept/@activity/@ownedActivityNode.6/@storyPattern/@objectVariable.0" type="//CFNode/next"/>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StatementNode" name="TraverseForEachScope" outgoing="//ForEach/accept/@activity/@ownedActivityEdge.8" incoming="//ForEach/accept/@activity/@ownedActivityEdge.0">
          <statementExpression xsi:type="callExpressions:MethodCallExpression" callee="//Scope/accept">
            <ownedParameterBindings parameter="//Scope/accept/visitor">
              <valueExpression xsi:type="callExpressions:ParameterExpression" parameter="//ForEach/accept/visitor"/>
            </ownedParameterBindings>
            <target xsi:type="patternExpressions:ObjectVariableExpression" object="//ForEach/accept/@activity/@ownedActivityNode.0/@storyPattern/@objectVariable.0"/>
          </statementExpression>
        </ownedActivityNode>
      </activity>
    </eOperations>
  </eClassifiers>
  <eClassifiers xsi:type="ecore:EClass" name="CompoundNode" abstract="true" eSuperTypes="//CFNode">
    <eOperations xsi:type="activities:MoflonEOperation" name="getRelevantScope" eType="//Scope">
      <activity owningOperation="//CompoundNode/getRelevantScope">
        <ownedActivityEdge source="//CompoundNode/getRelevantScope/@activity/@ownedActivityNode.0" target="//CompoundNode/getRelevantScope/@activity/@ownedActivityNode.1"/>
        <ownedActivityEdge source="//CompoundNode/getRelevantScope/@activity/@ownedActivityNode.2" target="//CompoundNode/getRelevantScope/@activity/@ownedActivityNode.0"/>
        <ownedActivityNode xsi:type="activities:StoryNode" name="LookupChildScope" comment="LookupChildScope" outgoing="//CompoundNode/getRelevantScope/@activity/@ownedActivityEdge.0" incoming="//CompoundNode/getRelevantScope/@activity/@ownedActivityEdge.1">
          <storyPattern comment="LookupChildScope">
            <objectVariable type="//Scope" name="child" outgoingLink="//CompoundNode/getRelevantScope/@activity/@ownedActivityNode.0/@storyPattern/@linkVariable.0"/>
            <objectVariable type="//CompoundNode" name="this" incomingLink="//CompoundNode/getRelevantScope/@activity/@ownedActivityNode.0/@storyPattern/@linkVariable.0" bindingState="BOUND"/>
            <linkVariable name="parent" target="//CompoundNode/getRelevantScope/@activity/@ownedActivityNode.0/@storyPattern/@objectVariable.1" source="//CompoundNode/getRelevantScope/@activity/@ownedActivityNode.0/@storyPattern/@objectVariable.0" type="//Scope/parent"/>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//CompoundNode/getRelevantScope/@activity/@ownedActivityEdge.0">
          <returnValue xsi:type="patternExpressions:ObjectVariableExpression" object="//CompoundNode/getRelevantScope/@activity/@ownedActivityNode.0/@storyPattern/@objectVariable.0"/>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StartNode" outgoing="//CompoundNode/getRelevantScope/@activity/@ownedActivityEdge.1"/>
      </activity>
    </eOperations>
    <eStructuralFeatures xsi:type="ecore:EReference" name="scopes" lowerBound="1" upperBound="-1" eType="//Scope" containment="true" eOpposite="//Scope/parent"/>
  </eClassifiers>
  <eClassifiers xsi:type="ecore:EClass" name="RegularPatternInvocation" eSuperTypes="//PatternInvocation">
    <eOperations xsi:type="activities:MoflonEOperation" name="isMultipleMatch">
      <eType xsi:type="ecore:EDataType" href="http://www.eclipse.org/emf/2002/Ecore#//EBoolean"/>
      <activity owningOperation="//RegularPatternInvocation/isMultipleMatch">
        <ownedActivityEdge source="//RegularPatternInvocation/isMultipleMatch/@activity/@ownedActivityNode.2" target="//RegularPatternInvocation/isMultipleMatch/@activity/@ownedActivityNode.3"/>
        <ownedActivityEdge source="//RegularPatternInvocation/isMultipleMatch/@activity/@ownedActivityNode.3" target="//RegularPatternInvocation/isMultipleMatch/@activity/@ownedActivityNode.0" guard="FAILURE"/>
        <ownedActivityEdge source="//RegularPatternInvocation/isMultipleMatch/@activity/@ownedActivityNode.3" target="//RegularPatternInvocation/isMultipleMatch/@activity/@ownedActivityNode.1" guard="SUCCESS"/>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//RegularPatternInvocation/isMultipleMatch/@activity/@ownedActivityEdge.1">
          <returnValue xsi:type="expressions:LiteralExpression" value="false"/>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//RegularPatternInvocation/isMultipleMatch/@activity/@ownedActivityEdge.2">
          <returnValue xsi:type="expressions:LiteralExpression" value="true"/>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StartNode" outgoing="//RegularPatternInvocation/isMultipleMatch/@activity/@ownedActivityEdge.0"/>
        <ownedActivityNode xsi:type="activities:StoryNode" name="IsContainedInForEachNode" comment="IsContainedInForEachNode" outgoing="//RegularPatternInvocation/isMultipleMatch/@activity/@ownedActivityEdge.1 //RegularPatternInvocation/isMultipleMatch/@activity/@ownedActivityEdge.2" incoming="//RegularPatternInvocation/isMultipleMatch/@activity/@ownedActivityEdge.0">
          <storyPattern comment="IsContainedInForEachNode">
            <objectVariable type="//ForEach" name="forEach" outgoingLink="//RegularPatternInvocation/isMultipleMatch/@activity/@ownedActivityNode.3/@storyPattern/@linkVariable.0 //RegularPatternInvocation/isMultipleMatch/@activity/@ownedActivityNode.3/@storyPattern/@linkVariable.1"/>
            <objectVariable type="//RegularPatternInvocation" name="this" incomingLink="//RegularPatternInvocation/isMultipleMatch/@activity/@ownedActivityNode.3/@storyPattern/@linkVariable.0 //RegularPatternInvocation/isMultipleMatch/@activity/@ownedActivityNode.3/@storyPattern/@linkVariable.1" bindingState="BOUND"/>
            <linkVariable name="mainAction" target="//RegularPatternInvocation/isMultipleMatch/@activity/@ownedActivityNode.3/@storyPattern/@objectVariable.1" source="//RegularPatternInvocation/isMultipleMatch/@activity/@ownedActivityNode.3/@storyPattern/@objectVariable.0" type="//CFNode/mainAction"/>
            <linkVariable name="actions" target="//RegularPatternInvocation/isMultipleMatch/@activity/@ownedActivityNode.3/@storyPattern/@objectVariable.1" source="//RegularPatternInvocation/isMultipleMatch/@activity/@ownedActivityNode.3/@storyPattern/@objectVariable.0" type="//CFNode/actions"/>
          </storyPattern>
        </ownedActivityNode>
      </activity>
    </eOperations>
  </eClassifiers>
  <eClassifiers xsi:type="ecore:EClass" name="CFVariable">
    <eOperations xsi:type="activities:MoflonEOperation" name="isOnlyDefined">
      <eType xsi:type="ecore:EDataType" href="http://www.eclipse.org/emf/2002/Ecore#//EBoolean"/>
      <activity owningOperation="//CFVariable/isOnlyDefined">
        <ownedActivityEdge source="//CFVariable/isOnlyDefined/@activity/@ownedActivityNode.2" target="//CFVariable/isOnlyDefined/@activity/@ownedActivityNode.3"/>
        <ownedActivityEdge source="//CFVariable/isOnlyDefined/@activity/@ownedActivityNode.3" target="//CFVariable/isOnlyDefined/@activity/@ownedActivityNode.0" guard="SUCCESS"/>
        <ownedActivityEdge source="//CFVariable/isOnlyDefined/@activity/@ownedActivityNode.3" target="//CFVariable/isOnlyDefined/@activity/@ownedActivityNode.1" guard="FAILURE"/>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//CFVariable/isOnlyDefined/@activity/@ownedActivityEdge.1">
          <returnValue xsi:type="expressions:LiteralExpression" value="false"/>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//CFVariable/isOnlyDefined/@activity/@ownedActivityEdge.2">
          <returnValue xsi:type="expressions:LiteralExpression" value="true"/>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StartNode" outgoing="//CFVariable/isOnlyDefined/@activity/@ownedActivityEdge.0"/>
        <ownedActivityNode xsi:type="activities:StoryNode" name="HasAdditionalReference" comment="HasAdditionalReference" outgoing="//CFVariable/isOnlyDefined/@activity/@ownedActivityEdge.1 //CFVariable/isOnlyDefined/@activity/@ownedActivityEdge.2" incoming="//CFVariable/isOnlyDefined/@activity/@ownedActivityEdge.0">
          <storyPattern comment="HasAdditionalReference">
            <objectVariable type="//VariableReference" name="reference" outgoingLink="//CFVariable/isOnlyDefined/@activity/@ownedActivityNode.3/@storyPattern/@linkVariable.0 //CFVariable/isOnlyDefined/@activity/@ownedActivityNode.3/@storyPattern/@linkVariable.1"/>
            <objectVariable type="//PatternInvocation" name="referencingAction" incomingLink="//CFVariable/isOnlyDefined/@activity/@ownedActivityNode.3/@storyPattern/@linkVariable.1"/>
            <objectVariable type="//CFVariable" name="this" incomingLink="//CFVariable/isOnlyDefined/@activity/@ownedActivityNode.3/@storyPattern/@linkVariable.0" outgoingLink="//CFVariable/isOnlyDefined/@activity/@ownedActivityNode.3/@storyPattern/@linkVariable.2" bindingState="BOUND"/>
            <objectVariable type="//Action" name="definingAction" incomingLink="//CFVariable/isOnlyDefined/@activity/@ownedActivityNode.3/@storyPattern/@linkVariable.2"/>
            <linkVariable name="from" target="//CFVariable/isOnlyDefined/@activity/@ownedActivityNode.3/@storyPattern/@objectVariable.2" source="//CFVariable/isOnlyDefined/@activity/@ownedActivityNode.3/@storyPattern/@objectVariable.0" type="//VariableReference/from"/>
            <linkVariable name="invocation" target="//CFVariable/isOnlyDefined/@activity/@ownedActivityNode.3/@storyPattern/@objectVariable.1" source="//CFVariable/isOnlyDefined/@activity/@ownedActivityNode.3/@storyPattern/@objectVariable.0" type="//VariableReference/invocation"/>
            <linkVariable name="constructor" target="//CFVariable/isOnlyDefined/@activity/@ownedActivityNode.3/@storyPattern/@objectVariable.3" source="//CFVariable/isOnlyDefined/@activity/@ownedActivityNode.3/@storyPattern/@objectVariable.2" type="//CFVariable/constructor"/>
          </storyPattern>
        </ownedActivityNode>
      </activity>
    </eOperations>
    <eStructuralFeatures xsi:type="ecore:EReference" name="references" upperBound="-1" eType="//VariableReference" eOpposite="//VariableReference/from"/>
    <eStructuralFeatures xsi:type="ecore:EReference" name="scope" lowerBound="1" eType="//Scope" eOpposite="//Scope/variables"/>
    <eStructuralFeatures xsi:type="ecore:EReference" name="reassignments" upperBound="-1" eType="//Action" eOpposite="//Action/reassignedVariables"/>
    <eStructuralFeatures xsi:type="ecore:EReference" name="constructor" eType="//Action" eOpposite="//Action/constructedVariables"/>
    <eStructuralFeatures xsi:type="ecore:EReference" name="type" lowerBound="1">
      <eType xsi:type="ecore:EClass" href="http://www.eclipse.org/emf/2002/Ecore#//EClassifier"/>
    </eStructuralFeatures>
    <eStructuralFeatures xsi:type="ecore:EReference" name="destructors" upperBound="-1" eType="//NodeDeletion" eOpposite="//NodeDeletion/destructedVariables"/>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="local" ordered="false" lowerBound="1">
      <eType xsi:type="ecore:EDataType" href="http://www.eclipse.org/emf/2002/Ecore#//EBoolean"/>
    </eStructuralFeatures>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="name" ordered="false" lowerBound="1">
      <eType xsi:type="ecore:EDataType" href="http://www.eclipse.org/emf/2002/Ecore#//EString"/>
    </eStructuralFeatures>
  </eClassifiers>
  <eClassifiers xsi:type="ecore:EClass" name="CFNode">
    <eOperations xsi:type="activities:MoflonEOperation" name="accept">
      <eParameters name="visitor" eType="//Visitor"/>
      <activity owningOperation="//CFNode/accept">
        <ownedActivityEdge source="//CFNode/accept/@activity/@ownedActivityNode.0" target="//CFNode/accept/@activity/@ownedActivityNode.2"/>
        <ownedActivityEdge source="//CFNode/accept/@activity/@ownedActivityNode.1" target="//CFNode/accept/@activity/@ownedActivityNode.0"/>
        <ownedActivityEdge source="//CFNode/accept/@activity/@ownedActivityNode.2" target="//CFNode/accept/@activity/@ownedActivityNode.5"/>
        <ownedActivityEdge source="//CFNode/accept/@activity/@ownedActivityNode.4" target="//CFNode/accept/@activity/@ownedActivityNode.3"/>
        <ownedActivityEdge source="//CFNode/accept/@activity/@ownedActivityNode.5" target="//CFNode/accept/@activity/@ownedActivityNode.4" guard="SUCCESS"/>
        <ownedActivityEdge source="//CFNode/accept/@activity/@ownedActivityNode.5" target="//CFNode/accept/@activity/@ownedActivityNode.3" guard="FAILURE"/>
        <ownedActivityNode xsi:type="activities:StoryNode" name="LookupThisObject" comment="LookupThisObject" outgoing="//CFNode/accept/@activity/@ownedActivityEdge.0" incoming="//CFNode/accept/@activity/@ownedActivityEdge.1">
          <storyPattern comment="LookupThisObject">
            <objectVariable type="//CFNode" name="this" bindingState="BOUND"/>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StartNode" outgoing="//CFNode/accept/@activity/@ownedActivityEdge.1"/>
        <ownedActivityNode xsi:type="activities:StatementNode" name="VisitNode" outgoing="//CFNode/accept/@activity/@ownedActivityEdge.2" incoming="//CFNode/accept/@activity/@ownedActivityEdge.0">
          <statementExpression xsi:type="callExpressions:MethodCallExpression" callee="//Visitor/visitNode">
            <ownedParameterBindings parameter="//Visitor/visitNode/node">
              <valueExpression xsi:type="patternExpressions:ObjectVariableExpression" object="//CFNode/accept/@activity/@ownedActivityNode.5/@storyPattern/@objectVariable.0"/>
            </ownedParameterBindings>
            <target xsi:type="callExpressions:ParameterExpression" parameter="//CFNode/accept/visitor"/>
          </statementExpression>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//CFNode/accept/@activity/@ownedActivityEdge.3 //CFNode/accept/@activity/@ownedActivityEdge.5"/>
        <ownedActivityNode xsi:type="activities:StatementNode" name="TraverseNextNode" outgoing="//CFNode/accept/@activity/@ownedActivityEdge.3" incoming="//CFNode/accept/@activity/@ownedActivityEdge.4">
          <statementExpression xsi:type="callExpressions:MethodCallExpression" callee="//CFNode/accept">
            <ownedParameterBindings parameter="//CFNode/accept/visitor">
              <valueExpression xsi:type="callExpressions:ParameterExpression" parameter="//CFNode/accept/visitor"/>
            </ownedParameterBindings>
            <target xsi:type="patternExpressions:ObjectVariableExpression" object="//CFNode/accept/@activity/@ownedActivityNode.5/@storyPattern/@objectVariable.1"/>
          </statementExpression>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StoryNode" name="LookupNextNode" comment="LookupNextNode" outgoing="//CFNode/accept/@activity/@ownedActivityEdge.4 //CFNode/accept/@activity/@ownedActivityEdge.5" incoming="//CFNode/accept/@activity/@ownedActivityEdge.2">
          <storyPattern comment="LookupNextNode">
            <objectVariable type="//CFNode" name="this" outgoingLink="//CFNode/accept/@activity/@ownedActivityNode.5/@storyPattern/@linkVariable.0" bindingState="BOUND"/>
            <objectVariable type="//CFNode" name="next" incomingLink="//CFNode/accept/@activity/@ownedActivityNode.5/@storyPattern/@linkVariable.0"/>
            <linkVariable name="next" target="//CFNode/accept/@activity/@ownedActivityNode.5/@storyPattern/@objectVariable.1" source="//CFNode/accept/@activity/@ownedActivityNode.5/@storyPattern/@objectVariable.0" type="//CFNode/next"/>
          </storyPattern>
        </ownedActivityNode>
      </activity>
    </eOperations>
    <eOperations xsi:type="activities:MoflonEOperation" name="getRelevantScope" eType="//Scope">
      <activity owningOperation="//CFNode/getRelevantScope">
        <ownedActivityEdge source="//CFNode/getRelevantScope/@activity/@ownedActivityNode.0" target="//CFNode/getRelevantScope/@activity/@ownedActivityNode.2"/>
        <ownedActivityEdge source="//CFNode/getRelevantScope/@activity/@ownedActivityNode.1" target="//CFNode/getRelevantScope/@activity/@ownedActivityNode.0"/>
        <ownedActivityNode xsi:type="activities:StoryNode" name="LookupParentScope" comment="LookupParentScope" outgoing="//CFNode/getRelevantScope/@activity/@ownedActivityEdge.0" incoming="//CFNode/getRelevantScope/@activity/@ownedActivityEdge.1">
          <storyPattern comment="LookupParentScope">
            <objectVariable type="//Scope" name="parent" outgoingLink="//CFNode/getRelevantScope/@activity/@ownedActivityNode.0/@storyPattern/@linkVariable.0"/>
            <objectVariable type="//CFNode" name="this" incomingLink="//CFNode/getRelevantScope/@activity/@ownedActivityNode.0/@storyPattern/@linkVariable.0" bindingState="BOUND"/>
            <linkVariable name="contents" target="//CFNode/getRelevantScope/@activity/@ownedActivityNode.0/@storyPattern/@objectVariable.1" source="//CFNode/getRelevantScope/@activity/@ownedActivityNode.0/@storyPattern/@objectVariable.0" type="//Scope/contents"/>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StartNode" outgoing="//CFNode/getRelevantScope/@activity/@ownedActivityEdge.1"/>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//CFNode/getRelevantScope/@activity/@ownedActivityEdge.0">
          <returnValue xsi:type="patternExpressions:ObjectVariableExpression" object="//CFNode/getRelevantScope/@activity/@ownedActivityNode.0/@storyPattern/@objectVariable.0"/>
        </ownedActivityNode>
      </activity>
    </eOperations>
    <eStructuralFeatures xsi:type="ecore:EReference" name="scope" lowerBound="1" eType="//Scope" eOpposite="//Scope/contents"/>
    <eStructuralFeatures xsi:type="ecore:EReference" name="mainAction" eType="//Action"/>
    <eStructuralFeatures xsi:type="ecore:EReference" name="actions" upperBound="-1" eType="//Action" containment="true" eOpposite="//Action/cfNode"/>
    <eStructuralFeatures xsi:type="ecore:EReference" name="next" eType="//CFNode" eOpposite="//CFNode/prev"/>
    <eStructuralFeatures xsi:type="ecore:EReference" name="prev" eType="//CFNode" eOpposite="//CFNode/next"/>
    <eStructuralFeatures xsi:type="ecore:EReference" name="origin">
      <eType xsi:type="ecore:EClass" href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//activities/ActivityNode"/>
    </eStructuralFeatures>
    <eStructuralFeatures xsi:type="ecore:EReference" name="header" eType="//RepetitionNode" eOpposite="//RepetitionNode/lastNodes"/>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="id" ordered="false" lowerBound="1">
      <eType xsi:type="ecore:EDataType" href="http://www.eclipse.org/emf/2002/Ecore#//EInt"/>
    </eStructuralFeatures>
  </eClassifiers>
  <eClassifiers xsi:type="ecore:EClass" name="BindingPatternInvocation" eSuperTypes="//RegularPatternInvocation"/>
  <eClassifiers xsi:type="ecore:EDataType" name="Adornment" instanceClassName="org.gervarro.democles.common.Adornment"/>
  <eClassifiers xsi:type="ecore:EClass" name="SingleResultPatternInvocation" eSuperTypes="//PatternInvocation">
    <eStructuralFeatures xsi:type="ecore:EReference" name="returnType">
      <eType xsi:type="ecore:EClass" href="http://www.eclipse.org/emf/2002/Ecore#//EClassifier"/>
    </eStructuralFeatures>
  </eClassifiers>
  <eClassifiers xsi:type="ecore:EClass" name="Scope">
    <eOperations xsi:type="activities:MoflonEOperation" name="accept">
      <eParameters name="visitor" eType="//Visitor"/>
      <activity owningOperation="//Scope/accept">
        <ownedActivityEdge source="//Scope/accept/@activity/@ownedActivityNode.0" target="//Scope/accept/@activity/@ownedActivityNode.5"/>
        <ownedActivityEdge source="//Scope/accept/@activity/@ownedActivityNode.2" target="//Scope/accept/@activity/@ownedActivityNode.4" guard="SUCCESS"/>
        <ownedActivityEdge source="//Scope/accept/@activity/@ownedActivityNode.2" target="//Scope/accept/@activity/@ownedActivityNode.1" guard="FAILURE"/>
        <ownedActivityEdge source="//Scope/accept/@activity/@ownedActivityNode.3" target="//Scope/accept/@activity/@ownedActivityNode.0"/>
        <ownedActivityEdge source="//Scope/accept/@activity/@ownedActivityNode.4" target="//Scope/accept/@activity/@ownedActivityNode.1"/>
        <ownedActivityEdge source="//Scope/accept/@activity/@ownedActivityNode.5" target="//Scope/accept/@activity/@ownedActivityNode.2"/>
        <ownedActivityNode xsi:type="activities:StoryNode" name="LookupThisObject" comment="LookupThisObject" outgoing="//Scope/accept/@activity/@ownedActivityEdge.0" incoming="//Scope/accept/@activity/@ownedActivityEdge.3">
          <storyPattern comment="LookupThisObject">
            <objectVariable type="//Scope" name="this" bindingState="BOUND"/>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//Scope/accept/@activity/@ownedActivityEdge.2 //Scope/accept/@activity/@ownedActivityEdge.4"/>
        <ownedActivityNode xsi:type="activities:StoryNode" name="LookupFirstNode" comment="LookupFirstNode" outgoing="//Scope/accept/@activity/@ownedActivityEdge.1 //Scope/accept/@activity/@ownedActivityEdge.2" incoming="//Scope/accept/@activity/@ownedActivityEdge.5">
          <storyPattern comment="LookupFirstNode">
            <objectVariable type="//CFNode" name="previousNode" incomingLink="//Scope/accept/@activity/@ownedActivityNode.2/@storyPattern/@linkVariable.1" bindingSemantics="NEGATIVE"/>
            <objectVariable type="//Scope" name="this" outgoingLink="//Scope/accept/@activity/@ownedActivityNode.2/@storyPattern/@linkVariable.0" bindingState="BOUND"/>
            <objectVariable type="//CFNode" name="node" incomingLink="//Scope/accept/@activity/@ownedActivityNode.2/@storyPattern/@linkVariable.0" outgoingLink="//Scope/accept/@activity/@ownedActivityNode.2/@storyPattern/@linkVariable.1"/>
            <linkVariable name="contents" target="//Scope/accept/@activity/@ownedActivityNode.2/@storyPattern/@objectVariable.2" source="//Scope/accept/@activity/@ownedActivityNode.2/@storyPattern/@objectVariable.1" type="//Scope/contents"/>
            <linkVariable name="prev" target="//Scope/accept/@activity/@ownedActivityNode.2/@storyPattern/@objectVariable.0" source="//Scope/accept/@activity/@ownedActivityNode.2/@storyPattern/@objectVariable.2" type="//CFNode/prev"/>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StartNode" outgoing="//Scope/accept/@activity/@ownedActivityEdge.3"/>
        <ownedActivityNode xsi:type="activities:StatementNode" name="TraverseScopeContent" outgoing="//Scope/accept/@activity/@ownedActivityEdge.4" incoming="//Scope/accept/@activity/@ownedActivityEdge.1">
          <statementExpression xsi:type="callExpressions:MethodCallExpression" callee="//CFNode/accept">
            <ownedParameterBindings parameter="//CFNode/accept/visitor">
              <valueExpression xsi:type="callExpressions:ParameterExpression" parameter="//Scope/accept/visitor"/>
            </ownedParameterBindings>
            <target xsi:type="patternExpressions:ObjectVariableExpression" object="//Scope/accept/@activity/@ownedActivityNode.2/@storyPattern/@objectVariable.2"/>
          </statementExpression>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StatementNode" name="VisitScope" outgoing="//Scope/accept/@activity/@ownedActivityEdge.5" incoming="//Scope/accept/@activity/@ownedActivityEdge.0">
          <statementExpression xsi:type="callExpressions:MethodCallExpression" callee="//Visitor/visitScope">
            <ownedParameterBindings parameter="//Visitor/visitScope/scope">
              <valueExpression xsi:type="patternExpressions:ObjectVariableExpression" object="//Scope/accept/@activity/@ownedActivityNode.0/@storyPattern/@objectVariable.0"/>
            </ownedParameterBindings>
            <target xsi:type="callExpressions:ParameterExpression" parameter="//Scope/accept/visitor"/>
          </statementExpression>
        </ownedActivityNode>
      </activity>
    </eOperations>
    <eStructuralFeatures xsi:type="ecore:EReference" name="parent" eType="//CompoundNode" eOpposite="//CompoundNode/scopes"/>
    <eStructuralFeatures xsi:type="ecore:EReference" name="nextScope" eType="//Scope" containment="true" eOpposite="//Scope/previousScope"/>
    <eStructuralFeatures xsi:type="ecore:EReference" name="previousScope" eType="//Scope" eOpposite="//Scope/nextScope"/>
    <eStructuralFeatures xsi:type="ecore:EReference" name="contents" upperBound="-1" eType="//CFNode" containment="true" eOpposite="//CFNode/scope"/>
    <eStructuralFeatures xsi:type="ecore:EReference" name="variables" upperBound="-1" eType="//CFVariable" containment="true" eOpposite="//CFVariable/scope"/>
  </eClassifiers>
  <eClassifiers xsi:type="ecore:EClass" name="Action">
    <eOperations xsi:type="activities:MoflonEOperation" name="hasReferencedFreeParameters">
      <eType xsi:type="ecore:EDataType" href="http://www.eclipse.org/emf/2002/Ecore#//EBoolean"/>
      <activity owningOperation="//Action/hasReferencedFreeParameters">
        <ownedActivityEdge source="//Action/hasReferencedFreeParameters/@activity/@ownedActivityNode.0" target="//Action/hasReferencedFreeParameters/@activity/@ownedActivityNode.1"/>
        <ownedActivityEdge source="//Action/hasReferencedFreeParameters/@activity/@ownedActivityNode.1" target="//Action/hasReferencedFreeParameters/@activity/@ownedActivityNode.2"/>
        <ownedActivityNode xsi:type="activities:StartNode" outgoing="//Action/hasReferencedFreeParameters/@activity/@ownedActivityEdge.0"/>
        <ownedActivityNode xsi:type="activities:StoryNode" name="DoNothing" comment="DoNothing" outgoing="//Action/hasReferencedFreeParameters/@activity/@ownedActivityEdge.1" incoming="//Action/hasReferencedFreeParameters/@activity/@ownedActivityEdge.0">
          <storyPattern comment="DoNothing"/>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//Action/hasReferencedFreeParameters/@activity/@ownedActivityEdge.1">
          <returnValue xsi:type="expressions:LiteralExpression" value="false"/>
        </ownedActivityNode>
      </activity>
    </eOperations>
    <eStructuralFeatures xsi:type="ecore:EReference" name="reassignedVariables" upperBound="-1" eType="//CFVariable" eOpposite="//CFVariable/reassignments"/>
    <eStructuralFeatures xsi:type="ecore:EReference" name="cfNode" lowerBound="1" eType="//CFNode" eOpposite="//CFNode/actions"/>
    <eStructuralFeatures xsi:type="ecore:EReference" name="constructedVariables" upperBound="-1" eType="//CFVariable" eOpposite="//CFVariable/constructor"/>
    <eStructuralFeatures xsi:type="ecore:EReference" name="next" eType="//Action" eOpposite="//Action/prev"/>
    <eStructuralFeatures xsi:type="ecore:EReference" name="prev" eType="//Action" eOpposite="//Action/next"/>
  </eClassifiers>
  <eClassifiers xsi:type="ecore:EClass" name="UniformNoOperationVisitor" eSuperTypes="//Visitor">
    <eOperations xsi:type="activities:MoflonEOperation" name="visitForEach">
      <eParameters name="forEach" eType="//ForEach"/>
      <activity owningOperation="//UniformNoOperationVisitor/visitForEach">
        <ownedActivityEdge source="//UniformNoOperationVisitor/visitForEach/@activity/@ownedActivityNode.0" target="//UniformNoOperationVisitor/visitForEach/@activity/@ownedActivityNode.2"/>
        <ownedActivityEdge source="//UniformNoOperationVisitor/visitForEach/@activity/@ownedActivityNode.1" target="//UniformNoOperationVisitor/visitForEach/@activity/@ownedActivityNode.3"/>
        <ownedActivityEdge source="//UniformNoOperationVisitor/visitForEach/@activity/@ownedActivityNode.2" target="//UniformNoOperationVisitor/visitForEach/@activity/@ownedActivityNode.1"/>
        <ownedActivityNode xsi:type="activities:StartNode" outgoing="//UniformNoOperationVisitor/visitForEach/@activity/@ownedActivityEdge.0"/>
        <ownedActivityNode xsi:type="activities:StatementNode" name="PerformVisit" outgoing="//UniformNoOperationVisitor/visitForEach/@activity/@ownedActivityEdge.1" incoming="//UniformNoOperationVisitor/visitForEach/@activity/@ownedActivityEdge.2">
          <statementExpression xsi:type="callExpressions:MethodCallExpression" callee="//Visitor/visitNode">
            <ownedParameterBindings parameter="//Visitor/visitNode/node">
              <valueExpression xsi:type="callExpressions:ParameterExpression" parameter="//UniformNoOperationVisitor/visitForEach/forEach"/>
            </ownedParameterBindings>
            <target xsi:type="patternExpressions:ObjectVariableExpression" object="//UniformNoOperationVisitor/visitForEach/@activity/@ownedActivityNode.2/@storyPattern/@objectVariable.0"/>
          </statementExpression>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StoryNode" name="LookupThisObject" comment="LookupThisObject" outgoing="//UniformNoOperationVisitor/visitForEach/@activity/@ownedActivityEdge.2" incoming="//UniformNoOperationVisitor/visitForEach/@activity/@ownedActivityEdge.0">
          <storyPattern comment="LookupThisObject">
            <objectVariable type="//UniformNoOperationVisitor" name="this" bindingState="BOUND"/>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//UniformNoOperationVisitor/visitForEach/@activity/@ownedActivityEdge.1"/>
      </activity>
    </eOperations>
    <eOperations xsi:type="activities:MoflonEOperation" name="visitHeadControlledLoop">
      <eParameters name="headControlledLoop" eType="//HeadControlledLoop"/>
      <activity owningOperation="//UniformNoOperationVisitor/visitHeadControlledLoop">
        <ownedActivityEdge source="//UniformNoOperationVisitor/visitHeadControlledLoop/@activity/@ownedActivityNode.0" target="//UniformNoOperationVisitor/visitHeadControlledLoop/@activity/@ownedActivityNode.3"/>
        <ownedActivityEdge source="//UniformNoOperationVisitor/visitHeadControlledLoop/@activity/@ownedActivityNode.2" target="//UniformNoOperationVisitor/visitHeadControlledLoop/@activity/@ownedActivityNode.1"/>
        <ownedActivityEdge source="//UniformNoOperationVisitor/visitHeadControlledLoop/@activity/@ownedActivityNode.3" target="//UniformNoOperationVisitor/visitHeadControlledLoop/@activity/@ownedActivityNode.2"/>
        <ownedActivityNode xsi:type="activities:StartNode" outgoing="//UniformNoOperationVisitor/visitHeadControlledLoop/@activity/@ownedActivityEdge.0"/>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//UniformNoOperationVisitor/visitHeadControlledLoop/@activity/@ownedActivityEdge.1"/>
        <ownedActivityNode xsi:type="activities:StatementNode" name="PerformVisit" outgoing="//UniformNoOperationVisitor/visitHeadControlledLoop/@activity/@ownedActivityEdge.1" incoming="//UniformNoOperationVisitor/visitHeadControlledLoop/@activity/@ownedActivityEdge.2">
          <statementExpression xsi:type="callExpressions:MethodCallExpression" callee="//Visitor/visitNode">
            <ownedParameterBindings parameter="//Visitor/visitNode/node">
              <valueExpression xsi:type="callExpressions:ParameterExpression" parameter="//UniformNoOperationVisitor/visitHeadControlledLoop/headControlledLoop"/>
            </ownedParameterBindings>
            <target xsi:type="patternExpressions:ObjectVariableExpression" object="//UniformNoOperationVisitor/visitHeadControlledLoop/@activity/@ownedActivityNode.3/@storyPattern/@objectVariable.0"/>
          </statementExpression>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StoryNode" name="LookupThisObject" comment="LookupThisObject" outgoing="//UniformNoOperationVisitor/visitHeadControlledLoop/@activity/@ownedActivityEdge.2" incoming="//UniformNoOperationVisitor/visitHeadControlledLoop/@activity/@ownedActivityEdge.0">
          <storyPattern comment="LookupThisObject">
            <objectVariable type="//UniformNoOperationVisitor" name="this" bindingState="BOUND"/>
          </storyPattern>
        </ownedActivityNode>
      </activity>
    </eOperations>
    <eOperations xsi:type="activities:MoflonEOperation" name="visitIfStatement">
      <eParameters name="ifStatement" eType="//IfStatement"/>
      <activity owningOperation="//UniformNoOperationVisitor/visitIfStatement">
        <ownedActivityEdge source="//UniformNoOperationVisitor/visitIfStatement/@activity/@ownedActivityNode.0" target="//UniformNoOperationVisitor/visitIfStatement/@activity/@ownedActivityNode.3"/>
        <ownedActivityEdge source="//UniformNoOperationVisitor/visitIfStatement/@activity/@ownedActivityNode.1" target="//UniformNoOperationVisitor/visitIfStatement/@activity/@ownedActivityNode.2"/>
        <ownedActivityEdge source="//UniformNoOperationVisitor/visitIfStatement/@activity/@ownedActivityNode.2" target="//UniformNoOperationVisitor/visitIfStatement/@activity/@ownedActivityNode.0"/>
        <ownedActivityNode xsi:type="activities:StatementNode" name="PerformVisit" outgoing="//UniformNoOperationVisitor/visitIfStatement/@activity/@ownedActivityEdge.0" incoming="//UniformNoOperationVisitor/visitIfStatement/@activity/@ownedActivityEdge.2">
          <statementExpression xsi:type="callExpressions:MethodCallExpression" callee="//Visitor/visitNode">
            <ownedParameterBindings parameter="//Visitor/visitNode/node">
              <valueExpression xsi:type="callExpressions:ParameterExpression" parameter="//UniformNoOperationVisitor/visitIfStatement/ifStatement"/>
            </ownedParameterBindings>
            <target xsi:type="patternExpressions:ObjectVariableExpression" object="//UniformNoOperationVisitor/visitIfStatement/@activity/@ownedActivityNode.2/@storyPattern/@objectVariable.0"/>
          </statementExpression>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StartNode" outgoing="//UniformNoOperationVisitor/visitIfStatement/@activity/@ownedActivityEdge.1"/>
        <ownedActivityNode xsi:type="activities:StoryNode" name="LookupThisObject" comment="LookupThisObject" outgoing="//UniformNoOperationVisitor/visitIfStatement/@activity/@ownedActivityEdge.2" incoming="//UniformNoOperationVisitor/visitIfStatement/@activity/@ownedActivityEdge.1">
          <storyPattern comment="LookupThisObject">
            <objectVariable type="//UniformNoOperationVisitor" name="this" bindingState="BOUND"/>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//UniformNoOperationVisitor/visitIfStatement/@activity/@ownedActivityEdge.0"/>
      </activity>
    </eOperations>
    <eOperations xsi:type="activities:MoflonEOperation" name="visitTailControlledLoop">
      <eParameters name="tailControlledLoop" eType="//TailControlledLoop"/>
      <activity owningOperation="//UniformNoOperationVisitor/visitTailControlledLoop">
        <ownedActivityEdge source="//UniformNoOperationVisitor/visitTailControlledLoop/@activity/@ownedActivityNode.1" target="//UniformNoOperationVisitor/visitTailControlledLoop/@activity/@ownedActivityNode.2"/>
        <ownedActivityEdge source="//UniformNoOperationVisitor/visitTailControlledLoop/@activity/@ownedActivityNode.2" target="//UniformNoOperationVisitor/visitTailControlledLoop/@activity/@ownedActivityNode.3"/>
        <ownedActivityEdge source="//UniformNoOperationVisitor/visitTailControlledLoop/@activity/@ownedActivityNode.3" target="//UniformNoOperationVisitor/visitTailControlledLoop/@activity/@ownedActivityNode.0"/>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//UniformNoOperationVisitor/visitTailControlledLoop/@activity/@ownedActivityEdge.2"/>
        <ownedActivityNode xsi:type="activities:StartNode" outgoing="//UniformNoOperationVisitor/visitTailControlledLoop/@activity/@ownedActivityEdge.0"/>
        <ownedActivityNode xsi:type="activities:StoryNode" name="LookupThisObject" comment="LookupThisObject" outgoing="//UniformNoOperationVisitor/visitTailControlledLoop/@activity/@ownedActivityEdge.1" incoming="//UniformNoOperationVisitor/visitTailControlledLoop/@activity/@ownedActivityEdge.0">
          <storyPattern comment="LookupThisObject">
            <objectVariable type="//UniformNoOperationVisitor" name="this" bindingState="BOUND"/>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StatementNode" name="PerformVisit" outgoing="//UniformNoOperationVisitor/visitTailControlledLoop/@activity/@ownedActivityEdge.2" incoming="//UniformNoOperationVisitor/visitTailControlledLoop/@activity/@ownedActivityEdge.1">
          <statementExpression xsi:type="callExpressions:MethodCallExpression" callee="//Visitor/visitNode">
            <ownedParameterBindings parameter="//Visitor/visitNode/node">
              <valueExpression xsi:type="callExpressions:ParameterExpression" parameter="//UniformNoOperationVisitor/visitTailControlledLoop/tailControlledLoop"/>
            </ownedParameterBindings>
            <target xsi:type="patternExpressions:ObjectVariableExpression" object="//UniformNoOperationVisitor/visitTailControlledLoop/@activity/@ownedActivityNode.2/@storyPattern/@objectVariable.0"/>
          </statementExpression>
        </ownedActivityNode>
      </activity>
    </eOperations>
  </eClassifiers>
  <eClassifiers xsi:type="ecore:EClass" name="NodeDeletion" eSuperTypes="//Action">
    <eStructuralFeatures xsi:type="ecore:EReference" name="destructedVariables" upperBound="-1" eType="//CFVariable" eOpposite="//CFVariable/destructors"/>
  </eClassifiers>
  <eClassifiers xsi:type="ecore:EClass" name="IfStatement" eSuperTypes="//CompoundNode">
    <eOperations xsi:type="activities:MoflonEOperation" name="accept">
      <eParameters name="visitor" eType="//Visitor"/>
      <activity owningOperation="//IfStatement/accept">
        <ownedActivityEdge source="//IfStatement/accept/@activity/@ownedActivityNode.0" target="//IfStatement/accept/@activity/@ownedActivityNode.3"/>
        <ownedActivityEdge source="//IfStatement/accept/@activity/@ownedActivityNode.1" target="//IfStatement/accept/@activity/@ownedActivityNode.6"/>
        <ownedActivityEdge source="//IfStatement/accept/@activity/@ownedActivityNode.2" target="//IfStatement/accept/@activity/@ownedActivityNode.5"/>
        <ownedActivityEdge source="//IfStatement/accept/@activity/@ownedActivityNode.4" target="//IfStatement/accept/@activity/@ownedActivityNode.3" guard="FAILURE"/>
        <ownedActivityEdge source="//IfStatement/accept/@activity/@ownedActivityNode.4" target="//IfStatement/accept/@activity/@ownedActivityNode.0" guard="SUCCESS"/>
        <ownedActivityEdge source="//IfStatement/accept/@activity/@ownedActivityNode.5" target="//IfStatement/accept/@activity/@ownedActivityNode.7"/>
        <ownedActivityEdge source="//IfStatement/accept/@activity/@ownedActivityNode.6" target="//IfStatement/accept/@activity/@ownedActivityNode.2"/>
        <ownedActivityEdge source="//IfStatement/accept/@activity/@ownedActivityNode.7" target="//IfStatement/accept/@activity/@ownedActivityNode.4"/>
        <ownedActivityEdge source="//IfStatement/accept/@activity/@ownedActivityNode.8" target="//IfStatement/accept/@activity/@ownedActivityNode.1"/>
        <ownedActivityNode xsi:type="activities:StatementNode" name="TraverseNextNode" outgoing="//IfStatement/accept/@activity/@ownedActivityEdge.0" incoming="//IfStatement/accept/@activity/@ownedActivityEdge.4">
          <statementExpression xsi:type="callExpressions:MethodCallExpression" callee="//CFNode/accept">
            <ownedParameterBindings parameter="//CFNode/accept/visitor">
              <valueExpression xsi:type="callExpressions:ParameterExpression" parameter="//IfStatement/accept/visitor"/>
            </ownedParameterBindings>
            <target xsi:type="patternExpressions:ObjectVariableExpression" object="//IfStatement/accept/@activity/@ownedActivityNode.4/@storyPattern/@objectVariable.0"/>
          </statementExpression>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StoryNode" name="LookupThisObject" comment="LookupThisObject" outgoing="//IfStatement/accept/@activity/@ownedActivityEdge.1" incoming="//IfStatement/accept/@activity/@ownedActivityEdge.8">
          <storyPattern comment="LookupThisObject">
            <objectVariable type="//IfStatement" name="this" bindingState="BOUND"/>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StoryNode" name="LookupBranches" comment="LookupBranches" outgoing="//IfStatement/accept/@activity/@ownedActivityEdge.2" incoming="//IfStatement/accept/@activity/@ownedActivityEdge.6">
          <storyPattern comment="LookupBranches">
            <objectVariable type="//IfStatement" name="this" incomingLink="//IfStatement/accept/@activity/@ownedActivityNode.2/@storyPattern/@linkVariable.0 //IfStatement/accept/@activity/@ownedActivityNode.2/@storyPattern/@linkVariable.1" bindingState="BOUND"/>
            <objectVariable type="//Scope" name="firstBranch" outgoingLink="//IfStatement/accept/@activity/@ownedActivityNode.2/@storyPattern/@linkVariable.0"/>
            <objectVariable type="//Scope" name="secondBranch" outgoingLink="//IfStatement/accept/@activity/@ownedActivityNode.2/@storyPattern/@linkVariable.1"/>
            <linkVariable name="parent" target="//IfStatement/accept/@activity/@ownedActivityNode.2/@storyPattern/@objectVariable.0" source="//IfStatement/accept/@activity/@ownedActivityNode.2/@storyPattern/@objectVariable.1" type="//Scope/parent"/>
            <linkVariable name="parent" target="//IfStatement/accept/@activity/@ownedActivityNode.2/@storyPattern/@objectVariable.0" source="//IfStatement/accept/@activity/@ownedActivityNode.2/@storyPattern/@objectVariable.2" type="//Scope/parent"/>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//IfStatement/accept/@activity/@ownedActivityEdge.0 //IfStatement/accept/@activity/@ownedActivityEdge.3"/>
        <ownedActivityNode xsi:type="activities:StoryNode" name="LookupNextNode" comment="LookupNextNode" outgoing="//IfStatement/accept/@activity/@ownedActivityEdge.3 //IfStatement/accept/@activity/@ownedActivityEdge.4" incoming="//IfStatement/accept/@activity/@ownedActivityEdge.7">
          <storyPattern comment="LookupNextNode">
            <objectVariable type="//CFNode" name="nextNode" incomingLink="//IfStatement/accept/@activity/@ownedActivityNode.4/@storyPattern/@linkVariable.0"/>
            <objectVariable type="//IfStatement" name="this" outgoingLink="//IfStatement/accept/@activity/@ownedActivityNode.4/@storyPattern/@linkVariable.0" bindingState="BOUND"/>
            <linkVariable name="next" target="//IfStatement/accept/@activity/@ownedActivityNode.4/@storyPattern/@objectVariable.0" source="//IfStatement/accept/@activity/@ownedActivityNode.4/@storyPattern/@objectVariable.1" type="//CFNode/next"/>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StatementNode" name="TraverseFirstBranch" outgoing="//IfStatement/accept/@activity/@ownedActivityEdge.5" incoming="//IfStatement/accept/@activity/@ownedActivityEdge.2">
          <statementExpression xsi:type="callExpressions:MethodCallExpression" callee="//Scope/accept">
            <ownedParameterBindings parameter="//Scope/accept/visitor">
              <valueExpression xsi:type="callExpressions:ParameterExpression" parameter="//IfStatement/accept/visitor"/>
            </ownedParameterBindings>
            <target xsi:type="patternExpressions:ObjectVariableExpression" object="//IfStatement/accept/@activity/@ownedActivityNode.2/@storyPattern/@objectVariable.1"/>
          </statementExpression>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StatementNode" name="VisitNode" outgoing="//IfStatement/accept/@activity/@ownedActivityEdge.6" incoming="//IfStatement/accept/@activity/@ownedActivityEdge.1">
          <statementExpression xsi:type="callExpressions:MethodCallExpression" callee="//Visitor/visitIfStatement">
            <ownedParameterBindings parameter="//Visitor/visitIfStatement/ifStatement">
              <valueExpression xsi:type="patternExpressions:ObjectVariableExpression" object="//IfStatement/accept/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.0"/>
            </ownedParameterBindings>
            <target xsi:type="callExpressions:ParameterExpression" parameter="//IfStatement/accept/visitor"/>
          </statementExpression>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StatementNode" name="TraverseSecondBranch" outgoing="//IfStatement/accept/@activity/@ownedActivityEdge.7" incoming="//IfStatement/accept/@activity/@ownedActivityEdge.5">
          <statementExpression xsi:type="callExpressions:MethodCallExpression" callee="//Scope/accept">
            <ownedParameterBindings parameter="//Scope/accept/visitor">
              <valueExpression xsi:type="callExpressions:ParameterExpression" parameter="//IfStatement/accept/visitor"/>
            </ownedParameterBindings>
            <target xsi:type="patternExpressions:ObjectVariableExpression" object="//IfStatement/accept/@activity/@ownedActivityNode.2/@storyPattern/@objectVariable.2"/>
          </statementExpression>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StartNode" outgoing="//IfStatement/accept/@activity/@ownedActivityEdge.8"/>
      </activity>
    </eOperations>
    <eOperations xsi:type="activities:MoflonEOperation" name="getRelevantScope" eType="//Scope">
      <activity owningOperation="//IfStatement/getRelevantScope">
        <ownedActivityEdge source="//IfStatement/getRelevantScope/@activity/@ownedActivityNode.0" target="//IfStatement/getRelevantScope/@activity/@ownedActivityNode.2"/>
        <ownedActivityEdge source="//IfStatement/getRelevantScope/@activity/@ownedActivityNode.1" target="//IfStatement/getRelevantScope/@activity/@ownedActivityNode.0"/>
        <ownedActivityEdge source="//IfStatement/getRelevantScope/@activity/@ownedActivityNode.3" target="//IfStatement/getRelevantScope/@activity/@ownedActivityNode.1"/>
        <ownedActivityNode xsi:type="activities:StoryNode" name="LookupSecondScope" comment="LookupSecondScope" outgoing="//IfStatement/getRelevantScope/@activity/@ownedActivityEdge.0" incoming="//IfStatement/getRelevantScope/@activity/@ownedActivityEdge.1">
          <storyPattern comment="LookupSecondScope">
            <objectVariable type="//Scope" name="firstScope" bindingState="BOUND"/>
            <objectVariable type="//IfStatement" name="this" incomingLink="//IfStatement/getRelevantScope/@activity/@ownedActivityNode.0/@storyPattern/@linkVariable.0" bindingState="BOUND"/>
            <objectVariable type="//Scope" name="secondScope" outgoingLink="//IfStatement/getRelevantScope/@activity/@ownedActivityNode.0/@storyPattern/@linkVariable.0"/>
            <linkVariable name="parent" target="//IfStatement/getRelevantScope/@activity/@ownedActivityNode.0/@storyPattern/@objectVariable.1" source="//IfStatement/getRelevantScope/@activity/@ownedActivityNode.0/@storyPattern/@objectVariable.2" type="//Scope/parent"/>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StoryNode" name="LookupFirstScope" comment="LookupFirstScope" outgoing="//IfStatement/getRelevantScope/@activity/@ownedActivityEdge.1" incoming="//IfStatement/getRelevantScope/@activity/@ownedActivityEdge.2">
          <storyPattern comment="LookupFirstScope">
            <objectVariable type="//Scope" name="firstScope" outgoingLink="//IfStatement/getRelevantScope/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.0"/>
            <objectVariable type="//IfStatement" name="this" incomingLink="//IfStatement/getRelevantScope/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.0" bindingState="BOUND"/>
            <linkVariable name="parent" target="//IfStatement/getRelevantScope/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.1" source="//IfStatement/getRelevantScope/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.0" type="//Scope/parent"/>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//IfStatement/getRelevantScope/@activity/@ownedActivityEdge.0">
          <returnValue xsi:type="patternExpressions:ObjectVariableExpression" object="//IfStatement/getRelevantScope/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.0"/>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StartNode" outgoing="//IfStatement/getRelevantScope/@activity/@ownedActivityEdge.2"/>
      </activity>
    </eOperations>
  </eClassifiers>
  <eClassifiers xsi:type="ecore:EClass" name="PatternInvocation" abstract="true" eSuperTypes="//Action">
    <eOperations xsi:type="activities:MoflonEOperation" name="hasReferencedFreeParameters">
      <eType xsi:type="ecore:EDataType" href="http://www.eclipse.org/emf/2002/Ecore#//EBoolean"/>
      <activity owningOperation="//PatternInvocation/hasReferencedFreeParameters">
        <ownedActivityEdge source="//PatternInvocation/hasReferencedFreeParameters/@activity/@ownedActivityNode.0" target="//PatternInvocation/hasReferencedFreeParameters/@activity/@ownedActivityNode.1"/>
        <ownedActivityEdge source="//PatternInvocation/hasReferencedFreeParameters/@activity/@ownedActivityNode.1" target="//PatternInvocation/hasReferencedFreeParameters/@activity/@ownedActivityNode.2" guard="SUCCESS"/>
        <ownedActivityEdge source="//PatternInvocation/hasReferencedFreeParameters/@activity/@ownedActivityNode.1" target="//PatternInvocation/hasReferencedFreeParameters/@activity/@ownedActivityNode.3" guard="FAILURE"/>
        <ownedActivityNode xsi:type="activities:StartNode" outgoing="//PatternInvocation/hasReferencedFreeParameters/@activity/@ownedActivityEdge.0"/>
        <ownedActivityNode xsi:type="activities:StoryNode" name="HasReferencedFreeParameter" comment="HasReferencedFreeParameter" outgoing="//PatternInvocation/hasReferencedFreeParameters/@activity/@ownedActivityEdge.1 //PatternInvocation/hasReferencedFreeParameters/@activity/@ownedActivityEdge.2" incoming="//PatternInvocation/hasReferencedFreeParameters/@activity/@ownedActivityEdge.0">
          <storyPattern comment="HasReferencedFreeParameter">
            <objectVariable type="//PatternInvocation" name="this" incomingLink="//PatternInvocation/hasReferencedFreeParameters/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.3 //PatternInvocation/hasReferencedFreeParameters/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.0" bindingState="BOUND"/>
            <objectVariable type="//VariableReference" name="parameter" outgoingLink="//PatternInvocation/hasReferencedFreeParameters/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.1 //PatternInvocation/hasReferencedFreeParameters/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.0"/>
            <objectVariable type="//CFVariable" name="variable" incomingLink="//PatternInvocation/hasReferencedFreeParameters/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.1 //PatternInvocation/hasReferencedFreeParameters/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.2" outgoingLink="//PatternInvocation/hasReferencedFreeParameters/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.3"/>
            <objectVariable type="//VariableReference" name="reference" outgoingLink="//PatternInvocation/hasReferencedFreeParameters/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.2"/>
            <linkVariable name="invocation" target="//PatternInvocation/hasReferencedFreeParameters/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.0" source="//PatternInvocation/hasReferencedFreeParameters/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.1" type="//VariableReference/invocation"/>
            <linkVariable name="from" target="//PatternInvocation/hasReferencedFreeParameters/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.2" source="//PatternInvocation/hasReferencedFreeParameters/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.1" type="//VariableReference/from"/>
            <linkVariable name="from" target="//PatternInvocation/hasReferencedFreeParameters/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.2" source="//PatternInvocation/hasReferencedFreeParameters/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.3" type="//VariableReference/from"/>
            <linkVariable name="constructor" target="//PatternInvocation/hasReferencedFreeParameters/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.0" source="//PatternInvocation/hasReferencedFreeParameters/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.2" type="//CFVariable/constructor"/>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//PatternInvocation/hasReferencedFreeParameters/@activity/@ownedActivityEdge.1">
          <returnValue xsi:type="expressions:LiteralExpression" value="true"/>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//PatternInvocation/hasReferencedFreeParameters/@activity/@ownedActivityEdge.2">
          <returnValue xsi:type="expressions:LiteralExpression" value="false"/>
        </ownedActivityNode>
      </activity>
    </eOperations>
    <eOperations xsi:type="activities:MoflonEOperation" name="isMultipleMatch">
      <eType xsi:type="ecore:EDataType" href="http://www.eclipse.org/emf/2002/Ecore#//EBoolean"/>
      <activity owningOperation="//PatternInvocation/isMultipleMatch">
        <ownedActivityEdge source="//PatternInvocation/isMultipleMatch/@activity/@ownedActivityNode.1" target="//PatternInvocation/isMultipleMatch/@activity/@ownedActivityNode.0"/>
        <ownedActivityEdge source="//PatternInvocation/isMultipleMatch/@activity/@ownedActivityNode.2" target="//PatternInvocation/isMultipleMatch/@activity/@ownedActivityNode.1"/>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//PatternInvocation/isMultipleMatch/@activity/@ownedActivityEdge.0">
          <returnValue xsi:type="expressions:LiteralExpression" value="false"/>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StoryNode" name="DoNothing" comment="DoNothing" outgoing="//PatternInvocation/isMultipleMatch/@activity/@ownedActivityEdge.0" incoming="//PatternInvocation/isMultipleMatch/@activity/@ownedActivityEdge.1">
          <storyPattern comment="DoNothing"/>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StartNode" outgoing="//PatternInvocation/isMultipleMatch/@activity/@ownedActivityEdge.1"/>
      </activity>
    </eOperations>
    <eStructuralFeatures xsi:type="ecore:EReference" name="pattern" lowerBound="1">
      <eType xsi:type="ecore:EClass" href="http://gervarro.org/democles/specification.ecore#//Pattern"/>
    </eStructuralFeatures>
    <eStructuralFeatures xsi:type="ecore:EReference" name="parameters" upperBound="-1" eType="//VariableReference" containment="true" eOpposite="//VariableReference/invocation"/>
  </eClassifiers>
  <eClassifiers xsi:type="ecore:EClass" name="Visitor">
    <eOperations xsi:type="activities:MoflonEOperation" name="visitHeadControlledLoop">
      <eParameters name="headControlledLoop" eType="//HeadControlledLoop"/>
      <activity owningOperation="//Visitor/visitHeadControlledLoop">
        <ownedActivityEdge source="//Visitor/visitHeadControlledLoop/@activity/@ownedActivityNode.1" target="//Visitor/visitHeadControlledLoop/@activity/@ownedActivityNode.2"/>
        <ownedActivityEdge source="//Visitor/visitHeadControlledLoop/@activity/@ownedActivityNode.2" target="//Visitor/visitHeadControlledLoop/@activity/@ownedActivityNode.0"/>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//Visitor/visitHeadControlledLoop/@activity/@ownedActivityEdge.1"/>
        <ownedActivityNode xsi:type="activities:StartNode" outgoing="//Visitor/visitHeadControlledLoop/@activity/@ownedActivityEdge.0"/>
        <ownedActivityNode xsi:type="activities:StoryNode" name="DoNothing" comment="DoNothing" outgoing="//Visitor/visitHeadControlledLoop/@activity/@ownedActivityEdge.1" incoming="//Visitor/visitHeadControlledLoop/@activity/@ownedActivityEdge.0">
          <storyPattern comment="DoNothing"/>
        </ownedActivityNode>
      </activity>
    </eOperations>
    <eOperations xsi:type="activities:MoflonEOperation" name="visitIfStatement">
      <eParameters name="ifStatement" eType="//IfStatement"/>
      <activity owningOperation="//Visitor/visitIfStatement">
        <ownedActivityEdge source="//Visitor/visitIfStatement/@activity/@ownedActivityNode.0" target="//Visitor/visitIfStatement/@activity/@ownedActivityNode.1"/>
        <ownedActivityEdge source="//Visitor/visitIfStatement/@activity/@ownedActivityNode.1" target="//Visitor/visitIfStatement/@activity/@ownedActivityNode.2"/>
        <ownedActivityNode xsi:type="activities:StartNode" outgoing="//Visitor/visitIfStatement/@activity/@ownedActivityEdge.0"/>
        <ownedActivityNode xsi:type="activities:StoryNode" name="DoNothing" comment="DoNothing" outgoing="//Visitor/visitIfStatement/@activity/@ownedActivityEdge.1" incoming="//Visitor/visitIfStatement/@activity/@ownedActivityEdge.0">
          <storyPattern comment="DoNothing"/>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//Visitor/visitIfStatement/@activity/@ownedActivityEdge.1"/>
      </activity>
    </eOperations>
    <eOperations xsi:type="activities:MoflonEOperation" name="visitNode">
      <eParameters name="node" eType="//CFNode"/>
      <activity owningOperation="//Visitor/visitNode">
        <ownedActivityEdge source="//Visitor/visitNode/@activity/@ownedActivityNode.1" target="//Visitor/visitNode/@activity/@ownedActivityNode.2"/>
        <ownedActivityEdge source="//Visitor/visitNode/@activity/@ownedActivityNode.2" target="//Visitor/visitNode/@activity/@ownedActivityNode.0"/>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//Visitor/visitNode/@activity/@ownedActivityEdge.1"/>
        <ownedActivityNode xsi:type="activities:StartNode" outgoing="//Visitor/visitNode/@activity/@ownedActivityEdge.0"/>
        <ownedActivityNode xsi:type="activities:StoryNode" name="DoNothing" comment="DoNothing" outgoing="//Visitor/visitNode/@activity/@ownedActivityEdge.1" incoming="//Visitor/visitNode/@activity/@ownedActivityEdge.0">
          <storyPattern comment="DoNothing"/>
        </ownedActivityNode>
      </activity>
    </eOperations>
    <eOperations xsi:type="activities:MoflonEOperation" name="visitScope">
      <eParameters name="scope" eType="//Scope"/>
      <activity owningOperation="//Visitor/visitScope">
        <ownedActivityEdge source="//Visitor/visitScope/@activity/@ownedActivityNode.0" target="//Visitor/visitScope/@activity/@ownedActivityNode.1"/>
        <ownedActivityEdge source="//Visitor/visitScope/@activity/@ownedActivityNode.2" target="//Visitor/visitScope/@activity/@ownedActivityNode.0"/>
        <ownedActivityNode xsi:type="activities:StoryNode" name="DoNothing" comment="DoNothing" outgoing="//Visitor/visitScope/@activity/@ownedActivityEdge.0" incoming="//Visitor/visitScope/@activity/@ownedActivityEdge.1">
          <storyPattern comment="DoNothing"/>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//Visitor/visitScope/@activity/@ownedActivityEdge.0"/>
        <ownedActivityNode xsi:type="activities:StartNode" outgoing="//Visitor/visitScope/@activity/@ownedActivityEdge.1"/>
      </activity>
    </eOperations>
    <eOperations xsi:type="activities:MoflonEOperation" name="visitTailControlledLoop">
      <eParameters name="tailControlledLoop" eType="//TailControlledLoop"/>
      <activity owningOperation="//Visitor/visitTailControlledLoop">
        <ownedActivityEdge source="//Visitor/visitTailControlledLoop/@activity/@ownedActivityNode.0" target="//Visitor/visitTailControlledLoop/@activity/@ownedActivityNode.1"/>
        <ownedActivityEdge source="//Visitor/visitTailControlledLoop/@activity/@ownedActivityNode.2" target="//Visitor/visitTailControlledLoop/@activity/@ownedActivityNode.0"/>
        <ownedActivityNode xsi:type="activities:StoryNode" name="DoNothing" comment="DoNothing" outgoing="//Visitor/visitTailControlledLoop/@activity/@ownedActivityEdge.0" incoming="//Visitor/visitTailControlledLoop/@activity/@ownedActivityEdge.1">
          <storyPattern comment="DoNothing"/>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//Visitor/visitTailControlledLoop/@activity/@ownedActivityEdge.0"/>
        <ownedActivityNode xsi:type="activities:StartNode" outgoing="//Visitor/visitTailControlledLoop/@activity/@ownedActivityEdge.1"/>
      </activity>
    </eOperations>
    <eOperations xsi:type="activities:MoflonEOperation" name="visitForEach">
      <eParameters name="forEach" eType="//ForEach"/>
      <activity owningOperation="//Visitor/visitForEach">
        <ownedActivityEdge source="//Visitor/visitForEach/@activity/@ownedActivityNode.0" target="//Visitor/visitForEach/@activity/@ownedActivityNode.1"/>
        <ownedActivityEdge source="//Visitor/visitForEach/@activity/@ownedActivityNode.2" target="//Visitor/visitForEach/@activity/@ownedActivityNode.0"/>
        <ownedActivityNode xsi:type="activities:StoryNode" name="DoNothing" comment="DoNothing" outgoing="//Visitor/visitForEach/@activity/@ownedActivityEdge.0" incoming="//Visitor/visitForEach/@activity/@ownedActivityEdge.1">
          <storyPattern comment="DoNothing"/>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//Visitor/visitForEach/@activity/@ownedActivityEdge.0"/>
        <ownedActivityNode xsi:type="activities:StartNode" outgoing="//Visitor/visitForEach/@activity/@ownedActivityEdge.1"/>
      </activity>
    </eOperations>
  </eClassifiers>
  <eClassifiers xsi:type="ecore:EClass" name="VariableReference">
    <eOperations xsi:type="activities:MoflonEOperation" name="isFree">
      <eType xsi:type="ecore:EDataType" href="http://www.eclipse.org/emf/2002/Ecore#//EBoolean"/>
      <activity owningOperation="//VariableReference/isFree">
        <ownedActivityEdge source="//VariableReference/isFree/@activity/@ownedActivityNode.1" target="//VariableReference/isFree/@activity/@ownedActivityNode.2" guard="FAILURE"/>
        <ownedActivityEdge source="//VariableReference/isFree/@activity/@ownedActivityNode.1" target="//VariableReference/isFree/@activity/@ownedActivityNode.5" guard="SUCCESS"/>
        <ownedActivityEdge source="//VariableReference/isFree/@activity/@ownedActivityNode.2" target="//VariableReference/isFree/@activity/@ownedActivityNode.3" guard="FAILURE"/>
        <ownedActivityEdge source="//VariableReference/isFree/@activity/@ownedActivityNode.2" target="//VariableReference/isFree/@activity/@ownedActivityNode.0" guard="SUCCESS"/>
        <ownedActivityEdge source="//VariableReference/isFree/@activity/@ownedActivityNode.4" target="//VariableReference/isFree/@activity/@ownedActivityNode.6"/>
        <ownedActivityEdge source="//VariableReference/isFree/@activity/@ownedActivityNode.6" target="//VariableReference/isFree/@activity/@ownedActivityNode.1"/>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//VariableReference/isFree/@activity/@ownedActivityEdge.3">
          <returnValue xsi:type="expressions:LiteralExpression" value="true"/>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StatementNode" name="IsConstructedVariable" outgoing="//VariableReference/isFree/@activity/@ownedActivityEdge.0 //VariableReference/isFree/@activity/@ownedActivityEdge.1" incoming="//VariableReference/isFree/@activity/@ownedActivityEdge.5">
          <statementExpression xsi:type="callExpressions:MethodCallExpression" callee="//VariableReference/isConstructed">
            <target xsi:type="patternExpressions:ObjectVariableExpression" object="//VariableReference/isFree/@activity/@ownedActivityNode.6/@storyPattern/@objectVariable.0"/>
          </statementExpression>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StatementNode" name="IsReassignedVariable" outgoing="//VariableReference/isFree/@activity/@ownedActivityEdge.2 //VariableReference/isFree/@activity/@ownedActivityEdge.3" incoming="//VariableReference/isFree/@activity/@ownedActivityEdge.0">
          <statementExpression xsi:type="callExpressions:MethodCallExpression" callee="//VariableReference/isReassigned">
            <target xsi:type="patternExpressions:ObjectVariableExpression" object="//VariableReference/isFree/@activity/@ownedActivityNode.6/@storyPattern/@objectVariable.0"/>
          </statementExpression>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//VariableReference/isFree/@activity/@ownedActivityEdge.2">
          <returnValue xsi:type="expressions:LiteralExpression" value="false"/>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StartNode" outgoing="//VariableReference/isFree/@activity/@ownedActivityEdge.4"/>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//VariableReference/isFree/@activity/@ownedActivityEdge.1">
          <returnValue xsi:type="expressions:LiteralExpression" value="true"/>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StoryNode" name="LookupThisObject" comment="LookupThisObject" outgoing="//VariableReference/isFree/@activity/@ownedActivityEdge.5" incoming="//VariableReference/isFree/@activity/@ownedActivityEdge.4">
          <storyPattern comment="LookupThisObject">
            <objectVariable type="//VariableReference" name="this" bindingState="BOUND"/>
          </storyPattern>
        </ownedActivityNode>
      </activity>
    </eOperations>
    <eOperations xsi:type="activities:MoflonEOperation" name="isConstructed">
      <eType xsi:type="ecore:EDataType" href="http://www.eclipse.org/emf/2002/Ecore#//EBoolean"/>
      <activity owningOperation="//VariableReference/isConstructed">
        <ownedActivityEdge source="//VariableReference/isConstructed/@activity/@ownedActivityNode.0" target="//VariableReference/isConstructed/@activity/@ownedActivityNode.1"/>
        <ownedActivityEdge source="//VariableReference/isConstructed/@activity/@ownedActivityNode.1" target="//VariableReference/isConstructed/@activity/@ownedActivityNode.2" guard="SUCCESS"/>
        <ownedActivityEdge source="//VariableReference/isConstructed/@activity/@ownedActivityNode.1" target="//VariableReference/isConstructed/@activity/@ownedActivityNode.3" guard="FAILURE"/>
        <ownedActivityNode xsi:type="activities:StartNode" outgoing="//VariableReference/isConstructed/@activity/@ownedActivityEdge.0"/>
        <ownedActivityNode xsi:type="activities:StoryNode" name="IsVariableConstructed" comment="IsVariableConstructed" outgoing="//VariableReference/isConstructed/@activity/@ownedActivityEdge.1 //VariableReference/isConstructed/@activity/@ownedActivityEdge.2" incoming="//VariableReference/isConstructed/@activity/@ownedActivityEdge.0">
          <storyPattern comment="IsVariableConstructed">
            <objectVariable type="//VariableReference" name="this" outgoingLink="//VariableReference/isConstructed/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.0 //VariableReference/isConstructed/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.1" bindingState="BOUND"/>
            <objectVariable type="//PatternInvocation" name="patternInvocation" incomingLink="//VariableReference/isConstructed/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.1 //VariableReference/isConstructed/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.2"/>
            <objectVariable type="//CFVariable" name="variable" incomingLink="//VariableReference/isConstructed/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.0" outgoingLink="//VariableReference/isConstructed/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.2"/>
            <linkVariable name="from" target="//VariableReference/isConstructed/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.2" source="//VariableReference/isConstructed/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.0" type="//VariableReference/from"/>
            <linkVariable name="invocation" target="//VariableReference/isConstructed/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.1" source="//VariableReference/isConstructed/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.0" type="//VariableReference/invocation"/>
            <linkVariable name="constructor" target="//VariableReference/isConstructed/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.1" source="//VariableReference/isConstructed/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.2" type="//CFVariable/constructor"/>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//VariableReference/isConstructed/@activity/@ownedActivityEdge.1">
          <returnValue xsi:type="expressions:LiteralExpression" value="true"/>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//VariableReference/isConstructed/@activity/@ownedActivityEdge.2">
          <returnValue xsi:type="expressions:LiteralExpression" value="false"/>
        </ownedActivityNode>
      </activity>
    </eOperations>
    <eOperations xsi:type="activities:MoflonEOperation" name="isReassigned">
      <eType xsi:type="ecore:EDataType" href="http://www.eclipse.org/emf/2002/Ecore#//EBoolean"/>
      <activity owningOperation="//VariableReference/isReassigned">
        <ownedActivityEdge source="//VariableReference/isReassigned/@activity/@ownedActivityNode.0" target="//VariableReference/isReassigned/@activity/@ownedActivityNode.1"/>
        <ownedActivityEdge source="//VariableReference/isReassigned/@activity/@ownedActivityNode.1" target="//VariableReference/isReassigned/@activity/@ownedActivityNode.2" guard="SUCCESS"/>
        <ownedActivityEdge source="//VariableReference/isReassigned/@activity/@ownedActivityNode.1" target="//VariableReference/isReassigned/@activity/@ownedActivityNode.3" guard="FAILURE"/>
        <ownedActivityNode xsi:type="activities:StartNode" outgoing="//VariableReference/isReassigned/@activity/@ownedActivityEdge.0"/>
        <ownedActivityNode xsi:type="activities:StoryNode" name="IsVariableReassigned" comment="IsVariableReassigned" outgoing="//VariableReference/isReassigned/@activity/@ownedActivityEdge.1 //VariableReference/isReassigned/@activity/@ownedActivityEdge.2" incoming="//VariableReference/isReassigned/@activity/@ownedActivityEdge.0">
          <storyPattern comment="IsVariableReassigned">
            <objectVariable type="//VariableReference" name="this" outgoingLink="//VariableReference/isReassigned/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.0 //VariableReference/isReassigned/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.1" bindingState="BOUND"/>
            <objectVariable type="//PatternInvocation" name="patternInvocation" incomingLink="//VariableReference/isReassigned/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.0 //VariableReference/isReassigned/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.2"/>
            <objectVariable type="//CFVariable" name="variable" incomingLink="//VariableReference/isReassigned/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.1" outgoingLink="//VariableReference/isReassigned/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.2"/>
            <linkVariable name="invocation" target="//VariableReference/isReassigned/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.1" source="//VariableReference/isReassigned/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.0" type="//VariableReference/invocation"/>
            <linkVariable name="from" target="//VariableReference/isReassigned/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.2" source="//VariableReference/isReassigned/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.0" type="//VariableReference/from"/>
            <linkVariable name="reassignments" target="//VariableReference/isReassigned/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.1" source="//VariableReference/isReassigned/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.2" type="//CFVariable/reassignments"/>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//VariableReference/isReassigned/@activity/@ownedActivityEdge.1">
          <returnValue xsi:type="expressions:LiteralExpression" value="true"/>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//VariableReference/isReassigned/@activity/@ownedActivityEdge.2">
          <returnValue xsi:type="expressions:LiteralExpression" value="false"/>
        </ownedActivityNode>
      </activity>
    </eOperations>
    <eStructuralFeatures xsi:type="ecore:EReference" name="invocation" lowerBound="1" eType="//PatternInvocation" eOpposite="//PatternInvocation/parameters"/>
    <eStructuralFeatures xsi:type="ecore:EReference" name="to" lowerBound="1">
      <eType xsi:type="ecore:EClass" href="http://gervarro.org/democles/specification.ecore#//Variable"/>
    </eStructuralFeatures>
    <eStructuralFeatures xsi:type="ecore:EReference" name="from" lowerBound="1" eType="//CFVariable" eOpposite="//CFVariable/references"/>
  </eClassifiers>
</ecore:EPackage>
