<?xml version="1.0" encoding="ASCII"?>
<ecore:EPackage xmi:version="2.0" xmlns:xmi="http://www.omg.org/XMI" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:activities="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//activities" xmlns:callExpressions="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//calls/callExpressions" xmlns:ecore="http://www.eclipse.org/emf/2002/Ecore" xmlns:expressions="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//expressions" xmlns:patternExpressions="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//patterns/patternExpressions" name="pattern" nsURI="platform:/plugin/org.moflon.sdm.compiler.democles.pattern/model/Pattern.ecore" nsPrefix="org.moflon.sdm.compiler.democles.pattern">
  <eAnnotations source="http://www.eclipse.org/emf/2002/GenModel">
    <details key="basePackage" value="org.moflon.sdm.compiler.democles"/>
  </eAnnotations>
  <eClassifiers xsi:type="ecore:EClass" name="GreenPatternTransformer" eSuperTypes="//PatternTransformer">
    <eOperations xsi:type="activities:MoflonEOperation" name="isLinkToAdd">
      <eType xsi:type="ecore:EDataType" href="http://www.eclipse.org/emf/2002/Ecore#//EBoolean"/>
      <eParameters name="linkVariable">
        <eType xsi:type="ecore:EClass" href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//patterns/LinkVariable"/>
      </eParameters>
      <eParameters name="pattern">
        <eType xsi:type="ecore:EClass" href="http://gervarro.org/democles/specification.ecore#//Pattern"/>
      </eParameters>
      <activity owningOperation="//GreenPatternTransformer/isLinkToAdd">
        <ownedActivityEdge source="//GreenPatternTransformer/isLinkToAdd/@activity/@ownedActivityNode.0" target="//GreenPatternTransformer/isLinkToAdd/@activity/@ownedActivityNode.2" guard="SUCCESS"/>
        <ownedActivityEdge source="//GreenPatternTransformer/isLinkToAdd/@activity/@ownedActivityNode.0" target="//GreenPatternTransformer/isLinkToAdd/@activity/@ownedActivityNode.1" guard="FAILURE"/>
        <ownedActivityEdge source="//GreenPatternTransformer/isLinkToAdd/@activity/@ownedActivityNode.3" target="//GreenPatternTransformer/isLinkToAdd/@activity/@ownedActivityNode.0"/>
        <ownedActivityNode xsi:type="activities:StoryNode" name="IsLinkGreen" comment="IsLinkGreen" outgoing="//GreenPatternTransformer/isLinkToAdd/@activity/@ownedActivityEdge.0 //GreenPatternTransformer/isLinkToAdd/@activity/@ownedActivityEdge.1" incoming="//GreenPatternTransformer/isLinkToAdd/@activity/@ownedActivityEdge.2">
          <storyPattern comment="IsLinkGreen">
            <objectVariable name="linkVariable" bindingState="BOUND">
              <type xsi:type="ecore:EClass" href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//patterns/LinkVariable"/>
              <constraint>
                <constraintExpression xsi:type="expressions:ComparisonExpression" operator="EQUAL">
                  <rightExpression xsi:type="expressions:LiteralExpression" value="SDMLanguage.patterns.BindingOperator.CREATE"/>
                  <leftExpression xsi:type="patternExpressions:AttributeValueExpression" object="//GreenPatternTransformer/isLinkToAdd/@activity/@ownedActivityNode.0/@storyPattern/@objectVariable.0">
                    <attribute href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//patterns/LinkVariable/bindingOperator"/>
                  </leftExpression>
                </constraintExpression>
              </constraint>
            </objectVariable>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//GreenPatternTransformer/isLinkToAdd/@activity/@ownedActivityEdge.1">
          <returnValue xsi:type="expressions:LiteralExpression" value="false"/>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//GreenPatternTransformer/isLinkToAdd/@activity/@ownedActivityEdge.0">
          <returnValue xsi:type="expressions:LiteralExpression" value="true"/>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StartNode" outgoing="//GreenPatternTransformer/isLinkToAdd/@activity/@ownedActivityEdge.2"/>
      </activity>
    </eOperations>
    <eOperations xsi:type="activities:MoflonEOperation" name="isVariableToAdd">
      <eType xsi:type="ecore:EDataType" href="http://www.eclipse.org/emf/2002/Ecore#//EBoolean"/>
      <eParameters name="objectVariable">
        <eType xsi:type="ecore:EClass" href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//patterns/ObjectVariable"/>
      </eParameters>
      <activity owningOperation="//GreenPatternTransformer/isVariableToAdd">
        <ownedActivityEdge source="//GreenPatternTransformer/isVariableToAdd/@activity/@ownedActivityNode.0" target="//GreenPatternTransformer/isVariableToAdd/@activity/@ownedActivityNode.3" guard="FAILURE"/>
        <ownedActivityEdge source="//GreenPatternTransformer/isVariableToAdd/@activity/@ownedActivityNode.0" target="//GreenPatternTransformer/isVariableToAdd/@activity/@ownedActivityNode.6" guard="SUCCESS"/>
        <ownedActivityEdge source="//GreenPatternTransformer/isVariableToAdd/@activity/@ownedActivityNode.1" target="//GreenPatternTransformer/isVariableToAdd/@activity/@ownedActivityNode.4"/>
        <ownedActivityEdge source="//GreenPatternTransformer/isVariableToAdd/@activity/@ownedActivityNode.4" target="//GreenPatternTransformer/isVariableToAdd/@activity/@ownedActivityNode.7" guard="SUCCESS"/>
        <ownedActivityEdge source="//GreenPatternTransformer/isVariableToAdd/@activity/@ownedActivityNode.4" target="//GreenPatternTransformer/isVariableToAdd/@activity/@ownedActivityNode.8" guard="FAILURE"/>
        <ownedActivityEdge source="//GreenPatternTransformer/isVariableToAdd/@activity/@ownedActivityNode.8" target="//GreenPatternTransformer/isVariableToAdd/@activity/@ownedActivityNode.9" guard="FAILURE"/>
        <ownedActivityEdge source="//GreenPatternTransformer/isVariableToAdd/@activity/@ownedActivityNode.8" target="//GreenPatternTransformer/isVariableToAdd/@activity/@ownedActivityNode.2" guard="SUCCESS"/>
        <ownedActivityEdge source="//GreenPatternTransformer/isVariableToAdd/@activity/@ownedActivityNode.9" target="//GreenPatternTransformer/isVariableToAdd/@activity/@ownedActivityNode.5" guard="SUCCESS"/>
        <ownedActivityEdge source="//GreenPatternTransformer/isVariableToAdd/@activity/@ownedActivityNode.9" target="//GreenPatternTransformer/isVariableToAdd/@activity/@ownedActivityNode.0" guard="FAILURE"/>
        <ownedActivityNode xsi:type="activities:StoryNode" name="HasAttributeAssignment" comment="HasAttributeAssignment" outgoing="//GreenPatternTransformer/isVariableToAdd/@activity/@ownedActivityEdge.0 //GreenPatternTransformer/isVariableToAdd/@activity/@ownedActivityEdge.1" incoming="//GreenPatternTransformer/isVariableToAdd/@activity/@ownedActivityEdge.8">
          <storyPattern comment="HasAttributeAssignment">
            <objectVariable name="objectVariable" outgoingLink="//GreenPatternTransformer/isVariableToAdd/@activity/@ownedActivityNode.0/@storyPattern/@linkVariable.0" bindingState="BOUND">
              <type xsi:type="ecore:EClass" href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//patterns/ObjectVariable"/>
            </objectVariable>
            <objectVariable name="assignment" incomingLink="//GreenPatternTransformer/isVariableToAdd/@activity/@ownedActivityNode.0/@storyPattern/@linkVariable.0">
              <type xsi:type="ecore:EClass" href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//patterns/AttributeAssignment"/>
            </objectVariable>
            <linkVariable name="attributeAssignment" target="//GreenPatternTransformer/isVariableToAdd/@activity/@ownedActivityNode.0/@storyPattern/@objectVariable.1" source="//GreenPatternTransformer/isVariableToAdd/@activity/@ownedActivityNode.0/@storyPattern/@objectVariable.0">
              <type href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//patterns/ObjectVariable/attributeAssignment"/>
            </linkVariable>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StartNode" outgoing="//GreenPatternTransformer/isVariableToAdd/@activity/@ownedActivityEdge.2"/>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//GreenPatternTransformer/isVariableToAdd/@activity/@ownedActivityEdge.6">
          <returnValue xsi:type="expressions:LiteralExpression" value="true"/>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//GreenPatternTransformer/isVariableToAdd/@activity/@ownedActivityEdge.0">
          <returnValue xsi:type="expressions:LiteralExpression" value="false"/>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StoryNode" name="IsVariableGreen" comment="IsVariableGreen" outgoing="//GreenPatternTransformer/isVariableToAdd/@activity/@ownedActivityEdge.3 //GreenPatternTransformer/isVariableToAdd/@activity/@ownedActivityEdge.4" incoming="//GreenPatternTransformer/isVariableToAdd/@activity/@ownedActivityEdge.2">
          <storyPattern comment="IsVariableGreen">
            <objectVariable name="objectVariable" bindingState="BOUND">
              <type xsi:type="ecore:EClass" href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//patterns/ObjectVariable"/>
              <constraint>
                <constraintExpression xsi:type="expressions:ComparisonExpression" operator="EQUAL">
                  <rightExpression xsi:type="expressions:LiteralExpression" value="SDMLanguage.patterns.BindingOperator.CREATE"/>
                  <leftExpression xsi:type="patternExpressions:AttributeValueExpression" object="//GreenPatternTransformer/isVariableToAdd/@activity/@ownedActivityNode.4/@storyPattern/@objectVariable.0">
                    <attribute href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//patterns/ObjectVariable/bindingOperator"/>
                  </leftExpression>
                </constraintExpression>
              </constraint>
            </objectVariable>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//GreenPatternTransformer/isVariableToAdd/@activity/@ownedActivityEdge.7">
          <returnValue xsi:type="expressions:LiteralExpression" value="true"/>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//GreenPatternTransformer/isVariableToAdd/@activity/@ownedActivityEdge.1">
          <returnValue xsi:type="expressions:LiteralExpression" value="true"/>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//GreenPatternTransformer/isVariableToAdd/@activity/@ownedActivityEdge.3">
          <returnValue xsi:type="expressions:LiteralExpression" value="true"/>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StoryNode" name="HasIncomingGreenLink" comment="HasIncomingGreenLink" outgoing="//GreenPatternTransformer/isVariableToAdd/@activity/@ownedActivityEdge.5 //GreenPatternTransformer/isVariableToAdd/@activity/@ownedActivityEdge.6" incoming="//GreenPatternTransformer/isVariableToAdd/@activity/@ownedActivityEdge.4">
          <storyPattern comment="HasIncomingGreenLink">
            <objectVariable name="objectVariable" outgoingLink="//GreenPatternTransformer/isVariableToAdd/@activity/@ownedActivityNode.8/@storyPattern/@linkVariable.0" bindingState="BOUND">
              <type xsi:type="ecore:EClass" href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//patterns/ObjectVariable"/>
            </objectVariable>
            <objectVariable name="inComingLink" incomingLink="//GreenPatternTransformer/isVariableToAdd/@activity/@ownedActivityNode.8/@storyPattern/@linkVariable.0">
              <type xsi:type="ecore:EClass" href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//patterns/LinkVariable"/>
              <constraint>
                <constraintExpression xsi:type="expressions:ComparisonExpression" operator="EQUAL">
                  <rightExpression xsi:type="expressions:LiteralExpression" value="SDMLanguage.patterns.BindingOperator.CREATE"/>
                  <leftExpression xsi:type="patternExpressions:AttributeValueExpression" object="//GreenPatternTransformer/isVariableToAdd/@activity/@ownedActivityNode.8/@storyPattern/@objectVariable.1">
                    <attribute href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//patterns/LinkVariable/bindingOperator"/>
                  </leftExpression>
                </constraintExpression>
              </constraint>
            </objectVariable>
            <linkVariable name="incomingLink" target="//GreenPatternTransformer/isVariableToAdd/@activity/@ownedActivityNode.8/@storyPattern/@objectVariable.1" source="//GreenPatternTransformer/isVariableToAdd/@activity/@ownedActivityNode.8/@storyPattern/@objectVariable.0">
              <type href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//patterns/ObjectVariable/incomingLink"/>
            </linkVariable>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StoryNode" name="HasOutgoingGreenLink" comment="HasOutgoingGreenLink" outgoing="//GreenPatternTransformer/isVariableToAdd/@activity/@ownedActivityEdge.7 //GreenPatternTransformer/isVariableToAdd/@activity/@ownedActivityEdge.8" incoming="//GreenPatternTransformer/isVariableToAdd/@activity/@ownedActivityEdge.5">
          <storyPattern comment="HasOutgoingGreenLink">
            <objectVariable name="outGoingLink" incomingLink="//GreenPatternTransformer/isVariableToAdd/@activity/@ownedActivityNode.9/@storyPattern/@linkVariable.0">
              <type xsi:type="ecore:EClass" href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//patterns/LinkVariable"/>
              <constraint>
                <constraintExpression xsi:type="expressions:ComparisonExpression" operator="EQUAL">
                  <rightExpression xsi:type="expressions:LiteralExpression" value="SDMLanguage.patterns.BindingOperator.CREATE"/>
                  <leftExpression xsi:type="patternExpressions:AttributeValueExpression" object="//GreenPatternTransformer/isVariableToAdd/@activity/@ownedActivityNode.9/@storyPattern/@objectVariable.0">
                    <attribute href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//patterns/LinkVariable/bindingOperator"/>
                  </leftExpression>
                </constraintExpression>
              </constraint>
            </objectVariable>
            <objectVariable name="objectVariable" outgoingLink="//GreenPatternTransformer/isVariableToAdd/@activity/@ownedActivityNode.9/@storyPattern/@linkVariable.0" bindingState="BOUND">
              <type xsi:type="ecore:EClass" href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//patterns/ObjectVariable"/>
            </objectVariable>
            <linkVariable name="outgoingLink" target="//GreenPatternTransformer/isVariableToAdd/@activity/@ownedActivityNode.9/@storyPattern/@objectVariable.0" source="//GreenPatternTransformer/isVariableToAdd/@activity/@ownedActivityNode.9/@storyPattern/@objectVariable.1">
              <type href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//patterns/ObjectVariable/outgoingLink"/>
            </linkVariable>
          </storyPattern>
        </ownedActivityNode>
      </activity>
    </eOperations>
    <eOperations xsi:type="activities:MoflonEOperation" name="postprocess">
      <eParameters name="storyPattern">
        <eType xsi:type="ecore:EClass" href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//patterns/StoryPattern"/>
      </eParameters>
      <eParameters name="pattern">
        <eType xsi:type="ecore:EClass" href="http://gervarro.org/democles/specification.ecore#//Pattern"/>
      </eParameters>
      <activity owningOperation="//GreenPatternTransformer/postprocess">
        <ownedActivityEdge source="//GreenPatternTransformer/postprocess/@activity/@ownedActivityNode.0" target="//GreenPatternTransformer/postprocess/@activity/@ownedActivityNode.5"/>
        <ownedActivityEdge source="//GreenPatternTransformer/postprocess/@activity/@ownedActivityNode.1" target="//GreenPatternTransformer/postprocess/@activity/@ownedActivityNode.0"/>
        <ownedActivityEdge source="//GreenPatternTransformer/postprocess/@activity/@ownedActivityNode.2" target="//GreenPatternTransformer/postprocess/@activity/@ownedActivityNode.4" guard="EACH_TIME"/>
        <ownedActivityEdge source="//GreenPatternTransformer/postprocess/@activity/@ownedActivityNode.2" target="//GreenPatternTransformer/postprocess/@activity/@ownedActivityNode.5" guard="END"/>
        <ownedActivityEdge source="//GreenPatternTransformer/postprocess/@activity/@ownedActivityNode.4" target="//GreenPatternTransformer/postprocess/@activity/@ownedActivityNode.2"/>
        <ownedActivityEdge source="//GreenPatternTransformer/postprocess/@activity/@ownedActivityNode.5" target="//GreenPatternTransformer/postprocess/@activity/@ownedActivityNode.3" guard="END"/>
        <ownedActivityEdge source="//GreenPatternTransformer/postprocess/@activity/@ownedActivityNode.5" target="//GreenPatternTransformer/postprocess/@activity/@ownedActivityNode.2" guard="EACH_TIME"/>
        <ownedActivityNode xsi:type="activities:StoryNode" name="Init" comment="Init" outgoing="//GreenPatternTransformer/postprocess/@activity/@ownedActivityEdge.0" incoming="//GreenPatternTransformer/postprocess/@activity/@ownedActivityEdge.1">
          <storyPattern comment="Init">
            <objectVariable type="//GreenPatternTransformer" name="this" bindingState="BOUND"/>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StartNode" outgoing="//GreenPatternTransformer/postprocess/@activity/@ownedActivityEdge.1"/>
        <ownedActivityNode xsi:type="activities:StoryNode" name="ForAllAttributeAssignments" comment="ForAllAttributeAssignments" outgoing="//GreenPatternTransformer/postprocess/@activity/@ownedActivityEdge.2 //GreenPatternTransformer/postprocess/@activity/@ownedActivityEdge.3" incoming="//GreenPatternTransformer/postprocess/@activity/@ownedActivityEdge.4 //GreenPatternTransformer/postprocess/@activity/@ownedActivityEdge.6" forEach="true">
          <storyPattern comment="ForAllAttributeAssignments">
            <objectVariable name="objectVariable" outgoingLink="//GreenPatternTransformer/postprocess/@activity/@ownedActivityNode.2/@storyPattern/@linkVariable.0" bindingState="BOUND">
              <type xsi:type="ecore:EClass" href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//patterns/ObjectVariable"/>
            </objectVariable>
            <objectVariable name="assignment" incomingLink="//GreenPatternTransformer/postprocess/@activity/@ownedActivityNode.2/@storyPattern/@linkVariable.0">
              <type xsi:type="ecore:EClass" href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//patterns/AttributeAssignment"/>
            </objectVariable>
            <linkVariable name="attributeAssignment" target="//GreenPatternTransformer/postprocess/@activity/@ownedActivityNode.2/@storyPattern/@objectVariable.1" source="//GreenPatternTransformer/postprocess/@activity/@ownedActivityNode.2/@storyPattern/@objectVariable.0">
              <type href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//patterns/ObjectVariable/attributeAssignment"/>
            </linkVariable>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//GreenPatternTransformer/postprocess/@activity/@ownedActivityEdge.5"/>
        <ownedActivityNode xsi:type="activities:StatementNode" name="HandleAttributeAssignment" outgoing="//GreenPatternTransformer/postprocess/@activity/@ownedActivityEdge.4" incoming="//GreenPatternTransformer/postprocess/@activity/@ownedActivityEdge.2">
          <statementExpression xsi:type="callExpressions:MethodCallExpression" callee="//GreenPatternTransformer/transformAssignment">
            <ownedParameterBindings parameter="//GreenPatternTransformer/transformAssignment/assignment">
              <valueExpression xsi:type="patternExpressions:ObjectVariableExpression" object="//GreenPatternTransformer/postprocess/@activity/@ownedActivityNode.2/@storyPattern/@objectVariable.1"/>
            </ownedParameterBindings>
            <ownedParameterBindings parameter="//GreenPatternTransformer/transformAssignment/pattern">
              <valueExpression xsi:type="callExpressions:ParameterExpression" parameter="//GreenPatternTransformer/postprocess/pattern"/>
            </ownedParameterBindings>
            <target xsi:type="patternExpressions:ObjectVariableExpression" object="//GreenPatternTransformer/postprocess/@activity/@ownedActivityNode.0/@storyPattern/@objectVariable.0"/>
          </statementExpression>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StoryNode" name="ForAllObjectVariables" comment="ForAllObjectVariables" outgoing="//GreenPatternTransformer/postprocess/@activity/@ownedActivityEdge.5 //GreenPatternTransformer/postprocess/@activity/@ownedActivityEdge.6" incoming="//GreenPatternTransformer/postprocess/@activity/@ownedActivityEdge.0 //GreenPatternTransformer/postprocess/@activity/@ownedActivityEdge.3" forEach="true">
          <storyPattern comment="ForAllObjectVariables">
            <objectVariable name="objectVariable" incomingLink="//GreenPatternTransformer/postprocess/@activity/@ownedActivityNode.5/@storyPattern/@linkVariable.0">
              <type xsi:type="ecore:EClass" href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//patterns/ObjectVariable"/>
            </objectVariable>
            <objectVariable name="storyPattern" outgoingLink="//GreenPatternTransformer/postprocess/@activity/@ownedActivityNode.5/@storyPattern/@linkVariable.0" bindingState="BOUND">
              <type xsi:type="ecore:EClass" href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//patterns/StoryPattern"/>
            </objectVariable>
            <linkVariable name="objectVariable" target="//GreenPatternTransformer/postprocess/@activity/@ownedActivityNode.5/@storyPattern/@objectVariable.0" source="//GreenPatternTransformer/postprocess/@activity/@ownedActivityNode.5/@storyPattern/@objectVariable.1">
              <type href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//patterns/StoryPattern/objectVariable"/>
            </linkVariable>
          </storyPattern>
        </ownedActivityNode>
      </activity>
    </eOperations>
    <eOperations xsi:type="activities:MoflonEOperation" name="transformAssignment">
      <eParameters name="assignment">
        <eType xsi:type="ecore:EClass" href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//patterns/AttributeAssignment"/>
      </eParameters>
      <eParameters name="pattern">
        <eType xsi:type="ecore:EClass" href="http://gervarro.org/democles/specification.ecore#//Pattern"/>
      </eParameters>
      <activity owningOperation="//GreenPatternTransformer/transformAssignment">
        <ownedActivityEdge source="//GreenPatternTransformer/transformAssignment/@activity/@ownedActivityNode.1" target="//GreenPatternTransformer/transformAssignment/@activity/@ownedActivityNode.3"/>
        <ownedActivityEdge source="//GreenPatternTransformer/transformAssignment/@activity/@ownedActivityNode.2" target="//GreenPatternTransformer/transformAssignment/@activity/@ownedActivityNode.6"/>
        <ownedActivityEdge source="//GreenPatternTransformer/transformAssignment/@activity/@ownedActivityNode.3" target="//GreenPatternTransformer/transformAssignment/@activity/@ownedActivityNode.5"/>
        <ownedActivityEdge source="//GreenPatternTransformer/transformAssignment/@activity/@ownedActivityNode.4" target="//GreenPatternTransformer/transformAssignment/@activity/@ownedActivityNode.1"/>
        <ownedActivityEdge source="//GreenPatternTransformer/transformAssignment/@activity/@ownedActivityNode.5" target="//GreenPatternTransformer/transformAssignment/@activity/@ownedActivityNode.9"/>
        <ownedActivityEdge source="//GreenPatternTransformer/transformAssignment/@activity/@ownedActivityNode.6" target="//GreenPatternTransformer/transformAssignment/@activity/@ownedActivityNode.7" guard="FAILURE"/>
        <ownedActivityEdge source="//GreenPatternTransformer/transformAssignment/@activity/@ownedActivityNode.6" target="//GreenPatternTransformer/transformAssignment/@activity/@ownedActivityNode.4" guard="SUCCESS"/>
        <ownedActivityEdge source="//GreenPatternTransformer/transformAssignment/@activity/@ownedActivityNode.8" target="//GreenPatternTransformer/transformAssignment/@activity/@ownedActivityNode.2"/>
        <ownedActivityEdge source="//GreenPatternTransformer/transformAssignment/@activity/@ownedActivityNode.9" target="//GreenPatternTransformer/transformAssignment/@activity/@ownedActivityNode.0"/>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//GreenPatternTransformer/transformAssignment/@activity/@ownedActivityEdge.8"/>
        <ownedActivityNode xsi:type="activities:StoryNode" name="LookupObjectVariableInPattern" comment="LookupObjectVariableInPattern" outgoing="//GreenPatternTransformer/transformAssignment/@activity/@ownedActivityEdge.0" incoming="//GreenPatternTransformer/transformAssignment/@activity/@ownedActivityEdge.3">
          <storyPattern comment="LookupObjectVariableInPattern">
            <objectVariable name="variable" bindingState="BOUND">
              <type xsi:type="ecore:EClass" href="http://gervarro.org/democles/specification.ecore#//Variable"/>
              <bindingExpression xsi:type="callExpressions:MethodCallExpression" callee="//PatternVariableHandler/lookupVariableInPattern">
                <ownedParameterBindings parameter="//PatternVariableHandler/lookupVariableInPattern/pattern">
                  <valueExpression xsi:type="callExpressions:ParameterExpression" parameter="//GreenPatternTransformer/transformAssignment/pattern"/>
                </ownedParameterBindings>
                <ownedParameterBindings parameter="//PatternVariableHandler/lookupVariableInPattern/variableName">
                  <valueExpression xsi:type="patternExpressions:AttributeValueExpression" object="//GreenPatternTransformer/transformAssignment/@activity/@ownedActivityNode.4/@storyPattern/@objectVariable.0">
                    <attribute href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//NamedElement/name"/>
                  </valueExpression>
                </ownedParameterBindings>
                <ownedParameterBindings parameter="//PatternVariableHandler/lookupVariableInPattern/variableType">
                  <valueExpression xsi:type="patternExpressions:ObjectVariableExpression" object="//GreenPatternTransformer/transformAssignment/@activity/@ownedActivityNode.4/@storyPattern/@objectVariable.1"/>
                </ownedParameterBindings>
                <target xsi:type="patternExpressions:ObjectVariableExpression" object="//GreenPatternTransformer/transformAssignment/@activity/@ownedActivityNode.2/@storyPattern/@objectVariable.2"/>
              </bindingExpression>
            </objectVariable>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StoryNode" name="Init" comment="Init" outgoing="//GreenPatternTransformer/transformAssignment/@activity/@ownedActivityEdge.1" incoming="//GreenPatternTransformer/transformAssignment/@activity/@ownedActivityEdge.7">
          <storyPattern comment="Init">
            <objectVariable type="//ExpressionTransformer" name="expressionTransformer" incomingLink="//GreenPatternTransformer/transformAssignment/@activity/@ownedActivityNode.2/@storyPattern/@linkVariable.1"/>
            <objectVariable name="report" incomingLink="//GreenPatternTransformer/transformAssignment/@activity/@ownedActivityNode.2/@storyPattern/@linkVariable.0">
              <type xsi:type="ecore:EClass" href="platform:/plugin/org.moflon.sdm.compiler.democles.validation.result/model/Result.ecore#//ValidationReport"/>
            </objectVariable>
            <objectVariable type="//GreenPatternTransformer" name="this" outgoingLink="//GreenPatternTransformer/transformAssignment/@activity/@ownedActivityNode.2/@storyPattern/@linkVariable.0 //GreenPatternTransformer/transformAssignment/@activity/@ownedActivityNode.2/@storyPattern/@linkVariable.1" bindingState="BOUND"/>
            <linkVariable name="validationReport" target="//GreenPatternTransformer/transformAssignment/@activity/@ownedActivityNode.2/@storyPattern/@objectVariable.1" source="//GreenPatternTransformer/transformAssignment/@activity/@ownedActivityNode.2/@storyPattern/@objectVariable.2" type="//PatternTransformer/validationReport"/>
            <linkVariable name="expressionTransformer" target="//GreenPatternTransformer/transformAssignment/@activity/@ownedActivityNode.2/@storyPattern/@objectVariable.0" source="//GreenPatternTransformer/transformAssignment/@activity/@ownedActivityNode.2/@storyPattern/@objectVariable.2" type="//PatternTransformer/expressionTransformer"/>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StoryNode" name="CreateAttributeConstraint" comment="CreateAttributeConstraint" outgoing="//GreenPatternTransformer/transformAssignment/@activity/@ownedActivityEdge.2" incoming="//GreenPatternTransformer/transformAssignment/@activity/@ownedActivityEdge.0">
          <storyPattern comment="CreateAttributeConstraint">
            <objectVariable name="pattern" incomingLink="//GreenPatternTransformer/transformAssignment/@activity/@ownedActivityNode.3/@storyPattern/@linkVariable.0" bindingState="BOUND">
              <type xsi:type="ecore:EClass" href="http://gervarro.org/democles/specification.ecore#//Pattern"/>
            </objectVariable>
            <objectVariable name="variableParameter" incomingLink="//GreenPatternTransformer/transformAssignment/@activity/@ownedActivityNode.3/@storyPattern/@linkVariable.3" outgoingLink="//GreenPatternTransformer/transformAssignment/@activity/@ownedActivityNode.3/@storyPattern/@linkVariable.1" bindingOperator="CREATE">
              <type xsi:type="ecore:EClass" href="http://gervarro.org/democles/specification.ecore#//ConstraintParameter"/>
            </objectVariable>
            <objectVariable name="eAttribute" incomingLink="//GreenPatternTransformer/transformAssignment/@activity/@ownedActivityNode.3/@storyPattern/@linkVariable.2" bindingState="BOUND">
              <type xsi:type="ecore:EClass" href="http://www.eclipse.org/emf/2002/Ecore#//EAttribute"/>
            </objectVariable>
            <objectVariable name="attribute" incomingLink="//GreenPatternTransformer/transformAssignment/@activity/@ownedActivityNode.3/@storyPattern/@linkVariable.4" outgoingLink="//GreenPatternTransformer/transformAssignment/@activity/@ownedActivityNode.3/@storyPattern/@linkVariable.2 //GreenPatternTransformer/transformAssignment/@activity/@ownedActivityNode.3/@storyPattern/@linkVariable.3" bindingOperator="CREATE">
              <type xsi:type="ecore:EClass" href="http://gervarro.org/democles/constraint/emf.ecore#//Attribute"/>
            </objectVariable>
            <objectVariable name="variable" incomingLink="//GreenPatternTransformer/transformAssignment/@activity/@ownedActivityNode.3/@storyPattern/@linkVariable.1" bindingState="BOUND">
              <type xsi:type="ecore:EClass" href="http://gervarro.org/democles/specification.ecore#//Variable"/>
            </objectVariable>
            <objectVariable name="patternBody" outgoingLink="//GreenPatternTransformer/transformAssignment/@activity/@ownedActivityNode.3/@storyPattern/@linkVariable.4 //GreenPatternTransformer/transformAssignment/@activity/@ownedActivityNode.3/@storyPattern/@linkVariable.0">
              <type xsi:type="ecore:EClass" href="http://gervarro.org/democles/specification.ecore#//PatternBody"/>
            </objectVariable>
            <linkVariable name="header" target="//GreenPatternTransformer/transformAssignment/@activity/@ownedActivityNode.3/@storyPattern/@objectVariable.0" source="//GreenPatternTransformer/transformAssignment/@activity/@ownedActivityNode.3/@storyPattern/@objectVariable.5">
              <type href="http://gervarro.org/democles/specification.ecore#//PatternBody/header"/>
            </linkVariable>
            <linkVariable name="reference" target="//GreenPatternTransformer/transformAssignment/@activity/@ownedActivityNode.3/@storyPattern/@objectVariable.4" source="//GreenPatternTransformer/transformAssignment/@activity/@ownedActivityNode.3/@storyPattern/@objectVariable.1" bindingOperator="CREATE">
              <type href="http://gervarro.org/democles/specification.ecore#//ConstraintParameter/reference"/>
            </linkVariable>
            <linkVariable name="eModelElement" target="//GreenPatternTransformer/transformAssignment/@activity/@ownedActivityNode.3/@storyPattern/@objectVariable.2" source="//GreenPatternTransformer/transformAssignment/@activity/@ownedActivityNode.3/@storyPattern/@objectVariable.3" bindingOperator="CREATE">
              <type href="http://gervarro.org/democles/constraint/emf.ecore#//EMFConstraint/eModelElement"/>
            </linkVariable>
            <linkVariable name="parameters" target="//GreenPatternTransformer/transformAssignment/@activity/@ownedActivityNode.3/@storyPattern/@objectVariable.1" source="//GreenPatternTransformer/transformAssignment/@activity/@ownedActivityNode.3/@storyPattern/@objectVariable.3" bindingOperator="CREATE">
              <type href="http://gervarro.org/democles/specification.ecore#//Constraint/parameters"/>
            </linkVariable>
            <linkVariable name="constraints" target="//GreenPatternTransformer/transformAssignment/@activity/@ownedActivityNode.3/@storyPattern/@objectVariable.3" source="//GreenPatternTransformer/transformAssignment/@activity/@ownedActivityNode.3/@storyPattern/@objectVariable.5" bindingOperator="CREATE">
              <type href="http://gervarro.org/democles/specification.ecore#//PatternBody/constraints"/>
            </linkVariable>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StoryNode" name="LookupObjectVariableType" comment="LookupObjectVariableType" outgoing="//GreenPatternTransformer/transformAssignment/@activity/@ownedActivityEdge.3" incoming="//GreenPatternTransformer/transformAssignment/@activity/@ownedActivityEdge.6">
          <storyPattern comment="LookupObjectVariableType">
            <objectVariable name="objectVariable" outgoingLink="//GreenPatternTransformer/transformAssignment/@activity/@ownedActivityNode.4/@storyPattern/@linkVariable.0" bindingState="BOUND">
              <type xsi:type="ecore:EClass" href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//patterns/ObjectVariable"/>
            </objectVariable>
            <objectVariable name="eClassifier" incomingLink="//GreenPatternTransformer/transformAssignment/@activity/@ownedActivityNode.4/@storyPattern/@linkVariable.0">
              <type xsi:type="ecore:EClass" href="http://www.eclipse.org/emf/2002/Ecore#//EClassifier"/>
            </objectVariable>
            <linkVariable name="type" target="//GreenPatternTransformer/transformAssignment/@activity/@ownedActivityNode.4/@storyPattern/@objectVariable.1" source="//GreenPatternTransformer/transformAssignment/@activity/@ownedActivityNode.4/@storyPattern/@objectVariable.0">
              <type href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//TypedElement/type"/>
            </linkVariable>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StoryNode" name="HandleAttributeVariable" comment="HandleAttributeVariable" outgoing="//GreenPatternTransformer/transformAssignment/@activity/@ownedActivityEdge.4" incoming="//GreenPatternTransformer/transformAssignment/@activity/@ownedActivityEdge.2">
          <storyPattern comment="HandleAttributeVariable">
            <objectVariable name="attributeVariable" incomingLink="//GreenPatternTransformer/transformAssignment/@activity/@ownedActivityNode.5/@storyPattern/@linkVariable.1 //GreenPatternTransformer/transformAssignment/@activity/@ownedActivityNode.5/@storyPattern/@linkVariable.2" outgoingLink="//GreenPatternTransformer/transformAssignment/@activity/@ownedActivityNode.5/@storyPattern/@linkVariable.0" bindingOperator="CREATE">
              <type xsi:type="ecore:EClass" href="http://gervarro.org/democles/constraint/emf.ecore#//EMFVariable"/>
              <attributeAssignment>
                <valueExpression xsi:type="callExpressions:MethodCallExpression" callee="//PatternVariableHandler/concat">
                  <ownedParameterBindings parameter="//PatternVariableHandler/concat/first">
                    <valueExpression xsi:type="callExpressions:MethodCallExpression" callee="//PatternVariableHandler/concat">
                      <ownedParameterBindings parameter="//PatternVariableHandler/concat/first">
                        <valueExpression xsi:type="callExpressions:MethodCallExpression" callee="//PatternVariableHandler/concat">
                          <ownedParameterBindings parameter="//PatternVariableHandler/concat/first">
                            <valueExpression xsi:type="patternExpressions:AttributeValueExpression" object="//GreenPatternTransformer/transformAssignment/@activity/@ownedActivityNode.3/@storyPattern/@objectVariable.4">
                              <attribute href="http://gervarro.org/democles/specification.ecore#//Variable/name"/>
                            </valueExpression>
                          </ownedParameterBindings>
                          <ownedParameterBindings parameter="//PatternVariableHandler/concat/second">
                            <valueExpression xsi:type="expressions:LiteralExpression" value="&quot;_&quot;"/>
                          </ownedParameterBindings>
                          <target xsi:type="patternExpressions:ObjectVariableExpression" object="//GreenPatternTransformer/transformAssignment/@activity/@ownedActivityNode.2/@storyPattern/@objectVariable.2"/>
                        </valueExpression>
                      </ownedParameterBindings>
                      <ownedParameterBindings parameter="//PatternVariableHandler/concat/second">
                        <valueExpression xsi:type="patternExpressions:AttributeValueExpression" object="//GreenPatternTransformer/transformAssignment/@activity/@ownedActivityNode.6/@storyPattern/@objectVariable.0">
                          <attribute href="http://www.eclipse.org/emf/2002/Ecore#//ENamedElement/name"/>
                        </valueExpression>
                      </ownedParameterBindings>
                      <target xsi:type="patternExpressions:ObjectVariableExpression" object="//GreenPatternTransformer/transformAssignment/@activity/@ownedActivityNode.2/@storyPattern/@objectVariable.2"/>
                    </valueExpression>
                  </ownedParameterBindings>
                  <ownedParameterBindings parameter="//PatternVariableHandler/concat/second">
                    <valueExpression xsi:type="expressions:LiteralExpression" value="&quot;_prime&quot;"/>
                  </ownedParameterBindings>
                  <target xsi:type="patternExpressions:ObjectVariableExpression" object="//GreenPatternTransformer/transformAssignment/@activity/@ownedActivityNode.2/@storyPattern/@objectVariable.2"/>
                </valueExpression>
                <attribute href="http://gervarro.org/democles/specification.ecore#//Variable/name"/>
              </attributeAssignment>
            </objectVariable>
            <objectVariable name="eDataType" incomingLink="//GreenPatternTransformer/transformAssignment/@activity/@ownedActivityNode.5/@storyPattern/@linkVariable.0 //GreenPatternTransformer/transformAssignment/@activity/@ownedActivityNode.5/@storyPattern/@linkVariable.4">
              <type xsi:type="ecore:EClass" href="http://www.eclipse.org/emf/2002/Ecore#//EDataType"/>
            </objectVariable>
            <objectVariable name="patternBody" outgoingLink="//GreenPatternTransformer/transformAssignment/@activity/@ownedActivityNode.5/@storyPattern/@linkVariable.1" bindingState="BOUND">
              <type xsi:type="ecore:EClass" href="http://gervarro.org/democles/specification.ecore#//PatternBody"/>
            </objectVariable>
            <objectVariable name="attributeVariableParameter" incomingLink="//GreenPatternTransformer/transformAssignment/@activity/@ownedActivityNode.5/@storyPattern/@linkVariable.3" outgoingLink="//GreenPatternTransformer/transformAssignment/@activity/@ownedActivityNode.5/@storyPattern/@linkVariable.2" bindingOperator="CREATE">
              <type xsi:type="ecore:EClass" href="http://gervarro.org/democles/specification.ecore#//ConstraintParameter"/>
            </objectVariable>
            <objectVariable name="attribute" outgoingLink="//GreenPatternTransformer/transformAssignment/@activity/@ownedActivityNode.5/@storyPattern/@linkVariable.3" bindingState="BOUND">
              <type xsi:type="ecore:EClass" href="http://gervarro.org/democles/constraint/emf.ecore#//Attribute"/>
            </objectVariable>
            <objectVariable name="eAttribute" outgoingLink="//GreenPatternTransformer/transformAssignment/@activity/@ownedActivityNode.5/@storyPattern/@linkVariable.4" bindingState="BOUND">
              <type xsi:type="ecore:EClass" href="http://www.eclipse.org/emf/2002/Ecore#//EAttribute"/>
            </objectVariable>
            <linkVariable name="eClassifier" target="//GreenPatternTransformer/transformAssignment/@activity/@ownedActivityNode.5/@storyPattern/@objectVariable.1" source="//GreenPatternTransformer/transformAssignment/@activity/@ownedActivityNode.5/@storyPattern/@objectVariable.0" bindingOperator="CREATE">
              <type href="http://gervarro.org/democles/constraint/emf.ecore#//EMFVariable/eClassifier"/>
            </linkVariable>
            <linkVariable name="localVariables" target="//GreenPatternTransformer/transformAssignment/@activity/@ownedActivityNode.5/@storyPattern/@objectVariable.0" source="//GreenPatternTransformer/transformAssignment/@activity/@ownedActivityNode.5/@storyPattern/@objectVariable.2" bindingOperator="CREATE">
              <type href="http://gervarro.org/democles/specification.ecore#//PatternBody/localVariables"/>
            </linkVariable>
            <linkVariable name="reference" target="//GreenPatternTransformer/transformAssignment/@activity/@ownedActivityNode.5/@storyPattern/@objectVariable.0" source="//GreenPatternTransformer/transformAssignment/@activity/@ownedActivityNode.5/@storyPattern/@objectVariable.3" bindingOperator="CREATE">
              <type href="http://gervarro.org/democles/specification.ecore#//ConstraintParameter/reference"/>
            </linkVariable>
            <linkVariable name="parameters" target="//GreenPatternTransformer/transformAssignment/@activity/@ownedActivityNode.5/@storyPattern/@objectVariable.3" source="//GreenPatternTransformer/transformAssignment/@activity/@ownedActivityNode.5/@storyPattern/@objectVariable.4" bindingOperator="CREATE">
              <type href="http://gervarro.org/democles/specification.ecore#//Constraint/parameters"/>
            </linkVariable>
            <linkVariable name="eType" target="//GreenPatternTransformer/transformAssignment/@activity/@ownedActivityNode.5/@storyPattern/@objectVariable.1" source="//GreenPatternTransformer/transformAssignment/@activity/@ownedActivityNode.5/@storyPattern/@objectVariable.5">
              <type href="http://www.eclipse.org/emf/2002/Ecore#//ETypedElement/eType"/>
            </linkVariable>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StoryNode" name="LookupAssignmentDetails" comment="LookupAssignmentDetails" outgoing="//GreenPatternTransformer/transformAssignment/@activity/@ownedActivityEdge.5 //GreenPatternTransformer/transformAssignment/@activity/@ownedActivityEdge.6" incoming="//GreenPatternTransformer/transformAssignment/@activity/@ownedActivityEdge.1">
          <storyPattern comment="LookupAssignmentDetails">
            <objectVariable name="eAttribute" incomingLink="//GreenPatternTransformer/transformAssignment/@activity/@ownedActivityNode.6/@storyPattern/@linkVariable.1">
              <type xsi:type="ecore:EClass" href="http://www.eclipse.org/emf/2002/Ecore#//EAttribute"/>
            </objectVariable>
            <objectVariable name="assignment" incomingLink="//GreenPatternTransformer/transformAssignment/@activity/@ownedActivityNode.6/@storyPattern/@linkVariable.2" outgoingLink="//GreenPatternTransformer/transformAssignment/@activity/@ownedActivityNode.6/@storyPattern/@linkVariable.0 //GreenPatternTransformer/transformAssignment/@activity/@ownedActivityNode.6/@storyPattern/@linkVariable.1" bindingState="BOUND">
              <type xsi:type="ecore:EClass" href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//patterns/AttributeAssignment"/>
            </objectVariable>
            <objectVariable name="expression" incomingLink="//GreenPatternTransformer/transformAssignment/@activity/@ownedActivityNode.6/@storyPattern/@linkVariable.0">
              <type xsi:type="ecore:EClass" href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//expressions/Expression"/>
            </objectVariable>
            <objectVariable name="objectVariable" outgoingLink="//GreenPatternTransformer/transformAssignment/@activity/@ownedActivityNode.6/@storyPattern/@linkVariable.2">
              <type xsi:type="ecore:EClass" href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//patterns/ObjectVariable"/>
            </objectVariable>
            <linkVariable name="valueExpression" target="//GreenPatternTransformer/transformAssignment/@activity/@ownedActivityNode.6/@storyPattern/@objectVariable.2" source="//GreenPatternTransformer/transformAssignment/@activity/@ownedActivityNode.6/@storyPattern/@objectVariable.1">
              <type href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//patterns/AttributeAssignment/valueExpression"/>
            </linkVariable>
            <linkVariable name="attribute" target="//GreenPatternTransformer/transformAssignment/@activity/@ownedActivityNode.6/@storyPattern/@objectVariable.0" source="//GreenPatternTransformer/transformAssignment/@activity/@ownedActivityNode.6/@storyPattern/@objectVariable.1">
              <type href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//patterns/AttributeAssignment/attribute"/>
            </linkVariable>
            <linkVariable name="attributeAssignment" target="//GreenPatternTransformer/transformAssignment/@activity/@ownedActivityNode.6/@storyPattern/@objectVariable.1" source="//GreenPatternTransformer/transformAssignment/@activity/@ownedActivityNode.6/@storyPattern/@objectVariable.3">
              <type href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//patterns/ObjectVariable/attributeAssignment"/>
            </linkVariable>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//GreenPatternTransformer/transformAssignment/@activity/@ownedActivityEdge.5"/>
        <ownedActivityNode xsi:type="activities:StartNode" outgoing="//GreenPatternTransformer/transformAssignment/@activity/@ownedActivityEdge.7"/>
        <ownedActivityNode xsi:type="activities:StatementNode" name="TransformAndAssignExpression" outgoing="//GreenPatternTransformer/transformAssignment/@activity/@ownedActivityEdge.8" incoming="//GreenPatternTransformer/transformAssignment/@activity/@ownedActivityEdge.4">
          <statementExpression xsi:type="callExpressions:MethodCallExpression" callee="//ExpressionTransformer/transformAndAssignExpression">
            <ownedParameterBindings parameter="//ExpressionTransformer/transformAndAssignExpression/report">
              <valueExpression xsi:type="patternExpressions:ObjectVariableExpression" object="//GreenPatternTransformer/transformAssignment/@activity/@ownedActivityNode.2/@storyPattern/@objectVariable.1"/>
            </ownedParameterBindings>
            <ownedParameterBindings parameter="//ExpressionTransformer/transformAndAssignExpression/patternVariableHandler">
              <valueExpression xsi:type="patternExpressions:ObjectVariableExpression" object="//GreenPatternTransformer/transformAssignment/@activity/@ownedActivityNode.2/@storyPattern/@objectVariable.2"/>
            </ownedParameterBindings>
            <ownedParameterBindings parameter="//ExpressionTransformer/transformAndAssignExpression/expression">
              <valueExpression xsi:type="patternExpressions:ObjectVariableExpression" object="//GreenPatternTransformer/transformAssignment/@activity/@ownedActivityNode.6/@storyPattern/@objectVariable.2"/>
            </ownedParameterBindings>
            <ownedParameterBindings parameter="//ExpressionTransformer/transformAndAssignExpression/pattern">
              <valueExpression xsi:type="callExpressions:ParameterExpression" parameter="//GreenPatternTransformer/transformAssignment/pattern"/>
            </ownedParameterBindings>
            <ownedParameterBindings parameter="//ExpressionTransformer/transformAndAssignExpression/variable">
              <valueExpression xsi:type="patternExpressions:ObjectVariableExpression" object="//GreenPatternTransformer/transformAssignment/@activity/@ownedActivityNode.5/@storyPattern/@objectVariable.0"/>
            </ownedParameterBindings>
            <ownedParameterBindings parameter="//ExpressionTransformer/transformAndAssignExpression/expectedType">
              <valueExpression xsi:type="patternExpressions:ObjectVariableExpression" object="//GreenPatternTransformer/transformAssignment/@activity/@ownedActivityNode.5/@storyPattern/@objectVariable.1"/>
            </ownedParameterBindings>
            <target xsi:type="patternExpressions:ObjectVariableExpression" object="//GreenPatternTransformer/transformAssignment/@activity/@ownedActivityNode.2/@storyPattern/@objectVariable.0"/>
          </statementExpression>
        </ownedActivityNode>
      </activity>
    </eOperations>
  </eClassifiers>
  <eClassifiers xsi:type="ecore:EClass" name="PatternVariableHandler">
    <eOperations xsi:type="activities:MoflonEOperation" name="concat">
      <eType xsi:type="ecore:EDataType" href="http://www.eclipse.org/emf/2002/Ecore#//EString"/>
      <eParameters name="first">
        <eType xsi:type="ecore:EDataType" href="http://www.eclipse.org/emf/2002/Ecore#//EString"/>
      </eParameters>
      <eParameters name="second">
        <eType xsi:type="ecore:EDataType" href="http://www.eclipse.org/emf/2002/Ecore#//EString"/>
      </eParameters>
    </eOperations>
    <eOperations xsi:type="activities:MoflonEOperation" name="getAttributeVariable">
      <eType xsi:type="ecore:EClass" href="http://gervarro.org/democles/specification.ecore#//Variable"/>
      <eParameters name="attributeOwner">
        <eType xsi:type="ecore:EClass" href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//patterns/ObjectVariable"/>
      </eParameters>
      <eParameters name="eAttribute">
        <eType xsi:type="ecore:EClass" href="http://www.eclipse.org/emf/2002/Ecore#//EAttribute"/>
      </eParameters>
      <eParameters name="pattern">
        <eType xsi:type="ecore:EClass" href="http://gervarro.org/democles/specification.ecore#//Pattern"/>
      </eParameters>
      <activity owningOperation="//PatternVariableHandler/getAttributeVariable">
        <ownedActivityEdge source="//PatternVariableHandler/getAttributeVariable/@activity/@ownedActivityNode.0" target="//PatternVariableHandler/getAttributeVariable/@activity/@ownedActivityNode.2" guard="SUCCESS"/>
        <ownedActivityEdge source="//PatternVariableHandler/getAttributeVariable/@activity/@ownedActivityNode.0" target="//PatternVariableHandler/getAttributeVariable/@activity/@ownedActivityNode.4" guard="FAILURE"/>
        <ownedActivityEdge source="//PatternVariableHandler/getAttributeVariable/@activity/@ownedActivityNode.1" target="//PatternVariableHandler/getAttributeVariable/@activity/@ownedActivityNode.3"/>
        <ownedActivityEdge source="//PatternVariableHandler/getAttributeVariable/@activity/@ownedActivityNode.3" target="//PatternVariableHandler/getAttributeVariable/@activity/@ownedActivityNode.7"/>
        <ownedActivityEdge source="//PatternVariableHandler/getAttributeVariable/@activity/@ownedActivityNode.4" target="//PatternVariableHandler/getAttributeVariable/@activity/@ownedActivityNode.6"/>
        <ownedActivityEdge source="//PatternVariableHandler/getAttributeVariable/@activity/@ownedActivityNode.6" target="//PatternVariableHandler/getAttributeVariable/@activity/@ownedActivityNode.5"/>
        <ownedActivityEdge source="//PatternVariableHandler/getAttributeVariable/@activity/@ownedActivityNode.7" target="//PatternVariableHandler/getAttributeVariable/@activity/@ownedActivityNode.0"/>
        <ownedActivityEdge source="//PatternVariableHandler/getAttributeVariable/@activity/@ownedActivityNode.8" target="//PatternVariableHandler/getAttributeVariable/@activity/@ownedActivityNode.1"/>
        <ownedActivityNode xsi:type="activities:StoryNode" name="IsAttributeOfOwnerAlreadyKnown" comment="IsAttributeOfOwnerAlreadyKnown" outgoing="//PatternVariableHandler/getAttributeVariable/@activity/@ownedActivityEdge.0 //PatternVariableHandler/getAttributeVariable/@activity/@ownedActivityEdge.1" incoming="//PatternVariableHandler/getAttributeVariable/@activity/@ownedActivityEdge.6">
          <storyPattern comment="IsAttributeOfOwnerAlreadyKnown">
            <objectVariable name="attribute" incomingLink="//PatternVariableHandler/getAttributeVariable/@activity/@ownedActivityNode.0/@storyPattern/@linkVariable.0">
              <type xsi:type="ecore:EClass" href="http://gervarro.org/democles/specification.ecore#//Variable"/>
              <constraint>
                <constraintExpression xsi:type="expressions:ComparisonExpression" operator="EQUAL">
                  <rightExpression xsi:type="callExpressions:MethodCallExpression" callee="//PatternVariableHandler/concat">
                    <ownedParameterBindings parameter="//PatternVariableHandler/concat/first">
                      <valueExpression xsi:type="callExpressions:MethodCallExpression" callee="//PatternVariableHandler/concat">
                        <ownedParameterBindings parameter="//PatternVariableHandler/concat/first">
                          <valueExpression xsi:type="patternExpressions:AttributeValueExpression" object="//PatternVariableHandler/getAttributeVariable/@activity/@ownedActivityNode.4/@storyPattern/@objectVariable.2">
                            <attribute href="http://gervarro.org/democles/specification.ecore#//Variable/name"/>
                          </valueExpression>
                        </ownedParameterBindings>
                        <ownedParameterBindings parameter="//PatternVariableHandler/concat/second">
                          <valueExpression xsi:type="expressions:LiteralExpression" value="&quot;_&quot;"/>
                        </ownedParameterBindings>
                        <target xsi:type="patternExpressions:ObjectVariableExpression" object="//PatternVariableHandler/getAttributeVariable/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.0"/>
                      </valueExpression>
                    </ownedParameterBindings>
                    <ownedParameterBindings parameter="//PatternVariableHandler/concat/second">
                      <valueExpression xsi:type="patternExpressions:AttributeValueExpression" object="//PatternVariableHandler/getAttributeVariable/@activity/@ownedActivityNode.4/@storyPattern/@objectVariable.1">
                        <attribute href="http://www.eclipse.org/emf/2002/Ecore#//ENamedElement/name"/>
                      </valueExpression>
                    </ownedParameterBindings>
                    <target xsi:type="patternExpressions:ObjectVariableExpression" object="//PatternVariableHandler/getAttributeVariable/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.0"/>
                  </rightExpression>
                  <leftExpression xsi:type="patternExpressions:AttributeValueExpression" object="//PatternVariableHandler/getAttributeVariable/@activity/@ownedActivityNode.0/@storyPattern/@objectVariable.0">
                    <attribute href="http://gervarro.org/democles/specification.ecore#//Variable/name"/>
                  </leftExpression>
                </constraintExpression>
              </constraint>
            </objectVariable>
            <objectVariable name="patternBody" outgoingLink="//PatternVariableHandler/getAttributeVariable/@activity/@ownedActivityNode.0/@storyPattern/@linkVariable.0" bindingState="BOUND">
              <type xsi:type="ecore:EClass" href="http://gervarro.org/democles/specification.ecore#//PatternBody"/>
            </objectVariable>
            <linkVariable name="localVariables" target="//PatternVariableHandler/getAttributeVariable/@activity/@ownedActivityNode.0/@storyPattern/@objectVariable.0" source="//PatternVariableHandler/getAttributeVariable/@activity/@ownedActivityNode.0/@storyPattern/@objectVariable.1">
              <type href="http://gervarro.org/democles/specification.ecore#//PatternBody/localVariables"/>
            </linkVariable>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StoryNode" name="LookupAttributeOwnerType" comment="LookupAttributeOwnerType" outgoing="//PatternVariableHandler/getAttributeVariable/@activity/@ownedActivityEdge.2" incoming="//PatternVariableHandler/getAttributeVariable/@activity/@ownedActivityEdge.7">
          <storyPattern comment="LookupAttributeOwnerType">
            <objectVariable type="//PatternVariableHandler" name="this" bindingState="BOUND"/>
            <objectVariable name="eClassifier" incomingLink="//PatternVariableHandler/getAttributeVariable/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.0">
              <type xsi:type="ecore:EClass" href="http://www.eclipse.org/emf/2002/Ecore#//EClassifier"/>
            </objectVariable>
            <objectVariable name="attributeOwner" outgoingLink="//PatternVariableHandler/getAttributeVariable/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.0" bindingState="BOUND">
              <type xsi:type="ecore:EClass" href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//patterns/ObjectVariable"/>
            </objectVariable>
            <linkVariable name="type" target="//PatternVariableHandler/getAttributeVariable/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.1" source="//PatternVariableHandler/getAttributeVariable/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.2">
              <type href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//TypedElement/type"/>
            </linkVariable>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//PatternVariableHandler/getAttributeVariable/@activity/@ownedActivityEdge.0">
          <returnValue xsi:type="patternExpressions:ObjectVariableExpression" object="//PatternVariableHandler/getAttributeVariable/@activity/@ownedActivityNode.0/@storyPattern/@objectVariable.0"/>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StoryNode" name="LookupAttributeOwnerVariable" comment="LookupAttributeOwnerVariable" outgoing="//PatternVariableHandler/getAttributeVariable/@activity/@ownedActivityEdge.3" incoming="//PatternVariableHandler/getAttributeVariable/@activity/@ownedActivityEdge.2">
          <storyPattern comment="LookupAttributeOwnerVariable">
            <objectVariable name="variable" bindingState="BOUND">
              <type xsi:type="ecore:EClass" href="http://gervarro.org/democles/specification.ecore#//Variable"/>
              <bindingExpression xsi:type="callExpressions:MethodCallExpression" callee="//PatternVariableHandler/lookupVariableInPattern">
                <ownedParameterBindings parameter="//PatternVariableHandler/lookupVariableInPattern/pattern">
                  <valueExpression xsi:type="callExpressions:ParameterExpression" parameter="//PatternVariableHandler/getAttributeVariable/pattern"/>
                </ownedParameterBindings>
                <ownedParameterBindings parameter="//PatternVariableHandler/lookupVariableInPattern/variableName">
                  <valueExpression xsi:type="patternExpressions:AttributeValueExpression" object="//PatternVariableHandler/getAttributeVariable/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.2">
                    <attribute href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//NamedElement/name"/>
                  </valueExpression>
                </ownedParameterBindings>
                <ownedParameterBindings parameter="//PatternVariableHandler/lookupVariableInPattern/variableType">
                  <valueExpression xsi:type="patternExpressions:ObjectVariableExpression" object="//PatternVariableHandler/getAttributeVariable/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.1"/>
                </ownedParameterBindings>
                <target xsi:type="patternExpressions:ObjectVariableExpression" object="//PatternVariableHandler/getAttributeVariable/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.0"/>
              </bindingExpression>
            </objectVariable>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StoryNode" name="CreateAttributeLookupConstraint" comment="CreateAttributeLookupConstraint" outgoing="//PatternVariableHandler/getAttributeVariable/@activity/@ownedActivityEdge.4" incoming="//PatternVariableHandler/getAttributeVariable/@activity/@ownedActivityEdge.1">
          <storyPattern comment="CreateAttributeLookupConstraint">
            <objectVariable name="newConstraint" incomingLink="//PatternVariableHandler/getAttributeVariable/@activity/@ownedActivityNode.4/@storyPattern/@linkVariable.3" outgoingLink="//PatternVariableHandler/getAttributeVariable/@activity/@ownedActivityNode.4/@storyPattern/@linkVariable.0 //PatternVariableHandler/getAttributeVariable/@activity/@ownedActivityNode.4/@storyPattern/@linkVariable.1" bindingOperator="CREATE">
              <type xsi:type="ecore:EClass" href="http://gervarro.org/democles/constraint/emf.ecore#//Attribute"/>
            </objectVariable>
            <objectVariable name="eAttribute" incomingLink="//PatternVariableHandler/getAttributeVariable/@activity/@ownedActivityNode.4/@storyPattern/@linkVariable.0" bindingState="BOUND">
              <type xsi:type="ecore:EClass" href="http://www.eclipse.org/emf/2002/Ecore#//EAttribute"/>
            </objectVariable>
            <objectVariable name="variable" incomingLink="//PatternVariableHandler/getAttributeVariable/@activity/@ownedActivityNode.4/@storyPattern/@linkVariable.2" bindingState="BOUND">
              <type xsi:type="ecore:EClass" href="http://gervarro.org/democles/specification.ecore#//Variable"/>
            </objectVariable>
            <objectVariable name="parameter" incomingLink="//PatternVariableHandler/getAttributeVariable/@activity/@ownedActivityNode.4/@storyPattern/@linkVariable.1" outgoingLink="//PatternVariableHandler/getAttributeVariable/@activity/@ownedActivityNode.4/@storyPattern/@linkVariable.2" bindingOperator="CREATE">
              <type xsi:type="ecore:EClass" href="http://gervarro.org/democles/specification.ecore#//ConstraintParameter"/>
            </objectVariable>
            <objectVariable name="patternBody" outgoingLink="//PatternVariableHandler/getAttributeVariable/@activity/@ownedActivityNode.4/@storyPattern/@linkVariable.3" bindingState="BOUND">
              <type xsi:type="ecore:EClass" href="http://gervarro.org/democles/specification.ecore#//PatternBody"/>
            </objectVariable>
            <linkVariable name="eModelElement" target="//PatternVariableHandler/getAttributeVariable/@activity/@ownedActivityNode.4/@storyPattern/@objectVariable.1" source="//PatternVariableHandler/getAttributeVariable/@activity/@ownedActivityNode.4/@storyPattern/@objectVariable.0" bindingOperator="CREATE">
              <type href="http://gervarro.org/democles/constraint/emf.ecore#//EMFConstraint/eModelElement"/>
            </linkVariable>
            <linkVariable name="parameters" target="//PatternVariableHandler/getAttributeVariable/@activity/@ownedActivityNode.4/@storyPattern/@objectVariable.3" source="//PatternVariableHandler/getAttributeVariable/@activity/@ownedActivityNode.4/@storyPattern/@objectVariable.0" bindingOperator="CREATE">
              <type href="http://gervarro.org/democles/specification.ecore#//Constraint/parameters"/>
            </linkVariable>
            <linkVariable name="reference" target="//PatternVariableHandler/getAttributeVariable/@activity/@ownedActivityNode.4/@storyPattern/@objectVariable.2" source="//PatternVariableHandler/getAttributeVariable/@activity/@ownedActivityNode.4/@storyPattern/@objectVariable.3" bindingOperator="CREATE">
              <type href="http://gervarro.org/democles/specification.ecore#//ConstraintParameter/reference"/>
            </linkVariable>
            <linkVariable name="constraints" target="//PatternVariableHandler/getAttributeVariable/@activity/@ownedActivityNode.4/@storyPattern/@objectVariable.0" source="//PatternVariableHandler/getAttributeVariable/@activity/@ownedActivityNode.4/@storyPattern/@objectVariable.4" bindingOperator="CREATE">
              <type href="http://gervarro.org/democles/specification.ecore#//PatternBody/constraints"/>
            </linkVariable>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//PatternVariableHandler/getAttributeVariable/@activity/@ownedActivityEdge.5">
          <returnValue xsi:type="patternExpressions:ObjectVariableExpression" object="//PatternVariableHandler/getAttributeVariable/@activity/@ownedActivityNode.6/@storyPattern/@objectVariable.5"/>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StoryNode" name="CreateAttributeVariable" comment="CreateAttributeVariable" outgoing="//PatternVariableHandler/getAttributeVariable/@activity/@ownedActivityEdge.5" incoming="//PatternVariableHandler/getAttributeVariable/@activity/@ownedActivityEdge.4">
          <storyPattern comment="CreateAttributeVariable">
            <objectVariable name="newAttributeParameter" incomingLink="//PatternVariableHandler/getAttributeVariable/@activity/@ownedActivityNode.6/@storyPattern/@linkVariable.3" outgoingLink="//PatternVariableHandler/getAttributeVariable/@activity/@ownedActivityNode.6/@storyPattern/@linkVariable.0" bindingOperator="CREATE">
              <type xsi:type="ecore:EClass" href="http://gervarro.org/democles/specification.ecore#//ConstraintParameter"/>
            </objectVariable>
            <objectVariable name="eDataType" incomingLink="//PatternVariableHandler/getAttributeVariable/@activity/@ownedActivityNode.6/@storyPattern/@linkVariable.2 //PatternVariableHandler/getAttributeVariable/@activity/@ownedActivityNode.6/@storyPattern/@linkVariable.4">
              <type xsi:type="ecore:EClass" href="http://www.eclipse.org/emf/2002/Ecore#//EDataType"/>
            </objectVariable>
            <objectVariable name="patternBody" outgoingLink="//PatternVariableHandler/getAttributeVariable/@activity/@ownedActivityNode.6/@storyPattern/@linkVariable.1" bindingState="BOUND">
              <type xsi:type="ecore:EClass" href="http://gervarro.org/democles/specification.ecore#//PatternBody"/>
            </objectVariable>
            <objectVariable name="eAttribute" outgoingLink="//PatternVariableHandler/getAttributeVariable/@activity/@ownedActivityNode.6/@storyPattern/@linkVariable.2" bindingState="BOUND">
              <type xsi:type="ecore:EClass" href="http://www.eclipse.org/emf/2002/Ecore#//EAttribute"/>
            </objectVariable>
            <objectVariable name="newConstraint" outgoingLink="//PatternVariableHandler/getAttributeVariable/@activity/@ownedActivityNode.6/@storyPattern/@linkVariable.3" bindingState="BOUND">
              <type xsi:type="ecore:EClass" href="http://gervarro.org/democles/constraint/emf.ecore#//Attribute"/>
            </objectVariable>
            <objectVariable name="newAttribute" incomingLink="//PatternVariableHandler/getAttributeVariable/@activity/@ownedActivityNode.6/@storyPattern/@linkVariable.0 //PatternVariableHandler/getAttributeVariable/@activity/@ownedActivityNode.6/@storyPattern/@linkVariable.1" outgoingLink="//PatternVariableHandler/getAttributeVariable/@activity/@ownedActivityNode.6/@storyPattern/@linkVariable.4" bindingOperator="CREATE">
              <type xsi:type="ecore:EClass" href="http://gervarro.org/democles/constraint/emf.ecore#//EMFVariable"/>
              <attributeAssignment>
                <valueExpression xsi:type="callExpressions:MethodCallExpression" callee="//PatternVariableHandler/concat">
                  <ownedParameterBindings parameter="//PatternVariableHandler/concat/first">
                    <valueExpression xsi:type="callExpressions:MethodCallExpression" callee="//PatternVariableHandler/concat">
                      <ownedParameterBindings parameter="//PatternVariableHandler/concat/first">
                        <valueExpression xsi:type="patternExpressions:AttributeValueExpression" object="//PatternVariableHandler/getAttributeVariable/@activity/@ownedActivityNode.4/@storyPattern/@objectVariable.2">
                          <attribute href="http://gervarro.org/democles/specification.ecore#//Variable/name"/>
                        </valueExpression>
                      </ownedParameterBindings>
                      <ownedParameterBindings parameter="//PatternVariableHandler/concat/second">
                        <valueExpression xsi:type="expressions:LiteralExpression" value="&quot;_&quot;"/>
                      </ownedParameterBindings>
                      <target xsi:type="patternExpressions:ObjectVariableExpression" object="//PatternVariableHandler/getAttributeVariable/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.0"/>
                    </valueExpression>
                  </ownedParameterBindings>
                  <ownedParameterBindings parameter="//PatternVariableHandler/concat/second">
                    <valueExpression xsi:type="patternExpressions:AttributeValueExpression" object="//PatternVariableHandler/getAttributeVariable/@activity/@ownedActivityNode.4/@storyPattern/@objectVariable.1">
                      <attribute href="http://www.eclipse.org/emf/2002/Ecore#//ENamedElement/name"/>
                    </valueExpression>
                  </ownedParameterBindings>
                  <target xsi:type="patternExpressions:ObjectVariableExpression" object="//PatternVariableHandler/getAttributeVariable/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.0"/>
                </valueExpression>
                <attribute href="http://gervarro.org/democles/specification.ecore#//Variable/name"/>
              </attributeAssignment>
            </objectVariable>
            <linkVariable name="reference" target="//PatternVariableHandler/getAttributeVariable/@activity/@ownedActivityNode.6/@storyPattern/@objectVariable.5" source="//PatternVariableHandler/getAttributeVariable/@activity/@ownedActivityNode.6/@storyPattern/@objectVariable.0" bindingOperator="CREATE">
              <type href="http://gervarro.org/democles/specification.ecore#//ConstraintParameter/reference"/>
            </linkVariable>
            <linkVariable name="localVariables" target="//PatternVariableHandler/getAttributeVariable/@activity/@ownedActivityNode.6/@storyPattern/@objectVariable.5" source="//PatternVariableHandler/getAttributeVariable/@activity/@ownedActivityNode.6/@storyPattern/@objectVariable.2" bindingOperator="CREATE">
              <type href="http://gervarro.org/democles/specification.ecore#//PatternBody/localVariables"/>
            </linkVariable>
            <linkVariable name="eType" target="//PatternVariableHandler/getAttributeVariable/@activity/@ownedActivityNode.6/@storyPattern/@objectVariable.1" source="//PatternVariableHandler/getAttributeVariable/@activity/@ownedActivityNode.6/@storyPattern/@objectVariable.3">
              <type href="http://www.eclipse.org/emf/2002/Ecore#//ETypedElement/eType"/>
            </linkVariable>
            <linkVariable name="parameters" target="//PatternVariableHandler/getAttributeVariable/@activity/@ownedActivityNode.6/@storyPattern/@objectVariable.0" source="//PatternVariableHandler/getAttributeVariable/@activity/@ownedActivityNode.6/@storyPattern/@objectVariable.4" bindingOperator="CREATE">
              <type href="http://gervarro.org/democles/specification.ecore#//Constraint/parameters"/>
            </linkVariable>
            <linkVariable name="eClassifier" target="//PatternVariableHandler/getAttributeVariable/@activity/@ownedActivityNode.6/@storyPattern/@objectVariable.1" source="//PatternVariableHandler/getAttributeVariable/@activity/@ownedActivityNode.6/@storyPattern/@objectVariable.5" bindingOperator="CREATE">
              <type href="http://gervarro.org/democles/constraint/emf.ecore#//EMFVariable/eClassifier"/>
            </linkVariable>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StoryNode" name="LookupPatternBody" comment="LookupPatternBody" outgoing="//PatternVariableHandler/getAttributeVariable/@activity/@ownedActivityEdge.6" incoming="//PatternVariableHandler/getAttributeVariable/@activity/@ownedActivityEdge.3">
          <storyPattern comment="LookupPatternBody">
            <objectVariable name="pattern" incomingLink="//PatternVariableHandler/getAttributeVariable/@activity/@ownedActivityNode.7/@storyPattern/@linkVariable.0" bindingState="BOUND">
              <type xsi:type="ecore:EClass" href="http://gervarro.org/democles/specification.ecore#//Pattern"/>
            </objectVariable>
            <objectVariable name="patternBody" outgoingLink="//PatternVariableHandler/getAttributeVariable/@activity/@ownedActivityNode.7/@storyPattern/@linkVariable.0">
              <type xsi:type="ecore:EClass" href="http://gervarro.org/democles/specification.ecore#//PatternBody"/>
            </objectVariable>
            <linkVariable name="header" target="//PatternVariableHandler/getAttributeVariable/@activity/@ownedActivityNode.7/@storyPattern/@objectVariable.0" source="//PatternVariableHandler/getAttributeVariable/@activity/@ownedActivityNode.7/@storyPattern/@objectVariable.1">
              <type href="http://gervarro.org/democles/specification.ecore#//PatternBody/header"/>
            </linkVariable>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StartNode" outgoing="//PatternVariableHandler/getAttributeVariable/@activity/@ownedActivityEdge.7"/>
      </activity>
    </eOperations>
    <eOperations xsi:type="activities:MoflonEOperation" name="lookupVariableInPattern">
      <eType xsi:type="ecore:EClass" href="http://gervarro.org/democles/specification.ecore#//Variable"/>
      <eParameters name="pattern">
        <eType xsi:type="ecore:EClass" href="http://gervarro.org/democles/specification.ecore#//Pattern"/>
      </eParameters>
      <eParameters name="variableName">
        <eType xsi:type="ecore:EDataType" href="http://www.eclipse.org/emf/2002/Ecore#//EString"/>
      </eParameters>
      <eParameters name="variableType">
        <eType xsi:type="ecore:EClass" href="http://www.eclipse.org/emf/2002/Ecore#//EClassifier"/>
      </eParameters>
      <activity owningOperation="//PatternVariableHandler/lookupVariableInPattern">
        <ownedActivityEdge source="//PatternVariableHandler/lookupVariableInPattern/@activity/@ownedActivityNode.0" target="//PatternVariableHandler/lookupVariableInPattern/@activity/@ownedActivityNode.6"/>
        <ownedActivityEdge source="//PatternVariableHandler/lookupVariableInPattern/@activity/@ownedActivityNode.1" target="//PatternVariableHandler/lookupVariableInPattern/@activity/@ownedActivityNode.3" guard="SUCCESS"/>
        <ownedActivityEdge source="//PatternVariableHandler/lookupVariableInPattern/@activity/@ownedActivityNode.1" target="//PatternVariableHandler/lookupVariableInPattern/@activity/@ownedActivityNode.2" guard="FAILURE"/>
        <ownedActivityEdge source="//PatternVariableHandler/lookupVariableInPattern/@activity/@ownedActivityNode.2" target="//PatternVariableHandler/lookupVariableInPattern/@activity/@ownedActivityNode.5" guard="SUCCESS"/>
        <ownedActivityEdge source="//PatternVariableHandler/lookupVariableInPattern/@activity/@ownedActivityNode.2" target="//PatternVariableHandler/lookupVariableInPattern/@activity/@ownedActivityNode.0" guard="FAILURE"/>
        <ownedActivityEdge source="//PatternVariableHandler/lookupVariableInPattern/@activity/@ownedActivityNode.4" target="//PatternVariableHandler/lookupVariableInPattern/@activity/@ownedActivityNode.1"/>
        <ownedActivityNode xsi:type="activities:StoryNode" name="CreateNewSymbolicParameter" comment="CreateNewSymbolicParameter" outgoing="//PatternVariableHandler/lookupVariableInPattern/@activity/@ownedActivityEdge.0" incoming="//PatternVariableHandler/lookupVariableInPattern/@activity/@ownedActivityEdge.4">
          <storyPattern comment="CreateNewSymbolicParameter">
            <objectVariable name="pattern" outgoingLink="//PatternVariableHandler/lookupVariableInPattern/@activity/@ownedActivityNode.0/@storyPattern/@linkVariable.0" bindingState="BOUND">
              <type xsi:type="ecore:EClass" href="http://gervarro.org/democles/specification.ecore#//Pattern"/>
            </objectVariable>
            <objectVariable name="variableType" incomingLink="//PatternVariableHandler/lookupVariableInPattern/@activity/@ownedActivityNode.0/@storyPattern/@linkVariable.1" bindingState="BOUND">
              <type xsi:type="ecore:EClass" href="http://www.eclipse.org/emf/2002/Ecore#//EClassifier"/>
            </objectVariable>
            <objectVariable name="newSymbolicParameter" incomingLink="//PatternVariableHandler/lookupVariableInPattern/@activity/@ownedActivityNode.0/@storyPattern/@linkVariable.0" outgoingLink="//PatternVariableHandler/lookupVariableInPattern/@activity/@ownedActivityNode.0/@storyPattern/@linkVariable.1" bindingOperator="CREATE">
              <type xsi:type="ecore:EClass" href="http://gervarro.org/democles/constraint/emf.ecore#//EMFVariable"/>
              <attributeAssignment>
                <valueExpression xsi:type="callExpressions:ParameterExpression" parameter="//PatternVariableHandler/lookupVariableInPattern/variableName"/>
                <attribute href="http://gervarro.org/democles/specification.ecore#//Variable/name"/>
              </attributeAssignment>
            </objectVariable>
            <linkVariable name="symbolicParameters" target="//PatternVariableHandler/lookupVariableInPattern/@activity/@ownedActivityNode.0/@storyPattern/@objectVariable.2" source="//PatternVariableHandler/lookupVariableInPattern/@activity/@ownedActivityNode.0/@storyPattern/@objectVariable.0" bindingOperator="CREATE">
              <type href="http://gervarro.org/democles/specification.ecore#//Pattern/symbolicParameters"/>
            </linkVariable>
            <linkVariable name="eClassifier" target="//PatternVariableHandler/lookupVariableInPattern/@activity/@ownedActivityNode.0/@storyPattern/@objectVariable.1" source="//PatternVariableHandler/lookupVariableInPattern/@activity/@ownedActivityNode.0/@storyPattern/@objectVariable.2" bindingOperator="CREATE">
              <type href="http://gervarro.org/democles/constraint/emf.ecore#//EMFVariable/eClassifier"/>
            </linkVariable>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StoryNode" name="IsSymbolicParameter" comment="IsSymbolicParameter" outgoing="//PatternVariableHandler/lookupVariableInPattern/@activity/@ownedActivityEdge.1 //PatternVariableHandler/lookupVariableInPattern/@activity/@ownedActivityEdge.2" incoming="//PatternVariableHandler/lookupVariableInPattern/@activity/@ownedActivityEdge.5">
          <storyPattern comment="IsSymbolicParameter">
            <objectVariable name="pattern" outgoingLink="//PatternVariableHandler/lookupVariableInPattern/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.0" bindingState="BOUND">
              <type xsi:type="ecore:EClass" href="http://gervarro.org/democles/specification.ecore#//Pattern"/>
            </objectVariable>
            <objectVariable name="symbolicParameter" incomingLink="//PatternVariableHandler/lookupVariableInPattern/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.0">
              <type xsi:type="ecore:EClass" href="http://gervarro.org/democles/specification.ecore#//Variable"/>
              <constraint>
                <constraintExpression xsi:type="expressions:ComparisonExpression" operator="EQUAL">
                  <rightExpression xsi:type="callExpressions:ParameterExpression" parameter="//PatternVariableHandler/lookupVariableInPattern/variableName"/>
                  <leftExpression xsi:type="patternExpressions:AttributeValueExpression" object="//PatternVariableHandler/lookupVariableInPattern/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.1">
                    <attribute href="http://gervarro.org/democles/specification.ecore#//Variable/name"/>
                  </leftExpression>
                </constraintExpression>
              </constraint>
            </objectVariable>
            <linkVariable name="symbolicParameters" target="//PatternVariableHandler/lookupVariableInPattern/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.1" source="//PatternVariableHandler/lookupVariableInPattern/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.0">
              <type href="http://gervarro.org/democles/specification.ecore#//Pattern/symbolicParameters"/>
            </linkVariable>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StoryNode" name="IsLocalVariable" comment="IsLocalVariable" outgoing="//PatternVariableHandler/lookupVariableInPattern/@activity/@ownedActivityEdge.3 //PatternVariableHandler/lookupVariableInPattern/@activity/@ownedActivityEdge.4" incoming="//PatternVariableHandler/lookupVariableInPattern/@activity/@ownedActivityEdge.2">
          <storyPattern comment="IsLocalVariable">
            <objectVariable name="body" outgoingLink="//PatternVariableHandler/lookupVariableInPattern/@activity/@ownedActivityNode.2/@storyPattern/@linkVariable.0 //PatternVariableHandler/lookupVariableInPattern/@activity/@ownedActivityNode.2/@storyPattern/@linkVariable.1">
              <type xsi:type="ecore:EClass" href="http://gervarro.org/democles/specification.ecore#//PatternBody"/>
            </objectVariable>
            <objectVariable name="pattern" incomingLink="//PatternVariableHandler/lookupVariableInPattern/@activity/@ownedActivityNode.2/@storyPattern/@linkVariable.1" bindingState="BOUND">
              <type xsi:type="ecore:EClass" href="http://gervarro.org/democles/specification.ecore#//Pattern"/>
            </objectVariable>
            <objectVariable name="localVariable" incomingLink="//PatternVariableHandler/lookupVariableInPattern/@activity/@ownedActivityNode.2/@storyPattern/@linkVariable.0">
              <type xsi:type="ecore:EClass" href="http://gervarro.org/democles/specification.ecore#//Variable"/>
              <constraint>
                <constraintExpression xsi:type="expressions:ComparisonExpression" operator="EQUAL">
                  <rightExpression xsi:type="callExpressions:ParameterExpression" parameter="//PatternVariableHandler/lookupVariableInPattern/variableName"/>
                  <leftExpression xsi:type="patternExpressions:AttributeValueExpression" object="//PatternVariableHandler/lookupVariableInPattern/@activity/@ownedActivityNode.2/@storyPattern/@objectVariable.2">
                    <attribute href="http://gervarro.org/democles/specification.ecore#//Variable/name"/>
                  </leftExpression>
                </constraintExpression>
              </constraint>
            </objectVariable>
            <linkVariable name="localVariables" target="//PatternVariableHandler/lookupVariableInPattern/@activity/@ownedActivityNode.2/@storyPattern/@objectVariable.2" source="//PatternVariableHandler/lookupVariableInPattern/@activity/@ownedActivityNode.2/@storyPattern/@objectVariable.0">
              <type href="http://gervarro.org/democles/specification.ecore#//PatternBody/localVariables"/>
            </linkVariable>
            <linkVariable name="header" target="//PatternVariableHandler/lookupVariableInPattern/@activity/@ownedActivityNode.2/@storyPattern/@objectVariable.1" source="//PatternVariableHandler/lookupVariableInPattern/@activity/@ownedActivityNode.2/@storyPattern/@objectVariable.0">
              <type href="http://gervarro.org/democles/specification.ecore#//PatternBody/header"/>
            </linkVariable>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//PatternVariableHandler/lookupVariableInPattern/@activity/@ownedActivityEdge.1">
          <returnValue xsi:type="patternExpressions:ObjectVariableExpression" object="//PatternVariableHandler/lookupVariableInPattern/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.1"/>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StartNode" outgoing="//PatternVariableHandler/lookupVariableInPattern/@activity/@ownedActivityEdge.5"/>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//PatternVariableHandler/lookupVariableInPattern/@activity/@ownedActivityEdge.3">
          <returnValue xsi:type="patternExpressions:ObjectVariableExpression" object="//PatternVariableHandler/lookupVariableInPattern/@activity/@ownedActivityNode.2/@storyPattern/@objectVariable.2"/>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//PatternVariableHandler/lookupVariableInPattern/@activity/@ownedActivityEdge.0">
          <returnValue xsi:type="patternExpressions:ObjectVariableExpression" object="//PatternVariableHandler/lookupVariableInPattern/@activity/@ownedActivityNode.0/@storyPattern/@objectVariable.2"/>
        </ownedActivityNode>
      </activity>
    </eOperations>
  </eClassifiers>
  <eClassifiers xsi:type="ecore:EClass" name="BlackAndNacPatternTransformer" eSuperTypes="//PatternTransformer">
    <eOperations xsi:type="activities:MoflonEOperation" name="analyzeInjectivity">
      <eParameters name="pattern">
        <eType xsi:type="ecore:EClass" href="http://gervarro.org/democles/specification.ecore#//Pattern"/>
      </eParameters>
      <activity owningOperation="//BlackAndNacPatternTransformer/analyzeInjectivity">
        <ownedActivityEdge source="//BlackAndNacPatternTransformer/analyzeInjectivity/@activity/@ownedActivityNode.1" target="//BlackAndNacPatternTransformer/analyzeInjectivity/@activity/@ownedActivityNode.10" guard="EACH_TIME"/>
        <ownedActivityEdge source="//BlackAndNacPatternTransformer/analyzeInjectivity/@activity/@ownedActivityNode.1" target="//BlackAndNacPatternTransformer/analyzeInjectivity/@activity/@ownedActivityNode.0" guard="END"/>
        <ownedActivityEdge source="//BlackAndNacPatternTransformer/analyzeInjectivity/@activity/@ownedActivityNode.2" target="//BlackAndNacPatternTransformer/analyzeInjectivity/@activity/@ownedActivityNode.1"/>
        <ownedActivityEdge source="//BlackAndNacPatternTransformer/analyzeInjectivity/@activity/@ownedActivityNode.3" target="//BlackAndNacPatternTransformer/analyzeInjectivity/@activity/@ownedActivityNode.5"/>
        <ownedActivityEdge source="//BlackAndNacPatternTransformer/analyzeInjectivity/@activity/@ownedActivityNode.4" target="//BlackAndNacPatternTransformer/analyzeInjectivity/@activity/@ownedActivityNode.8"/>
        <ownedActivityEdge source="//BlackAndNacPatternTransformer/analyzeInjectivity/@activity/@ownedActivityNode.5" target="//BlackAndNacPatternTransformer/analyzeInjectivity/@activity/@ownedActivityNode.11" guard="END"/>
        <ownedActivityEdge source="//BlackAndNacPatternTransformer/analyzeInjectivity/@activity/@ownedActivityNode.5" target="//BlackAndNacPatternTransformer/analyzeInjectivity/@activity/@ownedActivityNode.9" guard="EACH_TIME"/>
        <ownedActivityEdge source="//BlackAndNacPatternTransformer/analyzeInjectivity/@activity/@ownedActivityNode.6" target="//BlackAndNacPatternTransformer/analyzeInjectivity/@activity/@ownedActivityNode.11"/>
        <ownedActivityEdge source="//BlackAndNacPatternTransformer/analyzeInjectivity/@activity/@ownedActivityNode.7" target="//BlackAndNacPatternTransformer/analyzeInjectivity/@activity/@ownedActivityNode.11" guard="FAILURE"/>
        <ownedActivityEdge source="//BlackAndNacPatternTransformer/analyzeInjectivity/@activity/@ownedActivityNode.7" target="//BlackAndNacPatternTransformer/analyzeInjectivity/@activity/@ownedActivityNode.6" guard="SUCCESS"/>
        <ownedActivityEdge source="//BlackAndNacPatternTransformer/analyzeInjectivity/@activity/@ownedActivityNode.8" target="//BlackAndNacPatternTransformer/analyzeInjectivity/@activity/@ownedActivityNode.5"/>
        <ownedActivityEdge source="//BlackAndNacPatternTransformer/analyzeInjectivity/@activity/@ownedActivityNode.9" target="//BlackAndNacPatternTransformer/analyzeInjectivity/@activity/@ownedActivityNode.5" guard="FAILURE"/>
        <ownedActivityEdge source="//BlackAndNacPatternTransformer/analyzeInjectivity/@activity/@ownedActivityNode.9" target="//BlackAndNacPatternTransformer/analyzeInjectivity/@activity/@ownedActivityNode.3" guard="SUCCESS"/>
        <ownedActivityEdge source="//BlackAndNacPatternTransformer/analyzeInjectivity/@activity/@ownedActivityNode.10" target="//BlackAndNacPatternTransformer/analyzeInjectivity/@activity/@ownedActivityNode.2" guard="SUCCESS"/>
        <ownedActivityEdge source="//BlackAndNacPatternTransformer/analyzeInjectivity/@activity/@ownedActivityNode.10" target="//BlackAndNacPatternTransformer/analyzeInjectivity/@activity/@ownedActivityNode.1" guard="FAILURE"/>
        <ownedActivityEdge source="//BlackAndNacPatternTransformer/analyzeInjectivity/@activity/@ownedActivityNode.11" target="//BlackAndNacPatternTransformer/analyzeInjectivity/@activity/@ownedActivityNode.7" guard="EACH_TIME"/>
        <ownedActivityEdge source="//BlackAndNacPatternTransformer/analyzeInjectivity/@activity/@ownedActivityNode.11" target="//BlackAndNacPatternTransformer/analyzeInjectivity/@activity/@ownedActivityNode.1" guard="END"/>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//BlackAndNacPatternTransformer/analyzeInjectivity/@activity/@ownedActivityEdge.1"/>
        <ownedActivityNode xsi:type="activities:StoryNode" name="ForAllLocalVariablePairs" comment="ForAllLocalVariablePairs" outgoing="//BlackAndNacPatternTransformer/analyzeInjectivity/@activity/@ownedActivityEdge.0 //BlackAndNacPatternTransformer/analyzeInjectivity/@activity/@ownedActivityEdge.1" incoming="//BlackAndNacPatternTransformer/analyzeInjectivity/@activity/@ownedActivityEdge.2 //BlackAndNacPatternTransformer/analyzeInjectivity/@activity/@ownedActivityEdge.14 //BlackAndNacPatternTransformer/analyzeInjectivity/@activity/@ownedActivityEdge.16" forEach="true">
          <storyPattern comment="ForAllLocalVariablePairs">
            <objectVariable name="body" outgoingLink="//BlackAndNacPatternTransformer/analyzeInjectivity/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.0 //BlackAndNacPatternTransformer/analyzeInjectivity/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.1" bindingState="BOUND">
              <type xsi:type="ecore:EClass" href="http://gervarro.org/democles/specification.ecore#//PatternBody"/>
            </objectVariable>
            <objectVariable name="secondLocal" incomingLink="//BlackAndNacPatternTransformer/analyzeInjectivity/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.0">
              <type xsi:type="ecore:EClass" href="http://gervarro.org/democles/specification.ecore#//Variable"/>
            </objectVariable>
            <objectVariable name="firstLocal" incomingLink="//BlackAndNacPatternTransformer/analyzeInjectivity/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.1">
              <type xsi:type="ecore:EClass" href="http://gervarro.org/democles/specification.ecore#//Variable"/>
              <constraint>
                <constraintExpression xsi:type="expressions:ComparisonExpression">
                  <rightExpression xsi:type="patternExpressions:AttributeValueExpression" object="//BlackAndNacPatternTransformer/analyzeInjectivity/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.1">
                    <attribute href="http://gervarro.org/democles/specification.ecore#//Variable/name"/>
                  </rightExpression>
                  <leftExpression xsi:type="patternExpressions:AttributeValueExpression" object="//BlackAndNacPatternTransformer/analyzeInjectivity/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.2">
                    <attribute href="http://gervarro.org/democles/specification.ecore#//Variable/name"/>
                  </leftExpression>
                </constraintExpression>
              </constraint>
            </objectVariable>
            <linkVariable name="localVariables" target="//BlackAndNacPatternTransformer/analyzeInjectivity/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.1" source="//BlackAndNacPatternTransformer/analyzeInjectivity/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.0">
              <type href="http://gervarro.org/democles/specification.ecore#//PatternBody/localVariables"/>
            </linkVariable>
            <linkVariable name="localVariables" target="//BlackAndNacPatternTransformer/analyzeInjectivity/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.2" source="//BlackAndNacPatternTransformer/analyzeInjectivity/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.0">
              <type href="http://gervarro.org/democles/specification.ecore#//PatternBody/localVariables"/>
            </linkVariable>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StatementNode" name="CreateInjectivityConstraint3" outgoing="//BlackAndNacPatternTransformer/analyzeInjectivity/@activity/@ownedActivityEdge.2" incoming="//BlackAndNacPatternTransformer/analyzeInjectivity/@activity/@ownedActivityEdge.13">
          <statementExpression xsi:type="callExpressions:MethodCallExpression" callee="//BlackAndNacPatternTransformer/createInjectivityConstraint">
            <ownedParameterBindings parameter="//BlackAndNacPatternTransformer/createInjectivityConstraint/pattern">
              <valueExpression xsi:type="callExpressions:ParameterExpression" parameter="//BlackAndNacPatternTransformer/analyzeInjectivity/pattern"/>
            </ownedParameterBindings>
            <ownedParameterBindings parameter="//BlackAndNacPatternTransformer/createInjectivityConstraint/first">
              <valueExpression xsi:type="patternExpressions:ObjectVariableExpression" object="//BlackAndNacPatternTransformer/analyzeInjectivity/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.2"/>
            </ownedParameterBindings>
            <ownedParameterBindings parameter="//BlackAndNacPatternTransformer/createInjectivityConstraint/second">
              <valueExpression xsi:type="patternExpressions:ObjectVariableExpression" object="//BlackAndNacPatternTransformer/analyzeInjectivity/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.1"/>
            </ownedParameterBindings>
            <target xsi:type="patternExpressions:ObjectVariableExpression" object="//BlackAndNacPatternTransformer/analyzeInjectivity/@activity/@ownedActivityNode.8/@storyPattern/@objectVariable.2"/>
          </statementExpression>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StatementNode" name="CreateInjectivityConstraint1" outgoing="//BlackAndNacPatternTransformer/analyzeInjectivity/@activity/@ownedActivityEdge.3" incoming="//BlackAndNacPatternTransformer/analyzeInjectivity/@activity/@ownedActivityEdge.12">
          <statementExpression xsi:type="callExpressions:MethodCallExpression" callee="//BlackAndNacPatternTransformer/createInjectivityConstraint">
            <ownedParameterBindings parameter="//BlackAndNacPatternTransformer/createInjectivityConstraint/pattern">
              <valueExpression xsi:type="callExpressions:ParameterExpression" parameter="//BlackAndNacPatternTransformer/analyzeInjectivity/pattern"/>
            </ownedParameterBindings>
            <ownedParameterBindings parameter="//BlackAndNacPatternTransformer/createInjectivityConstraint/first">
              <valueExpression xsi:type="patternExpressions:ObjectVariableExpression" object="//BlackAndNacPatternTransformer/analyzeInjectivity/@activity/@ownedActivityNode.5/@storyPattern/@objectVariable.1"/>
            </ownedParameterBindings>
            <ownedParameterBindings parameter="//BlackAndNacPatternTransformer/createInjectivityConstraint/second">
              <valueExpression xsi:type="patternExpressions:ObjectVariableExpression" object="//BlackAndNacPatternTransformer/analyzeInjectivity/@activity/@ownedActivityNode.5/@storyPattern/@objectVariable.2"/>
            </ownedParameterBindings>
            <target xsi:type="patternExpressions:ObjectVariableExpression" object="//BlackAndNacPatternTransformer/analyzeInjectivity/@activity/@ownedActivityNode.8/@storyPattern/@objectVariable.2"/>
          </statementExpression>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StartNode" outgoing="//BlackAndNacPatternTransformer/analyzeInjectivity/@activity/@ownedActivityEdge.4"/>
        <ownedActivityNode xsi:type="activities:StoryNode" name="ForAllSymbolicParameterPairs" comment="ForAllSymbolicParameterPairs" outgoing="//BlackAndNacPatternTransformer/analyzeInjectivity/@activity/@ownedActivityEdge.5 //BlackAndNacPatternTransformer/analyzeInjectivity/@activity/@ownedActivityEdge.6" incoming="//BlackAndNacPatternTransformer/analyzeInjectivity/@activity/@ownedActivityEdge.3 //BlackAndNacPatternTransformer/analyzeInjectivity/@activity/@ownedActivityEdge.10 //BlackAndNacPatternTransformer/analyzeInjectivity/@activity/@ownedActivityEdge.11" forEach="true">
          <storyPattern comment="ForAllSymbolicParameterPairs">
            <objectVariable name="pattern" outgoingLink="//BlackAndNacPatternTransformer/analyzeInjectivity/@activity/@ownedActivityNode.5/@storyPattern/@linkVariable.0 //BlackAndNacPatternTransformer/analyzeInjectivity/@activity/@ownedActivityNode.5/@storyPattern/@linkVariable.1" bindingState="BOUND">
              <type xsi:type="ecore:EClass" href="http://gervarro.org/democles/specification.ecore#//Pattern"/>
            </objectVariable>
            <objectVariable name="firstSymbolic" incomingLink="//BlackAndNacPatternTransformer/analyzeInjectivity/@activity/@ownedActivityNode.5/@storyPattern/@linkVariable.0">
              <type xsi:type="ecore:EClass" href="http://gervarro.org/democles/specification.ecore#//Variable"/>
              <constraint>
                <constraintExpression xsi:type="expressions:ComparisonExpression">
                  <rightExpression xsi:type="patternExpressions:AttributeValueExpression" object="//BlackAndNacPatternTransformer/analyzeInjectivity/@activity/@ownedActivityNode.5/@storyPattern/@objectVariable.2">
                    <attribute href="http://gervarro.org/democles/specification.ecore#//Variable/name"/>
                  </rightExpression>
                  <leftExpression xsi:type="patternExpressions:AttributeValueExpression" object="//BlackAndNacPatternTransformer/analyzeInjectivity/@activity/@ownedActivityNode.5/@storyPattern/@objectVariable.1">
                    <attribute href="http://gervarro.org/democles/specification.ecore#//Variable/name"/>
                  </leftExpression>
                </constraintExpression>
              </constraint>
            </objectVariable>
            <objectVariable name="secondSymbolic" incomingLink="//BlackAndNacPatternTransformer/analyzeInjectivity/@activity/@ownedActivityNode.5/@storyPattern/@linkVariable.1">
              <type xsi:type="ecore:EClass" href="http://gervarro.org/democles/specification.ecore#//Variable"/>
            </objectVariable>
            <linkVariable name="symbolicParameters" target="//BlackAndNacPatternTransformer/analyzeInjectivity/@activity/@ownedActivityNode.5/@storyPattern/@objectVariable.1" source="//BlackAndNacPatternTransformer/analyzeInjectivity/@activity/@ownedActivityNode.5/@storyPattern/@objectVariable.0">
              <type href="http://gervarro.org/democles/specification.ecore#//Pattern/symbolicParameters"/>
            </linkVariable>
            <linkVariable name="symbolicParameters" target="//BlackAndNacPatternTransformer/analyzeInjectivity/@activity/@ownedActivityNode.5/@storyPattern/@objectVariable.2" source="//BlackAndNacPatternTransformer/analyzeInjectivity/@activity/@ownedActivityNode.5/@storyPattern/@objectVariable.0">
              <type href="http://gervarro.org/democles/specification.ecore#//Pattern/symbolicParameters"/>
            </linkVariable>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StatementNode" name="CreateInjectivityConstraint2" outgoing="//BlackAndNacPatternTransformer/analyzeInjectivity/@activity/@ownedActivityEdge.7" incoming="//BlackAndNacPatternTransformer/analyzeInjectivity/@activity/@ownedActivityEdge.9">
          <statementExpression xsi:type="callExpressions:MethodCallExpression" callee="//BlackAndNacPatternTransformer/createInjectivityConstraint">
            <ownedParameterBindings parameter="//BlackAndNacPatternTransformer/createInjectivityConstraint/pattern">
              <valueExpression xsi:type="callExpressions:ParameterExpression" parameter="//BlackAndNacPatternTransformer/analyzeInjectivity/pattern"/>
            </ownedParameterBindings>
            <ownedParameterBindings parameter="//BlackAndNacPatternTransformer/createInjectivityConstraint/first">
              <valueExpression xsi:type="patternExpressions:ObjectVariableExpression" object="//BlackAndNacPatternTransformer/analyzeInjectivity/@activity/@ownedActivityNode.11/@storyPattern/@objectVariable.1"/>
            </ownedParameterBindings>
            <ownedParameterBindings parameter="//BlackAndNacPatternTransformer/createInjectivityConstraint/second">
              <valueExpression xsi:type="patternExpressions:ObjectVariableExpression" object="//BlackAndNacPatternTransformer/analyzeInjectivity/@activity/@ownedActivityNode.11/@storyPattern/@objectVariable.2"/>
            </ownedParameterBindings>
            <target xsi:type="patternExpressions:ObjectVariableExpression" object="//BlackAndNacPatternTransformer/analyzeInjectivity/@activity/@ownedActivityNode.8/@storyPattern/@objectVariable.2"/>
          </statementExpression>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StatementNode" name="IsInjectiveMappingRequired2" outgoing="//BlackAndNacPatternTransformer/analyzeInjectivity/@activity/@ownedActivityEdge.8 //BlackAndNacPatternTransformer/analyzeInjectivity/@activity/@ownedActivityEdge.9" incoming="//BlackAndNacPatternTransformer/analyzeInjectivity/@activity/@ownedActivityEdge.15">
          <statementExpression xsi:type="callExpressions:MethodCallExpression" callee="//BlackAndNacPatternTransformer/injectiveMappingRequired">
            <ownedParameterBindings parameter="//BlackAndNacPatternTransformer/injectiveMappingRequired/first">
              <valueExpression xsi:type="patternExpressions:ObjectVariableExpression" object="//BlackAndNacPatternTransformer/analyzeInjectivity/@activity/@ownedActivityNode.11/@storyPattern/@objectVariable.1"/>
            </ownedParameterBindings>
            <ownedParameterBindings parameter="//BlackAndNacPatternTransformer/injectiveMappingRequired/second">
              <valueExpression xsi:type="patternExpressions:ObjectVariableExpression" object="//BlackAndNacPatternTransformer/analyzeInjectivity/@activity/@ownedActivityNode.11/@storyPattern/@objectVariable.2"/>
            </ownedParameterBindings>
            <target xsi:type="patternExpressions:ObjectVariableExpression" object="//BlackAndNacPatternTransformer/analyzeInjectivity/@activity/@ownedActivityNode.8/@storyPattern/@objectVariable.2"/>
          </statementExpression>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StoryNode" name="LookupPatternBody" comment="LookupPatternBody" outgoing="//BlackAndNacPatternTransformer/analyzeInjectivity/@activity/@ownedActivityEdge.10" incoming="//BlackAndNacPatternTransformer/analyzeInjectivity/@activity/@ownedActivityEdge.4">
          <storyPattern comment="LookupPatternBody">
            <objectVariable name="pattern" incomingLink="//BlackAndNacPatternTransformer/analyzeInjectivity/@activity/@ownedActivityNode.8/@storyPattern/@linkVariable.0" bindingState="BOUND">
              <type xsi:type="ecore:EClass" href="http://gervarro.org/democles/specification.ecore#//Pattern"/>
            </objectVariable>
            <objectVariable name="body" outgoingLink="//BlackAndNacPatternTransformer/analyzeInjectivity/@activity/@ownedActivityNode.8/@storyPattern/@linkVariable.0">
              <type xsi:type="ecore:EClass" href="http://gervarro.org/democles/specification.ecore#//PatternBody"/>
            </objectVariable>
            <objectVariable type="//BlackAndNacPatternTransformer" name="this" bindingState="BOUND"/>
            <linkVariable name="header" target="//BlackAndNacPatternTransformer/analyzeInjectivity/@activity/@ownedActivityNode.8/@storyPattern/@objectVariable.0" source="//BlackAndNacPatternTransformer/analyzeInjectivity/@activity/@ownedActivityNode.8/@storyPattern/@objectVariable.1">
              <type href="http://gervarro.org/democles/specification.ecore#//PatternBody/header"/>
            </linkVariable>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StatementNode" name="IsInjectiveMappingRequired1" outgoing="//BlackAndNacPatternTransformer/analyzeInjectivity/@activity/@ownedActivityEdge.11 //BlackAndNacPatternTransformer/analyzeInjectivity/@activity/@ownedActivityEdge.12" incoming="//BlackAndNacPatternTransformer/analyzeInjectivity/@activity/@ownedActivityEdge.6">
          <statementExpression xsi:type="callExpressions:MethodCallExpression" callee="//BlackAndNacPatternTransformer/injectiveMappingRequired">
            <ownedParameterBindings parameter="//BlackAndNacPatternTransformer/injectiveMappingRequired/first">
              <valueExpression xsi:type="patternExpressions:ObjectVariableExpression" object="//BlackAndNacPatternTransformer/analyzeInjectivity/@activity/@ownedActivityNode.5/@storyPattern/@objectVariable.1"/>
            </ownedParameterBindings>
            <ownedParameterBindings parameter="//BlackAndNacPatternTransformer/injectiveMappingRequired/second">
              <valueExpression xsi:type="patternExpressions:ObjectVariableExpression" object="//BlackAndNacPatternTransformer/analyzeInjectivity/@activity/@ownedActivityNode.5/@storyPattern/@objectVariable.2"/>
            </ownedParameterBindings>
            <target xsi:type="patternExpressions:ObjectVariableExpression" object="//BlackAndNacPatternTransformer/analyzeInjectivity/@activity/@ownedActivityNode.8/@storyPattern/@objectVariable.2"/>
          </statementExpression>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StatementNode" name="InjectiveMappingRequired3" outgoing="//BlackAndNacPatternTransformer/analyzeInjectivity/@activity/@ownedActivityEdge.13 //BlackAndNacPatternTransformer/analyzeInjectivity/@activity/@ownedActivityEdge.14" incoming="//BlackAndNacPatternTransformer/analyzeInjectivity/@activity/@ownedActivityEdge.0">
          <statementExpression xsi:type="callExpressions:MethodCallExpression" callee="//BlackAndNacPatternTransformer/injectiveMappingRequired">
            <ownedParameterBindings parameter="//BlackAndNacPatternTransformer/injectiveMappingRequired/first">
              <valueExpression xsi:type="patternExpressions:ObjectVariableExpression" object="//BlackAndNacPatternTransformer/analyzeInjectivity/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.2"/>
            </ownedParameterBindings>
            <ownedParameterBindings parameter="//BlackAndNacPatternTransformer/injectiveMappingRequired/second">
              <valueExpression xsi:type="patternExpressions:ObjectVariableExpression" object="//BlackAndNacPatternTransformer/analyzeInjectivity/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.1"/>
            </ownedParameterBindings>
            <target xsi:type="patternExpressions:ObjectVariableExpression" object="//BlackAndNacPatternTransformer/analyzeInjectivity/@activity/@ownedActivityNode.8/@storyPattern/@objectVariable.2"/>
          </statementExpression>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StoryNode" name="ForAllMixedPairs" comment="ForAllMixedPairs" outgoing="//BlackAndNacPatternTransformer/analyzeInjectivity/@activity/@ownedActivityEdge.15 //BlackAndNacPatternTransformer/analyzeInjectivity/@activity/@ownedActivityEdge.16" incoming="//BlackAndNacPatternTransformer/analyzeInjectivity/@activity/@ownedActivityEdge.5 //BlackAndNacPatternTransformer/analyzeInjectivity/@activity/@ownedActivityEdge.7 //BlackAndNacPatternTransformer/analyzeInjectivity/@activity/@ownedActivityEdge.8" forEach="true">
          <storyPattern comment="ForAllMixedPairs">
            <objectVariable name="pattern" outgoingLink="//BlackAndNacPatternTransformer/analyzeInjectivity/@activity/@ownedActivityNode.11/@storyPattern/@linkVariable.0" bindingState="BOUND">
              <type xsi:type="ecore:EClass" href="http://gervarro.org/democles/specification.ecore#//Pattern"/>
            </objectVariable>
            <objectVariable name="symbolic" incomingLink="//BlackAndNacPatternTransformer/analyzeInjectivity/@activity/@ownedActivityNode.11/@storyPattern/@linkVariable.0">
              <type xsi:type="ecore:EClass" href="http://gervarro.org/democles/specification.ecore#//Variable"/>
            </objectVariable>
            <objectVariable name="local" incomingLink="//BlackAndNacPatternTransformer/analyzeInjectivity/@activity/@ownedActivityNode.11/@storyPattern/@linkVariable.1">
              <type xsi:type="ecore:EClass" href="http://gervarro.org/democles/specification.ecore#//Variable"/>
            </objectVariable>
            <objectVariable name="body" outgoingLink="//BlackAndNacPatternTransformer/analyzeInjectivity/@activity/@ownedActivityNode.11/@storyPattern/@linkVariable.1" bindingState="BOUND">
              <type xsi:type="ecore:EClass" href="http://gervarro.org/democles/specification.ecore#//PatternBody"/>
            </objectVariable>
            <linkVariable name="symbolicParameters" target="//BlackAndNacPatternTransformer/analyzeInjectivity/@activity/@ownedActivityNode.11/@storyPattern/@objectVariable.1" source="//BlackAndNacPatternTransformer/analyzeInjectivity/@activity/@ownedActivityNode.11/@storyPattern/@objectVariable.0">
              <type href="http://gervarro.org/democles/specification.ecore#//Pattern/symbolicParameters"/>
            </linkVariable>
            <linkVariable name="localVariables" target="//BlackAndNacPatternTransformer/analyzeInjectivity/@activity/@ownedActivityNode.11/@storyPattern/@objectVariable.2" source="//BlackAndNacPatternTransformer/analyzeInjectivity/@activity/@ownedActivityNode.11/@storyPattern/@objectVariable.3">
              <type href="http://gervarro.org/democles/specification.ecore#//PatternBody/localVariables"/>
            </linkVariable>
          </storyPattern>
        </ownedActivityNode>
      </activity>
    </eOperations>
    <eOperations xsi:type="activities:MoflonEOperation" name="areCompatibleTypes">
      <eType xsi:type="ecore:EDataType" href="http://www.eclipse.org/emf/2002/Ecore#//EBoolean"/>
      <eParameters name="first">
        <eType xsi:type="ecore:EClass" href="http://www.eclipse.org/emf/2002/Ecore#//EClassifier"/>
      </eParameters>
      <eParameters name="second">
        <eType xsi:type="ecore:EClass" href="http://www.eclipse.org/emf/2002/Ecore#//EClassifier"/>
      </eParameters>
    </eOperations>
    <eOperations xsi:type="activities:MoflonEOperation" name="createInjectivityConstraint">
      <eParameters name="pattern">
        <eType xsi:type="ecore:EClass" href="http://gervarro.org/democles/specification.ecore#//Pattern"/>
      </eParameters>
      <eParameters name="first">
        <eType xsi:type="ecore:EClass" href="http://gervarro.org/democles/specification.ecore#//Variable"/>
      </eParameters>
      <eParameters name="second">
        <eType xsi:type="ecore:EClass" href="http://gervarro.org/democles/specification.ecore#//Variable"/>
      </eParameters>
      <activity owningOperation="//BlackAndNacPatternTransformer/createInjectivityConstraint">
        <ownedActivityEdge source="//BlackAndNacPatternTransformer/createInjectivityConstraint/@activity/@ownedActivityNode.0" target="//BlackAndNacPatternTransformer/createInjectivityConstraint/@activity/@ownedActivityNode.2"/>
        <ownedActivityEdge source="//BlackAndNacPatternTransformer/createInjectivityConstraint/@activity/@ownedActivityNode.1" target="//BlackAndNacPatternTransformer/createInjectivityConstraint/@activity/@ownedActivityNode.3"/>
        <ownedActivityEdge source="//BlackAndNacPatternTransformer/createInjectivityConstraint/@activity/@ownedActivityNode.2" target="//BlackAndNacPatternTransformer/createInjectivityConstraint/@activity/@ownedActivityNode.4"/>
        <ownedActivityEdge source="//BlackAndNacPatternTransformer/createInjectivityConstraint/@activity/@ownedActivityNode.3" target="//BlackAndNacPatternTransformer/createInjectivityConstraint/@activity/@ownedActivityNode.0"/>
        <ownedActivityNode xsi:type="activities:StoryNode" name="CreateFirstParameter" comment="CreateFirstParameter" outgoing="//BlackAndNacPatternTransformer/createInjectivityConstraint/@activity/@ownedActivityEdge.0" incoming="//BlackAndNacPatternTransformer/createInjectivityConstraint/@activity/@ownedActivityEdge.3">
          <storyPattern comment="CreateFirstParameter">
            <objectVariable name="unequalityConstraint" outgoingLink="//BlackAndNacPatternTransformer/createInjectivityConstraint/@activity/@ownedActivityNode.0/@storyPattern/@linkVariable.0" bindingState="BOUND">
              <type xsi:type="ecore:EClass" href="http://gervarro.org/democles/specification/constraint/relational.ecore#//Unequal"/>
            </objectVariable>
            <objectVariable name="firstParameter" incomingLink="//BlackAndNacPatternTransformer/createInjectivityConstraint/@activity/@ownedActivityNode.0/@storyPattern/@linkVariable.0" outgoingLink="//BlackAndNacPatternTransformer/createInjectivityConstraint/@activity/@ownedActivityNode.0/@storyPattern/@linkVariable.1" bindingOperator="CREATE">
              <type xsi:type="ecore:EClass" href="http://gervarro.org/democles/specification.ecore#//ConstraintParameter"/>
            </objectVariable>
            <objectVariable name="first" incomingLink="//BlackAndNacPatternTransformer/createInjectivityConstraint/@activity/@ownedActivityNode.0/@storyPattern/@linkVariable.1" bindingState="BOUND">
              <type xsi:type="ecore:EClass" href="http://gervarro.org/democles/specification.ecore#//Variable"/>
            </objectVariable>
            <linkVariable name="parameters" target="//BlackAndNacPatternTransformer/createInjectivityConstraint/@activity/@ownedActivityNode.0/@storyPattern/@objectVariable.1" source="//BlackAndNacPatternTransformer/createInjectivityConstraint/@activity/@ownedActivityNode.0/@storyPattern/@objectVariable.0" bindingOperator="CREATE">
              <type href="http://gervarro.org/democles/specification.ecore#//Constraint/parameters"/>
            </linkVariable>
            <linkVariable name="reference" target="//BlackAndNacPatternTransformer/createInjectivityConstraint/@activity/@ownedActivityNode.0/@storyPattern/@objectVariable.2" source="//BlackAndNacPatternTransformer/createInjectivityConstraint/@activity/@ownedActivityNode.0/@storyPattern/@objectVariable.1" bindingOperator="CREATE">
              <type href="http://gervarro.org/democles/specification.ecore#//ConstraintParameter/reference"/>
            </linkVariable>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StartNode" outgoing="//BlackAndNacPatternTransformer/createInjectivityConstraint/@activity/@ownedActivityEdge.1"/>
        <ownedActivityNode xsi:type="activities:StoryNode" name="CreateSecondParameter" comment="CreateSecondParameter" outgoing="//BlackAndNacPatternTransformer/createInjectivityConstraint/@activity/@ownedActivityEdge.2" incoming="//BlackAndNacPatternTransformer/createInjectivityConstraint/@activity/@ownedActivityEdge.0">
          <storyPattern comment="CreateSecondParameter">
            <objectVariable name="unequalityConstraint" outgoingLink="//BlackAndNacPatternTransformer/createInjectivityConstraint/@activity/@ownedActivityNode.2/@storyPattern/@linkVariable.0" bindingState="BOUND">
              <type xsi:type="ecore:EClass" href="http://gervarro.org/democles/specification/constraint/relational.ecore#//Unequal"/>
            </objectVariable>
            <objectVariable name="secondParameter" incomingLink="//BlackAndNacPatternTransformer/createInjectivityConstraint/@activity/@ownedActivityNode.2/@storyPattern/@linkVariable.0" outgoingLink="//BlackAndNacPatternTransformer/createInjectivityConstraint/@activity/@ownedActivityNode.2/@storyPattern/@linkVariable.1" bindingOperator="CREATE">
              <type xsi:type="ecore:EClass" href="http://gervarro.org/democles/specification.ecore#//ConstraintParameter"/>
            </objectVariable>
            <objectVariable name="second" incomingLink="//BlackAndNacPatternTransformer/createInjectivityConstraint/@activity/@ownedActivityNode.2/@storyPattern/@linkVariable.1" bindingState="BOUND">
              <type xsi:type="ecore:EClass" href="http://gervarro.org/democles/specification.ecore#//Variable"/>
            </objectVariable>
            <linkVariable name="parameters" target="//BlackAndNacPatternTransformer/createInjectivityConstraint/@activity/@ownedActivityNode.2/@storyPattern/@objectVariable.1" source="//BlackAndNacPatternTransformer/createInjectivityConstraint/@activity/@ownedActivityNode.2/@storyPattern/@objectVariable.0" bindingOperator="CREATE">
              <type href="http://gervarro.org/democles/specification.ecore#//Constraint/parameters"/>
            </linkVariable>
            <linkVariable name="reference" target="//BlackAndNacPatternTransformer/createInjectivityConstraint/@activity/@ownedActivityNode.2/@storyPattern/@objectVariable.2" source="//BlackAndNacPatternTransformer/createInjectivityConstraint/@activity/@ownedActivityNode.2/@storyPattern/@objectVariable.1" bindingOperator="CREATE">
              <type href="http://gervarro.org/democles/specification.ecore#//ConstraintParameter/reference"/>
            </linkVariable>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StoryNode" name="CreateConstraint" comment="CreateConstraint" outgoing="//BlackAndNacPatternTransformer/createInjectivityConstraint/@activity/@ownedActivityEdge.3" incoming="//BlackAndNacPatternTransformer/createInjectivityConstraint/@activity/@ownedActivityEdge.1">
          <storyPattern comment="CreateConstraint">
            <objectVariable name="pattern" incomingLink="//BlackAndNacPatternTransformer/createInjectivityConstraint/@activity/@ownedActivityNode.3/@storyPattern/@linkVariable.0" bindingState="BOUND">
              <type xsi:type="ecore:EClass" href="http://gervarro.org/democles/specification.ecore#//Pattern"/>
            </objectVariable>
            <objectVariable name="unequalityConstraint" incomingLink="//BlackAndNacPatternTransformer/createInjectivityConstraint/@activity/@ownedActivityNode.3/@storyPattern/@linkVariable.1" bindingOperator="CREATE">
              <type xsi:type="ecore:EClass" href="http://gervarro.org/democles/specification/constraint/relational.ecore#//Unequal"/>
            </objectVariable>
            <objectVariable name="body" outgoingLink="//BlackAndNacPatternTransformer/createInjectivityConstraint/@activity/@ownedActivityNode.3/@storyPattern/@linkVariable.1 //BlackAndNacPatternTransformer/createInjectivityConstraint/@activity/@ownedActivityNode.3/@storyPattern/@linkVariable.0">
              <type xsi:type="ecore:EClass" href="http://gervarro.org/democles/specification.ecore#//PatternBody"/>
            </objectVariable>
            <linkVariable name="header" target="//BlackAndNacPatternTransformer/createInjectivityConstraint/@activity/@ownedActivityNode.3/@storyPattern/@objectVariable.0" source="//BlackAndNacPatternTransformer/createInjectivityConstraint/@activity/@ownedActivityNode.3/@storyPattern/@objectVariable.2">
              <type href="http://gervarro.org/democles/specification.ecore#//PatternBody/header"/>
            </linkVariable>
            <linkVariable name="constraints" target="//BlackAndNacPatternTransformer/createInjectivityConstraint/@activity/@ownedActivityNode.3/@storyPattern/@objectVariable.1" source="//BlackAndNacPatternTransformer/createInjectivityConstraint/@activity/@ownedActivityNode.3/@storyPattern/@objectVariable.2" bindingOperator="CREATE">
              <type href="http://gervarro.org/democles/specification.ecore#//PatternBody/constraints"/>
            </linkVariable>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//BlackAndNacPatternTransformer/createInjectivityConstraint/@activity/@ownedActivityEdge.2"/>
      </activity>
    </eOperations>
    <eOperations xsi:type="activities:MoflonEOperation" name="createRelationalConstraint">
      <eType xsi:type="ecore:EClass" href="http://gervarro.org/democles/specification/constraint/relational.ecore#//RelationalConstraint"/>
      <eParameters name="comparison">
        <eType xsi:type="ecore:EClass" href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//expressions/ComparisonExpression"/>
      </eParameters>
      <activity owningOperation="//BlackAndNacPatternTransformer/createRelationalConstraint">
        <ownedActivityEdge source="//BlackAndNacPatternTransformer/createRelationalConstraint/@activity/@ownedActivityNode.2" target="//BlackAndNacPatternTransformer/createRelationalConstraint/@activity/@ownedActivityNode.7" guard="FAILURE"/>
        <ownedActivityEdge source="//BlackAndNacPatternTransformer/createRelationalConstraint/@activity/@ownedActivityNode.2" target="//BlackAndNacPatternTransformer/createRelationalConstraint/@activity/@ownedActivityNode.1" guard="SUCCESS"/>
        <ownedActivityEdge source="//BlackAndNacPatternTransformer/createRelationalConstraint/@activity/@ownedActivityNode.3" target="//BlackAndNacPatternTransformer/createRelationalConstraint/@activity/@ownedActivityNode.11" guard="FAILURE"/>
        <ownedActivityEdge source="//BlackAndNacPatternTransformer/createRelationalConstraint/@activity/@ownedActivityNode.3" target="//BlackAndNacPatternTransformer/createRelationalConstraint/@activity/@ownedActivityNode.0" guard="SUCCESS"/>
        <ownedActivityEdge source="//BlackAndNacPatternTransformer/createRelationalConstraint/@activity/@ownedActivityNode.4" target="//BlackAndNacPatternTransformer/createRelationalConstraint/@activity/@ownedActivityNode.10" guard="SUCCESS"/>
        <ownedActivityEdge source="//BlackAndNacPatternTransformer/createRelationalConstraint/@activity/@ownedActivityNode.4" target="//BlackAndNacPatternTransformer/createRelationalConstraint/@activity/@ownedActivityNode.3" guard="FAILURE"/>
        <ownedActivityEdge source="//BlackAndNacPatternTransformer/createRelationalConstraint/@activity/@ownedActivityNode.5" target="//BlackAndNacPatternTransformer/createRelationalConstraint/@activity/@ownedActivityNode.6" guard="SUCCESS"/>
        <ownedActivityEdge source="//BlackAndNacPatternTransformer/createRelationalConstraint/@activity/@ownedActivityNode.5" target="//BlackAndNacPatternTransformer/createRelationalConstraint/@activity/@ownedActivityNode.4" guard="FAILURE"/>
        <ownedActivityEdge source="//BlackAndNacPatternTransformer/createRelationalConstraint/@activity/@ownedActivityNode.7" target="//BlackAndNacPatternTransformer/createRelationalConstraint/@activity/@ownedActivityNode.13" guard="SUCCESS"/>
        <ownedActivityEdge source="//BlackAndNacPatternTransformer/createRelationalConstraint/@activity/@ownedActivityNode.7" target="//BlackAndNacPatternTransformer/createRelationalConstraint/@activity/@ownedActivityNode.5" guard="FAILURE"/>
        <ownedActivityEdge source="//BlackAndNacPatternTransformer/createRelationalConstraint/@activity/@ownedActivityNode.9" target="//BlackAndNacPatternTransformer/createRelationalConstraint/@activity/@ownedActivityNode.12"/>
        <ownedActivityEdge source="//BlackAndNacPatternTransformer/createRelationalConstraint/@activity/@ownedActivityNode.12" target="//BlackAndNacPatternTransformer/createRelationalConstraint/@activity/@ownedActivityNode.8" guard="SUCCESS"/>
        <ownedActivityEdge source="//BlackAndNacPatternTransformer/createRelationalConstraint/@activity/@ownedActivityNode.12" target="//BlackAndNacPatternTransformer/createRelationalConstraint/@activity/@ownedActivityNode.2" guard="FAILURE"/>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//BlackAndNacPatternTransformer/createRelationalConstraint/@activity/@ownedActivityEdge.3">
          <returnValue xsi:type="patternExpressions:ObjectVariableExpression" object="//BlackAndNacPatternTransformer/createRelationalConstraint/@activity/@ownedActivityNode.3/@storyPattern/@objectVariable.1"/>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//BlackAndNacPatternTransformer/createRelationalConstraint/@activity/@ownedActivityEdge.1">
          <returnValue xsi:type="patternExpressions:ObjectVariableExpression" object="//BlackAndNacPatternTransformer/createRelationalConstraint/@activity/@ownedActivityNode.2/@storyPattern/@objectVariable.1"/>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StoryNode" name="IsInequality" comment="IsInequality" outgoing="//BlackAndNacPatternTransformer/createRelationalConstraint/@activity/@ownedActivityEdge.0 //BlackAndNacPatternTransformer/createRelationalConstraint/@activity/@ownedActivityEdge.1" incoming="//BlackAndNacPatternTransformer/createRelationalConstraint/@activity/@ownedActivityEdge.12">
          <storyPattern comment="IsInequality">
            <objectVariable name="comparison" bindingState="BOUND">
              <type xsi:type="ecore:EClass" href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//expressions/ComparisonExpression"/>
              <constraint>
                <constraintExpression xsi:type="expressions:ComparisonExpression" operator="EQUAL">
                  <rightExpression xsi:type="expressions:LiteralExpression" value="SDMLanguage.expressions.ComparingOperator.UNEQUAL"/>
                  <leftExpression xsi:type="patternExpressions:AttributeValueExpression" object="//BlackAndNacPatternTransformer/createRelationalConstraint/@activity/@ownedActivityNode.2/@storyPattern/@objectVariable.0">
                    <attribute href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//expressions/ComparisonExpression/operator"/>
                  </leftExpression>
                </constraintExpression>
              </constraint>
            </objectVariable>
            <objectVariable name="unequalsConstraint" bindingOperator="CREATE">
              <type xsi:type="ecore:EClass" href="http://gervarro.org/democles/specification/constraint/relational.ecore#//Unequal"/>
            </objectVariable>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StoryNode" name="IsLargerOrEqual" comment="IsLargerOrEqual" outgoing="//BlackAndNacPatternTransformer/createRelationalConstraint/@activity/@ownedActivityEdge.2 //BlackAndNacPatternTransformer/createRelationalConstraint/@activity/@ownedActivityEdge.3" incoming="//BlackAndNacPatternTransformer/createRelationalConstraint/@activity/@ownedActivityEdge.5">
          <storyPattern comment="IsLargerOrEqual">
            <objectVariable name="comparison" bindingState="BOUND">
              <type xsi:type="ecore:EClass" href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//expressions/ComparisonExpression"/>
              <constraint>
                <constraintExpression xsi:type="expressions:ComparisonExpression" operator="EQUAL">
                  <rightExpression xsi:type="expressions:LiteralExpression" value="SDMLanguage.expressions.ComparingOperator.GREATER_OR_EQUAL"/>
                  <leftExpression xsi:type="patternExpressions:AttributeValueExpression" object="//BlackAndNacPatternTransformer/createRelationalConstraint/@activity/@ownedActivityNode.3/@storyPattern/@objectVariable.0">
                    <attribute href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//expressions/ComparisonExpression/operator"/>
                  </leftExpression>
                </constraintExpression>
              </constraint>
            </objectVariable>
            <objectVariable name="largerOrEqualConstraint" bindingOperator="CREATE">
              <type xsi:type="ecore:EClass" href="http://gervarro.org/democles/specification/constraint/relational.ecore#//LargerOrEqual"/>
            </objectVariable>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StoryNode" name="IsLarger" comment="IsLarger" outgoing="//BlackAndNacPatternTransformer/createRelationalConstraint/@activity/@ownedActivityEdge.4 //BlackAndNacPatternTransformer/createRelationalConstraint/@activity/@ownedActivityEdge.5" incoming="//BlackAndNacPatternTransformer/createRelationalConstraint/@activity/@ownedActivityEdge.7">
          <storyPattern comment="IsLarger">
            <objectVariable name="largerConstraint" bindingOperator="CREATE">
              <type xsi:type="ecore:EClass" href="http://gervarro.org/democles/specification/constraint/relational.ecore#//Larger"/>
            </objectVariable>
            <objectVariable name="comparison" bindingState="BOUND">
              <type xsi:type="ecore:EClass" href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//expressions/ComparisonExpression"/>
              <constraint>
                <constraintExpression xsi:type="expressions:ComparisonExpression" operator="EQUAL">
                  <rightExpression xsi:type="expressions:LiteralExpression" value="SDMLanguage.expressions.ComparingOperator.GREATER"/>
                  <leftExpression xsi:type="patternExpressions:AttributeValueExpression" object="//BlackAndNacPatternTransformer/createRelationalConstraint/@activity/@ownedActivityNode.4/@storyPattern/@objectVariable.1">
                    <attribute href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//expressions/ComparisonExpression/operator"/>
                  </leftExpression>
                </constraintExpression>
              </constraint>
            </objectVariable>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StoryNode" name="IsSmallerOrEqual" comment="IsSmallerOrEqual" outgoing="//BlackAndNacPatternTransformer/createRelationalConstraint/@activity/@ownedActivityEdge.6 //BlackAndNacPatternTransformer/createRelationalConstraint/@activity/@ownedActivityEdge.7" incoming="//BlackAndNacPatternTransformer/createRelationalConstraint/@activity/@ownedActivityEdge.9">
          <storyPattern comment="IsSmallerOrEqual">
            <objectVariable name="smallerOrEqualConstraint" bindingOperator="CREATE">
              <type xsi:type="ecore:EClass" href="http://gervarro.org/democles/specification/constraint/relational.ecore#//SmallerOrEqual"/>
            </objectVariable>
            <objectVariable name="comparison" bindingState="BOUND">
              <type xsi:type="ecore:EClass" href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//expressions/ComparisonExpression"/>
              <constraint>
                <constraintExpression xsi:type="expressions:ComparisonExpression" operator="EQUAL">
                  <rightExpression xsi:type="expressions:LiteralExpression" value="SDMLanguage.expressions.ComparingOperator.LESS_OR_EQUAL"/>
                  <leftExpression xsi:type="patternExpressions:AttributeValueExpression" object="//BlackAndNacPatternTransformer/createRelationalConstraint/@activity/@ownedActivityNode.5/@storyPattern/@objectVariable.1">
                    <attribute href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//expressions/ComparisonExpression/operator"/>
                  </leftExpression>
                </constraintExpression>
              </constraint>
            </objectVariable>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//BlackAndNacPatternTransformer/createRelationalConstraint/@activity/@ownedActivityEdge.6">
          <returnValue xsi:type="patternExpressions:ObjectVariableExpression" object="//BlackAndNacPatternTransformer/createRelationalConstraint/@activity/@ownedActivityNode.5/@storyPattern/@objectVariable.0"/>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StoryNode" name="IsSmaller" comment="IsSmaller" outgoing="//BlackAndNacPatternTransformer/createRelationalConstraint/@activity/@ownedActivityEdge.8 //BlackAndNacPatternTransformer/createRelationalConstraint/@activity/@ownedActivityEdge.9" incoming="//BlackAndNacPatternTransformer/createRelationalConstraint/@activity/@ownedActivityEdge.0">
          <storyPattern comment="IsSmaller">
            <objectVariable name="comparison" bindingState="BOUND">
              <type xsi:type="ecore:EClass" href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//expressions/ComparisonExpression"/>
              <constraint>
                <constraintExpression xsi:type="expressions:ComparisonExpression" operator="EQUAL">
                  <rightExpression xsi:type="expressions:LiteralExpression" value="SDMLanguage.expressions.ComparingOperator.LESS"/>
                  <leftExpression xsi:type="patternExpressions:AttributeValueExpression" object="//BlackAndNacPatternTransformer/createRelationalConstraint/@activity/@ownedActivityNode.7/@storyPattern/@objectVariable.0">
                    <attribute href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//expressions/ComparisonExpression/operator"/>
                  </leftExpression>
                </constraintExpression>
              </constraint>
            </objectVariable>
            <objectVariable name="smallerConstraint" bindingOperator="CREATE">
              <type xsi:type="ecore:EClass" href="http://gervarro.org/democles/specification/constraint/relational.ecore#//Smaller"/>
            </objectVariable>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//BlackAndNacPatternTransformer/createRelationalConstraint/@activity/@ownedActivityEdge.11">
          <returnValue xsi:type="patternExpressions:ObjectVariableExpression" object="//BlackAndNacPatternTransformer/createRelationalConstraint/@activity/@ownedActivityNode.12/@storyPattern/@objectVariable.0"/>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StartNode" outgoing="//BlackAndNacPatternTransformer/createRelationalConstraint/@activity/@ownedActivityEdge.10"/>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//BlackAndNacPatternTransformer/createRelationalConstraint/@activity/@ownedActivityEdge.4">
          <returnValue xsi:type="patternExpressions:ObjectVariableExpression" object="//BlackAndNacPatternTransformer/createRelationalConstraint/@activity/@ownedActivityNode.4/@storyPattern/@objectVariable.0"/>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//BlackAndNacPatternTransformer/createRelationalConstraint/@activity/@ownedActivityEdge.2">
          <returnValue xsi:type="expressions:LiteralExpression" value="null"/>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StoryNode" name="IsEquality" comment="IsEquality" outgoing="//BlackAndNacPatternTransformer/createRelationalConstraint/@activity/@ownedActivityEdge.11 //BlackAndNacPatternTransformer/createRelationalConstraint/@activity/@ownedActivityEdge.12" incoming="//BlackAndNacPatternTransformer/createRelationalConstraint/@activity/@ownedActivityEdge.10">
          <storyPattern comment="IsEquality">
            <objectVariable name="equalsConstraint" bindingOperator="CREATE">
              <type xsi:type="ecore:EClass" href="http://gervarro.org/democles/specification/constraint/relational.ecore#//Equal"/>
            </objectVariable>
            <objectVariable name="comparison" bindingState="BOUND">
              <type xsi:type="ecore:EClass" href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//expressions/ComparisonExpression"/>
              <constraint>
                <constraintExpression xsi:type="expressions:ComparisonExpression" operator="EQUAL">
                  <rightExpression xsi:type="expressions:LiteralExpression" value="SDMLanguage.expressions.ComparingOperator.EQUAL"/>
                  <leftExpression xsi:type="patternExpressions:AttributeValueExpression" object="//BlackAndNacPatternTransformer/createRelationalConstraint/@activity/@ownedActivityNode.12/@storyPattern/@objectVariable.1">
                    <attribute href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//expressions/ComparisonExpression/operator"/>
                  </leftExpression>
                </constraintExpression>
              </constraint>
            </objectVariable>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//BlackAndNacPatternTransformer/createRelationalConstraint/@activity/@ownedActivityEdge.8">
          <returnValue xsi:type="patternExpressions:ObjectVariableExpression" object="//BlackAndNacPatternTransformer/createRelationalConstraint/@activity/@ownedActivityNode.7/@storyPattern/@objectVariable.1"/>
        </ownedActivityNode>
      </activity>
    </eOperations>
    <eOperations xsi:type="activities:MoflonEOperation" name="injectiveMappingRequired">
      <eType xsi:type="ecore:EDataType" href="http://www.eclipse.org/emf/2002/Ecore#//EBoolean"/>
      <eParameters name="first">
        <eType xsi:type="ecore:EClass" href="http://gervarro.org/democles/specification.ecore#//Variable"/>
      </eParameters>
      <eParameters name="second">
        <eType xsi:type="ecore:EClass" href="http://gervarro.org/democles/specification.ecore#//Variable"/>
      </eParameters>
    </eOperations>
    <eOperations xsi:type="activities:MoflonEOperation" name="isLinkToAdd">
      <eType xsi:type="ecore:EDataType" href="http://www.eclipse.org/emf/2002/Ecore#//EBoolean"/>
      <eParameters name="linkVariable">
        <eType xsi:type="ecore:EClass" href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//patterns/LinkVariable"/>
      </eParameters>
      <eParameters name="pattern">
        <eType xsi:type="ecore:EClass" href="http://gervarro.org/democles/specification.ecore#//Pattern"/>
      </eParameters>
      <activity owningOperation="//BlackAndNacPatternTransformer/isLinkToAdd">
        <ownedActivityEdge source="//BlackAndNacPatternTransformer/isLinkToAdd/@activity/@ownedActivityNode.1" target="//BlackAndNacPatternTransformer/isLinkToAdd/@activity/@ownedActivityNode.3"/>
        <ownedActivityEdge source="//BlackAndNacPatternTransformer/isLinkToAdd/@activity/@ownedActivityNode.3" target="//BlackAndNacPatternTransformer/isLinkToAdd/@activity/@ownedActivityNode.4" guard="SUCCESS"/>
        <ownedActivityEdge source="//BlackAndNacPatternTransformer/isLinkToAdd/@activity/@ownedActivityNode.3" target="//BlackAndNacPatternTransformer/isLinkToAdd/@activity/@ownedActivityNode.8" guard="FAILURE"/>
        <ownedActivityEdge source="//BlackAndNacPatternTransformer/isLinkToAdd/@activity/@ownedActivityNode.5" target="//BlackAndNacPatternTransformer/isLinkToAdd/@activity/@ownedActivityNode.7" guard="FAILURE"/>
        <ownedActivityEdge source="//BlackAndNacPatternTransformer/isLinkToAdd/@activity/@ownedActivityNode.5" target="//BlackAndNacPatternTransformer/isLinkToAdd/@activity/@ownedActivityNode.0" guard="SUCCESS"/>
        <ownedActivityEdge source="//BlackAndNacPatternTransformer/isLinkToAdd/@activity/@ownedActivityNode.7" target="//BlackAndNacPatternTransformer/isLinkToAdd/@activity/@ownedActivityNode.9" guard="SUCCESS"/>
        <ownedActivityEdge source="//BlackAndNacPatternTransformer/isLinkToAdd/@activity/@ownedActivityNode.7" target="//BlackAndNacPatternTransformer/isLinkToAdd/@activity/@ownedActivityNode.2" guard="FAILURE"/>
        <ownedActivityEdge source="//BlackAndNacPatternTransformer/isLinkToAdd/@activity/@ownedActivityNode.8" target="//BlackAndNacPatternTransformer/isLinkToAdd/@activity/@ownedActivityNode.6" guard="FAILURE"/>
        <ownedActivityEdge source="//BlackAndNacPatternTransformer/isLinkToAdd/@activity/@ownedActivityNode.8" target="//BlackAndNacPatternTransformer/isLinkToAdd/@activity/@ownedActivityNode.10" guard="SUCCESS"/>
        <ownedActivityEdge source="//BlackAndNacPatternTransformer/isLinkToAdd/@activity/@ownedActivityNode.10" target="//BlackAndNacPatternTransformer/isLinkToAdd/@activity/@ownedActivityNode.5" guard="SUCCESS"/>
        <ownedActivityEdge source="//BlackAndNacPatternTransformer/isLinkToAdd/@activity/@ownedActivityNode.10" target="//BlackAndNacPatternTransformer/isLinkToAdd/@activity/@ownedActivityNode.11" guard="FAILURE"/>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//BlackAndNacPatternTransformer/isLinkToAdd/@activity/@ownedActivityEdge.4">
          <returnValue xsi:type="expressions:LiteralExpression" value="true"/>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StartNode" outgoing="//BlackAndNacPatternTransformer/isLinkToAdd/@activity/@ownedActivityEdge.0"/>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//BlackAndNacPatternTransformer/isLinkToAdd/@activity/@ownedActivityEdge.6">
          <returnValue xsi:type="expressions:LiteralExpression" value="false"/>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StoryNode" name="IsLinkNegative" comment="IsLinkNegative" outgoing="//BlackAndNacPatternTransformer/isLinkToAdd/@activity/@ownedActivityEdge.1 //BlackAndNacPatternTransformer/isLinkToAdd/@activity/@ownedActivityEdge.2" incoming="//BlackAndNacPatternTransformer/isLinkToAdd/@activity/@ownedActivityEdge.0">
          <storyPattern comment="IsLinkNegative">
            <objectVariable name="linkVariable" bindingState="BOUND">
              <type xsi:type="ecore:EClass" href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//patterns/LinkVariable"/>
              <constraint>
                <constraintExpression xsi:type="expressions:ComparisonExpression" operator="EQUAL">
                  <rightExpression xsi:type="expressions:LiteralExpression" value="SDMLanguage.patterns.BindingSemantics.NEGATIVE"/>
                  <leftExpression xsi:type="patternExpressions:AttributeValueExpression" object="//BlackAndNacPatternTransformer/isLinkToAdd/@activity/@ownedActivityNode.3/@storyPattern/@objectVariable.0">
                    <attribute href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//patterns/LinkVariable/bindingSemantics"/>
                  </leftExpression>
                </constraintExpression>
              </constraint>
            </objectVariable>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//BlackAndNacPatternTransformer/isLinkToAdd/@activity/@ownedActivityEdge.1">
          <returnValue xsi:type="expressions:LiteralExpression" value="false"/>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StoryNode" name="IsLinkBlack" comment="IsLinkBlack" outgoing="//BlackAndNacPatternTransformer/isLinkToAdd/@activity/@ownedActivityEdge.3 //BlackAndNacPatternTransformer/isLinkToAdd/@activity/@ownedActivityEdge.4" incoming="//BlackAndNacPatternTransformer/isLinkToAdd/@activity/@ownedActivityEdge.9">
          <storyPattern comment="IsLinkBlack">
            <objectVariable name="linkVariable" bindingState="BOUND">
              <type xsi:type="ecore:EClass" href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//patterns/LinkVariable"/>
              <constraint>
                <constraintExpression xsi:type="expressions:ComparisonExpression" operator="EQUAL">
                  <rightExpression xsi:type="expressions:LiteralExpression" value="SDMLanguage.patterns.BindingOperator.CHECK_ONLY"/>
                  <leftExpression xsi:type="patternExpressions:AttributeValueExpression" object="//BlackAndNacPatternTransformer/isLinkToAdd/@activity/@ownedActivityNode.5/@storyPattern/@objectVariable.0">
                    <attribute href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//patterns/LinkVariable/bindingOperator"/>
                  </leftExpression>
                </constraintExpression>
              </constraint>
            </objectVariable>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//BlackAndNacPatternTransformer/isLinkToAdd/@activity/@ownedActivityEdge.7">
          <returnValue xsi:type="expressions:LiteralExpression" value="false"/>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StoryNode" name="IsLinkRed" comment="IsLinkRed" outgoing="//BlackAndNacPatternTransformer/isLinkToAdd/@activity/@ownedActivityEdge.5 //BlackAndNacPatternTransformer/isLinkToAdd/@activity/@ownedActivityEdge.6" incoming="//BlackAndNacPatternTransformer/isLinkToAdd/@activity/@ownedActivityEdge.3">
          <storyPattern comment="IsLinkRed">
            <objectVariable name="linkVariable" bindingState="BOUND">
              <type xsi:type="ecore:EClass" href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//patterns/LinkVariable"/>
              <constraint>
                <constraintExpression xsi:type="expressions:ComparisonExpression" operator="EQUAL">
                  <rightExpression xsi:type="expressions:LiteralExpression" value="SDMLanguage.patterns.BindingOperator.DESTROY"/>
                  <leftExpression xsi:type="patternExpressions:AttributeValueExpression" object="//BlackAndNacPatternTransformer/isLinkToAdd/@activity/@ownedActivityNode.7/@storyPattern/@objectVariable.0">
                    <attribute href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//patterns/LinkVariable/bindingOperator"/>
                  </leftExpression>
                </constraintExpression>
              </constraint>
            </objectVariable>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StoryNode" name="IsSourceMandatory" comment="IsSourceMandatory" outgoing="//BlackAndNacPatternTransformer/isLinkToAdd/@activity/@ownedActivityEdge.7 //BlackAndNacPatternTransformer/isLinkToAdd/@activity/@ownedActivityEdge.8" incoming="//BlackAndNacPatternTransformer/isLinkToAdd/@activity/@ownedActivityEdge.2">
          <storyPattern comment="IsSourceMandatory">
            <objectVariable name="source" outgoingLink="//BlackAndNacPatternTransformer/isLinkToAdd/@activity/@ownedActivityNode.8/@storyPattern/@linkVariable.0">
              <type xsi:type="ecore:EClass" href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//patterns/ObjectVariable"/>
              <constraint>
                <constraintExpression xsi:type="expressions:ComparisonExpression" operator="EQUAL">
                  <rightExpression xsi:type="expressions:LiteralExpression" value="SDMLanguage.patterns.BindingSemantics.MANDATORY"/>
                  <leftExpression xsi:type="patternExpressions:AttributeValueExpression" object="//BlackAndNacPatternTransformer/isLinkToAdd/@activity/@ownedActivityNode.8/@storyPattern/@objectVariable.0">
                    <attribute href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//patterns/ObjectVariable/bindingSemantics"/>
                  </leftExpression>
                </constraintExpression>
              </constraint>
            </objectVariable>
            <objectVariable name="linkVariable" incomingLink="//BlackAndNacPatternTransformer/isLinkToAdd/@activity/@ownedActivityNode.8/@storyPattern/@linkVariable.0" bindingState="BOUND">
              <type xsi:type="ecore:EClass" href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//patterns/LinkVariable"/>
            </objectVariable>
            <linkVariable name="outgoingLink" target="//BlackAndNacPatternTransformer/isLinkToAdd/@activity/@ownedActivityNode.8/@storyPattern/@objectVariable.1" source="//BlackAndNacPatternTransformer/isLinkToAdd/@activity/@ownedActivityNode.8/@storyPattern/@objectVariable.0">
              <type href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//patterns/ObjectVariable/outgoingLink"/>
            </linkVariable>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//BlackAndNacPatternTransformer/isLinkToAdd/@activity/@ownedActivityEdge.5">
          <returnValue xsi:type="expressions:LiteralExpression" value="true"/>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StoryNode" name="IsTargetMandatory" comment="IsTargetMandatory" outgoing="//BlackAndNacPatternTransformer/isLinkToAdd/@activity/@ownedActivityEdge.9 //BlackAndNacPatternTransformer/isLinkToAdd/@activity/@ownedActivityEdge.10" incoming="//BlackAndNacPatternTransformer/isLinkToAdd/@activity/@ownedActivityEdge.8">
          <storyPattern comment="IsTargetMandatory">
            <objectVariable name="linkVariable" incomingLink="//BlackAndNacPatternTransformer/isLinkToAdd/@activity/@ownedActivityNode.10/@storyPattern/@linkVariable.0" bindingState="BOUND">
              <type xsi:type="ecore:EClass" href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//patterns/LinkVariable"/>
            </objectVariable>
            <objectVariable name="target" outgoingLink="//BlackAndNacPatternTransformer/isLinkToAdd/@activity/@ownedActivityNode.10/@storyPattern/@linkVariable.0">
              <type xsi:type="ecore:EClass" href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//patterns/ObjectVariable"/>
              <constraint>
                <constraintExpression xsi:type="expressions:ComparisonExpression" operator="EQUAL">
                  <rightExpression xsi:type="expressions:LiteralExpression" value="BindingSemantics.MANDATORY"/>
                  <leftExpression xsi:type="patternExpressions:AttributeValueExpression" object="//BlackAndNacPatternTransformer/isLinkToAdd/@activity/@ownedActivityNode.10/@storyPattern/@objectVariable.1">
                    <attribute href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//patterns/ObjectVariable/bindingSemantics"/>
                  </leftExpression>
                </constraintExpression>
              </constraint>
            </objectVariable>
            <linkVariable name="incomingLink" target="//BlackAndNacPatternTransformer/isLinkToAdd/@activity/@ownedActivityNode.10/@storyPattern/@objectVariable.0" source="//BlackAndNacPatternTransformer/isLinkToAdd/@activity/@ownedActivityNode.10/@storyPattern/@objectVariable.1">
              <type href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//patterns/ObjectVariable/incomingLink"/>
            </linkVariable>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//BlackAndNacPatternTransformer/isLinkToAdd/@activity/@ownedActivityEdge.10">
          <returnValue xsi:type="expressions:LiteralExpression" value="false"/>
        </ownedActivityNode>
      </activity>
    </eOperations>
    <eOperations xsi:type="activities:MoflonEOperation" name="isVariableToAdd">
      <eType xsi:type="ecore:EDataType" href="http://www.eclipse.org/emf/2002/Ecore#//EBoolean"/>
      <eParameters name="objectVariable">
        <eType xsi:type="ecore:EClass" href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//patterns/ObjectVariable"/>
      </eParameters>
      <activity owningOperation="//BlackAndNacPatternTransformer/isVariableToAdd">
        <ownedActivityEdge source="//BlackAndNacPatternTransformer/isVariableToAdd/@activity/@ownedActivityNode.0" target="//BlackAndNacPatternTransformer/isVariableToAdd/@activity/@ownedActivityNode.5" guard="SUCCESS"/>
        <ownedActivityEdge source="//BlackAndNacPatternTransformer/isVariableToAdd/@activity/@ownedActivityNode.0" target="//BlackAndNacPatternTransformer/isVariableToAdd/@activity/@ownedActivityNode.4" guard="FAILURE"/>
        <ownedActivityEdge source="//BlackAndNacPatternTransformer/isVariableToAdd/@activity/@ownedActivityNode.1" target="//BlackAndNacPatternTransformer/isVariableToAdd/@activity/@ownedActivityNode.3"/>
        <ownedActivityEdge source="//BlackAndNacPatternTransformer/isVariableToAdd/@activity/@ownedActivityNode.3" target="//BlackAndNacPatternTransformer/isVariableToAdd/@activity/@ownedActivityNode.2" guard="SUCCESS"/>
        <ownedActivityEdge source="//BlackAndNacPatternTransformer/isVariableToAdd/@activity/@ownedActivityNode.3" target="//BlackAndNacPatternTransformer/isVariableToAdd/@activity/@ownedActivityNode.0" guard="FAILURE"/>
        <ownedActivityNode xsi:type="activities:StoryNode" name="IsVariableRed" comment="IsVariableRed" outgoing="//BlackAndNacPatternTransformer/isVariableToAdd/@activity/@ownedActivityEdge.0 //BlackAndNacPatternTransformer/isVariableToAdd/@activity/@ownedActivityEdge.1" incoming="//BlackAndNacPatternTransformer/isVariableToAdd/@activity/@ownedActivityEdge.4">
          <storyPattern comment="IsVariableRed">
            <objectVariable name="objectVariable" bindingState="BOUND">
              <type xsi:type="ecore:EClass" href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//patterns/ObjectVariable"/>
              <constraint>
                <constraintExpression xsi:type="expressions:ComparisonExpression" operator="EQUAL">
                  <rightExpression xsi:type="expressions:LiteralExpression" value="SDMLanguage.patterns.BindingOperator.DESTROY"/>
                  <leftExpression xsi:type="patternExpressions:AttributeValueExpression" object="//BlackAndNacPatternTransformer/isVariableToAdd/@activity/@ownedActivityNode.0/@storyPattern/@objectVariable.0">
                    <attribute href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//patterns/ObjectVariable/bindingOperator"/>
                  </leftExpression>
                </constraintExpression>
              </constraint>
            </objectVariable>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StartNode" outgoing="//BlackAndNacPatternTransformer/isVariableToAdd/@activity/@ownedActivityEdge.2"/>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//BlackAndNacPatternTransformer/isVariableToAdd/@activity/@ownedActivityEdge.3">
          <returnValue xsi:type="expressions:LiteralExpression" value="true"/>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StoryNode" name="IsVariableBlackAndMandatory" comment="IsVariableBlackAndMandatory" outgoing="//BlackAndNacPatternTransformer/isVariableToAdd/@activity/@ownedActivityEdge.3 //BlackAndNacPatternTransformer/isVariableToAdd/@activity/@ownedActivityEdge.4" incoming="//BlackAndNacPatternTransformer/isVariableToAdd/@activity/@ownedActivityEdge.2">
          <storyPattern comment="IsVariableBlackAndMandatory">
            <objectVariable name="objectVariable" bindingState="BOUND">
              <type xsi:type="ecore:EClass" href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//patterns/ObjectVariable"/>
              <constraint>
                <constraintExpression xsi:type="expressions:ComparisonExpression" operator="EQUAL">
                  <rightExpression xsi:type="expressions:LiteralExpression" value="SDMLanguage.patterns.BindingOperator.CHECK_ONLY"/>
                  <leftExpression xsi:type="patternExpressions:AttributeValueExpression" object="//BlackAndNacPatternTransformer/isVariableToAdd/@activity/@ownedActivityNode.3/@storyPattern/@objectVariable.0">
                    <attribute href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//patterns/ObjectVariable/bindingOperator"/>
                  </leftExpression>
                </constraintExpression>
              </constraint>
              <constraint>
                <constraintExpression xsi:type="expressions:ComparisonExpression" operator="EQUAL">
                  <rightExpression xsi:type="expressions:LiteralExpression" value="SDMLanguage.patterns.BindingSemantics.MANDATORY"/>
                  <leftExpression xsi:type="patternExpressions:AttributeValueExpression" object="//BlackAndNacPatternTransformer/isVariableToAdd/@activity/@ownedActivityNode.3/@storyPattern/@objectVariable.0">
                    <attribute href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//patterns/ObjectVariable/bindingSemantics"/>
                  </leftExpression>
                </constraintExpression>
              </constraint>
            </objectVariable>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//BlackAndNacPatternTransformer/isVariableToAdd/@activity/@ownedActivityEdge.1">
          <returnValue xsi:type="expressions:LiteralExpression" value="false"/>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//BlackAndNacPatternTransformer/isVariableToAdd/@activity/@ownedActivityEdge.0">
          <returnValue xsi:type="expressions:LiteralExpression" value="true"/>
        </ownedActivityNode>
      </activity>
    </eOperations>
    <eOperations xsi:type="activities:MoflonEOperation" name="postprocess">
      <eParameters name="storyPattern">
        <eType xsi:type="ecore:EClass" href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//patterns/StoryPattern"/>
      </eParameters>
      <eParameters name="pattern">
        <eType xsi:type="ecore:EClass" href="http://gervarro.org/democles/specification.ecore#//Pattern"/>
      </eParameters>
      <activity owningOperation="//BlackAndNacPatternTransformer/postprocess">
        <ownedActivityEdge source="//BlackAndNacPatternTransformer/postprocess/@activity/@ownedActivityNode.0" target="//BlackAndNacPatternTransformer/postprocess/@activity/@ownedActivityNode.1" guard="END"/>
        <ownedActivityEdge source="//BlackAndNacPatternTransformer/postprocess/@activity/@ownedActivityNode.0" target="//BlackAndNacPatternTransformer/postprocess/@activity/@ownedActivityNode.2" guard="EACH_TIME"/>
        <ownedActivityEdge source="//BlackAndNacPatternTransformer/postprocess/@activity/@ownedActivityNode.1" target="//BlackAndNacPatternTransformer/postprocess/@activity/@ownedActivityNode.4" guard="END"/>
        <ownedActivityEdge source="//BlackAndNacPatternTransformer/postprocess/@activity/@ownedActivityNode.1" target="//BlackAndNacPatternTransformer/postprocess/@activity/@ownedActivityNode.0" guard="EACH_TIME"/>
        <ownedActivityEdge source="//BlackAndNacPatternTransformer/postprocess/@activity/@ownedActivityNode.2" target="//BlackAndNacPatternTransformer/postprocess/@activity/@ownedActivityNode.0"/>
        <ownedActivityEdge source="//BlackAndNacPatternTransformer/postprocess/@activity/@ownedActivityNode.4" target="//BlackAndNacPatternTransformer/postprocess/@activity/@ownedActivityNode.3"/>
        <ownedActivityEdge source="//BlackAndNacPatternTransformer/postprocess/@activity/@ownedActivityNode.5" target="//BlackAndNacPatternTransformer/postprocess/@activity/@ownedActivityNode.1"/>
        <ownedActivityEdge source="//BlackAndNacPatternTransformer/postprocess/@activity/@ownedActivityNode.6" target="//BlackAndNacPatternTransformer/postprocess/@activity/@ownedActivityNode.5"/>
        <ownedActivityNode xsi:type="activities:StoryNode" name="ForAllAttributeConstraints" comment="ForAllAttributeConstraints" outgoing="//BlackAndNacPatternTransformer/postprocess/@activity/@ownedActivityEdge.0 //BlackAndNacPatternTransformer/postprocess/@activity/@ownedActivityEdge.1" incoming="//BlackAndNacPatternTransformer/postprocess/@activity/@ownedActivityEdge.3 //BlackAndNacPatternTransformer/postprocess/@activity/@ownedActivityEdge.4" forEach="true">
          <storyPattern comment="ForAllAttributeConstraints">
            <objectVariable name="objectVariable" outgoingLink="//BlackAndNacPatternTransformer/postprocess/@activity/@ownedActivityNode.0/@storyPattern/@linkVariable.0" bindingState="BOUND">
              <type xsi:type="ecore:EClass" href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//patterns/ObjectVariable"/>
              <constraint>
                <constraintExpression xsi:type="expressions:ComparisonExpression" operator="EQUAL">
                  <rightExpression xsi:type="expressions:LiteralExpression" value="SDMLanguage.patterns.BindingSemantics.MANDATORY"/>
                  <leftExpression xsi:type="patternExpressions:AttributeValueExpression" object="//BlackAndNacPatternTransformer/postprocess/@activity/@ownedActivityNode.0/@storyPattern/@objectVariable.0">
                    <attribute href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//patterns/ObjectVariable/bindingSemantics"/>
                  </leftExpression>
                </constraintExpression>
              </constraint>
            </objectVariable>
            <objectVariable name="constraint" incomingLink="//BlackAndNacPatternTransformer/postprocess/@activity/@ownedActivityNode.0/@storyPattern/@linkVariable.0">
              <type xsi:type="ecore:EClass" href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//patterns/Constraint"/>
            </objectVariable>
            <linkVariable name="constraint" target="//BlackAndNacPatternTransformer/postprocess/@activity/@ownedActivityNode.0/@storyPattern/@objectVariable.1" source="//BlackAndNacPatternTransformer/postprocess/@activity/@ownedActivityNode.0/@storyPattern/@objectVariable.0">
              <type href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//patterns/ObjectVariable/constraint"/>
            </linkVariable>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StoryNode" name="ForAllObjectVariables" comment="ForAllObjectVariables" outgoing="//BlackAndNacPatternTransformer/postprocess/@activity/@ownedActivityEdge.2 //BlackAndNacPatternTransformer/postprocess/@activity/@ownedActivityEdge.3" incoming="//BlackAndNacPatternTransformer/postprocess/@activity/@ownedActivityEdge.0 //BlackAndNacPatternTransformer/postprocess/@activity/@ownedActivityEdge.6" forEach="true">
          <storyPattern comment="ForAllObjectVariables">
            <objectVariable name="storyPattern" outgoingLink="//BlackAndNacPatternTransformer/postprocess/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.0" bindingState="BOUND">
              <type xsi:type="ecore:EClass" href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//patterns/StoryPattern"/>
            </objectVariable>
            <objectVariable name="objectVariable" incomingLink="//BlackAndNacPatternTransformer/postprocess/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.0">
              <type xsi:type="ecore:EClass" href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//patterns/ObjectVariable"/>
            </objectVariable>
            <linkVariable name="objectVariable" target="//BlackAndNacPatternTransformer/postprocess/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.1" source="//BlackAndNacPatternTransformer/postprocess/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.0">
              <type href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//patterns/StoryPattern/objectVariable"/>
            </linkVariable>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StatementNode" name="TransformAttributeConstraint" outgoing="//BlackAndNacPatternTransformer/postprocess/@activity/@ownedActivityEdge.4" incoming="//BlackAndNacPatternTransformer/postprocess/@activity/@ownedActivityEdge.1">
          <statementExpression xsi:type="callExpressions:MethodCallExpression" callee="//BlackAndNacPatternTransformer/transformAttributeConstraint">
            <ownedParameterBindings parameter="//BlackAndNacPatternTransformer/transformAttributeConstraint/constraint">
              <valueExpression xsi:type="patternExpressions:ObjectVariableExpression" object="//BlackAndNacPatternTransformer/postprocess/@activity/@ownedActivityNode.0/@storyPattern/@objectVariable.1"/>
            </ownedParameterBindings>
            <ownedParameterBindings parameter="//BlackAndNacPatternTransformer/transformAttributeConstraint/pattern">
              <valueExpression xsi:type="callExpressions:ParameterExpression" parameter="//BlackAndNacPatternTransformer/postprocess/pattern"/>
            </ownedParameterBindings>
            <target xsi:type="patternExpressions:ObjectVariableExpression" object="//BlackAndNacPatternTransformer/postprocess/@activity/@ownedActivityNode.5/@storyPattern/@objectVariable.0"/>
          </statementExpression>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//BlackAndNacPatternTransformer/postprocess/@activity/@ownedActivityEdge.5"/>
        <ownedActivityNode xsi:type="activities:StatementNode" name="InjectivityAnalysisForPositivePattern" outgoing="//BlackAndNacPatternTransformer/postprocess/@activity/@ownedActivityEdge.5" incoming="//BlackAndNacPatternTransformer/postprocess/@activity/@ownedActivityEdge.2">
          <statementExpression xsi:type="callExpressions:MethodCallExpression" callee="//BlackAndNacPatternTransformer/analyzeInjectivity">
            <ownedParameterBindings parameter="//BlackAndNacPatternTransformer/analyzeInjectivity/pattern">
              <valueExpression xsi:type="callExpressions:ParameterExpression" parameter="//BlackAndNacPatternTransformer/postprocess/pattern"/>
            </ownedParameterBindings>
            <target xsi:type="patternExpressions:ObjectVariableExpression" object="//BlackAndNacPatternTransformer/postprocess/@activity/@ownedActivityNode.5/@storyPattern/@objectVariable.0"/>
          </statementExpression>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StoryNode" name="Init" comment="Init" outgoing="//BlackAndNacPatternTransformer/postprocess/@activity/@ownedActivityEdge.6" incoming="//BlackAndNacPatternTransformer/postprocess/@activity/@ownedActivityEdge.7">
          <storyPattern comment="Init">
            <objectVariable type="//BlackAndNacPatternTransformer" name="this" bindingState="BOUND"/>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StartNode" outgoing="//BlackAndNacPatternTransformer/postprocess/@activity/@ownedActivityEdge.7"/>
      </activity>
    </eOperations>
    <eOperations xsi:type="activities:MoflonEOperation" name="transformAttributeConstraint">
      <eParameters name="constraint">
        <eType xsi:type="ecore:EClass" href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//patterns/Constraint"/>
      </eParameters>
      <eParameters name="pattern">
        <eType xsi:type="ecore:EClass" href="http://gervarro.org/democles/specification.ecore#//Pattern"/>
      </eParameters>
      <activity owningOperation="//BlackAndNacPatternTransformer/transformAttributeConstraint">
        <ownedActivityEdge source="//BlackAndNacPatternTransformer/transformAttributeConstraint/@activity/@ownedActivityNode.0" target="//BlackAndNacPatternTransformer/transformAttributeConstraint/@activity/@ownedActivityNode.7" guard="FAILURE"/>
        <ownedActivityEdge source="//BlackAndNacPatternTransformer/transformAttributeConstraint/@activity/@ownedActivityNode.0" target="//BlackAndNacPatternTransformer/transformAttributeConstraint/@activity/@ownedActivityNode.1" guard="SUCCESS"/>
        <ownedActivityEdge source="//BlackAndNacPatternTransformer/transformAttributeConstraint/@activity/@ownedActivityNode.1" target="//BlackAndNacPatternTransformer/transformAttributeConstraint/@activity/@ownedActivityNode.4"/>
        <ownedActivityEdge source="//BlackAndNacPatternTransformer/transformAttributeConstraint/@activity/@ownedActivityNode.3" target="//BlackAndNacPatternTransformer/transformAttributeConstraint/@activity/@ownedActivityNode.2" guard="SUCCESS"/>
        <ownedActivityEdge source="//BlackAndNacPatternTransformer/transformAttributeConstraint/@activity/@ownedActivityNode.3" target="//BlackAndNacPatternTransformer/transformAttributeConstraint/@activity/@ownedActivityNode.2" guard="FAILURE"/>
        <ownedActivityEdge source="//BlackAndNacPatternTransformer/transformAttributeConstraint/@activity/@ownedActivityNode.4" target="//BlackAndNacPatternTransformer/transformAttributeConstraint/@activity/@ownedActivityNode.3"/>
        <ownedActivityEdge source="//BlackAndNacPatternTransformer/transformAttributeConstraint/@activity/@ownedActivityNode.5" target="//BlackAndNacPatternTransformer/transformAttributeConstraint/@activity/@ownedActivityNode.6"/>
        <ownedActivityEdge source="//BlackAndNacPatternTransformer/transformAttributeConstraint/@activity/@ownedActivityNode.6" target="//BlackAndNacPatternTransformer/transformAttributeConstraint/@activity/@ownedActivityNode.0"/>
        <ownedActivityNode xsi:type="activities:StoryNode" name="LookupConstraintContext" comment="LookupConstraintContext" outgoing="//BlackAndNacPatternTransformer/transformAttributeConstraint/@activity/@ownedActivityEdge.0 //BlackAndNacPatternTransformer/transformAttributeConstraint/@activity/@ownedActivityEdge.1" incoming="//BlackAndNacPatternTransformer/transformAttributeConstraint/@activity/@ownedActivityEdge.7">
          <storyPattern comment="LookupConstraintContext">
            <objectVariable name="eDataType" incomingLink="//BlackAndNacPatternTransformer/transformAttributeConstraint/@activity/@ownedActivityNode.0/@storyPattern/@linkVariable.2">
              <type xsi:type="ecore:EClass" href="http://www.eclipse.org/emf/2002/Ecore#//EDataType"/>
            </objectVariable>
            <objectVariable name="binaryExpression" incomingLink="//BlackAndNacPatternTransformer/transformAttributeConstraint/@activity/@ownedActivityNode.0/@storyPattern/@linkVariable.4" outgoingLink="//BlackAndNacPatternTransformer/transformAttributeConstraint/@activity/@ownedActivityNode.0/@storyPattern/@linkVariable.0 //BlackAndNacPatternTransformer/transformAttributeConstraint/@activity/@ownedActivityNode.0/@storyPattern/@linkVariable.1">
              <type xsi:type="ecore:EClass" href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//expressions/ComparisonExpression"/>
            </objectVariable>
            <objectVariable name="objectVariable" outgoingLink="//BlackAndNacPatternTransformer/transformAttributeConstraint/@activity/@ownedActivityNode.0/@storyPattern/@linkVariable.3">
              <type xsi:type="ecore:EClass" href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//patterns/ObjectVariable"/>
            </objectVariable>
            <objectVariable name="eAttribute" incomingLink="//BlackAndNacPatternTransformer/transformAttributeConstraint/@activity/@ownedActivityNode.0/@storyPattern/@linkVariable.5" outgoingLink="//BlackAndNacPatternTransformer/transformAttributeConstraint/@activity/@ownedActivityNode.0/@storyPattern/@linkVariable.2">
              <type xsi:type="ecore:EClass" href="http://www.eclipse.org/emf/2002/Ecore#//EAttribute"/>
            </objectVariable>
            <objectVariable name="expression" incomingLink="//BlackAndNacPatternTransformer/transformAttributeConstraint/@activity/@ownedActivityNode.0/@storyPattern/@linkVariable.0">
              <type xsi:type="ecore:EClass" href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//expressions/Expression"/>
            </objectVariable>
            <objectVariable name="constraint" incomingLink="//BlackAndNacPatternTransformer/transformAttributeConstraint/@activity/@ownedActivityNode.0/@storyPattern/@linkVariable.3" outgoingLink="//BlackAndNacPatternTransformer/transformAttributeConstraint/@activity/@ownedActivityNode.0/@storyPattern/@linkVariable.4" bindingState="BOUND">
              <type xsi:type="ecore:EClass" href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//patterns/Constraint"/>
            </objectVariable>
            <objectVariable name="attributeValueExpression" incomingLink="//BlackAndNacPatternTransformer/transformAttributeConstraint/@activity/@ownedActivityNode.0/@storyPattern/@linkVariable.1" outgoingLink="//BlackAndNacPatternTransformer/transformAttributeConstraint/@activity/@ownedActivityNode.0/@storyPattern/@linkVariable.5">
              <type xsi:type="ecore:EClass" href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//patterns/patternExpressions/AttributeValueExpression"/>
            </objectVariable>
            <linkVariable name="rightExpression" target="//BlackAndNacPatternTransformer/transformAttributeConstraint/@activity/@ownedActivityNode.0/@storyPattern/@objectVariable.4" source="//BlackAndNacPatternTransformer/transformAttributeConstraint/@activity/@ownedActivityNode.0/@storyPattern/@objectVariable.1">
              <type href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//expressions/BinaryExpression/rightExpression"/>
            </linkVariable>
            <linkVariable name="leftExpression" target="//BlackAndNacPatternTransformer/transformAttributeConstraint/@activity/@ownedActivityNode.0/@storyPattern/@objectVariable.6" source="//BlackAndNacPatternTransformer/transformAttributeConstraint/@activity/@ownedActivityNode.0/@storyPattern/@objectVariable.1">
              <type href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//expressions/BinaryExpression/leftExpression"/>
            </linkVariable>
            <linkVariable name="eType" target="//BlackAndNacPatternTransformer/transformAttributeConstraint/@activity/@ownedActivityNode.0/@storyPattern/@objectVariable.0" source="//BlackAndNacPatternTransformer/transformAttributeConstraint/@activity/@ownedActivityNode.0/@storyPattern/@objectVariable.3">
              <type href="http://www.eclipse.org/emf/2002/Ecore#//ETypedElement/eType"/>
            </linkVariable>
            <linkVariable name="constraint" target="//BlackAndNacPatternTransformer/transformAttributeConstraint/@activity/@ownedActivityNode.0/@storyPattern/@objectVariable.5" source="//BlackAndNacPatternTransformer/transformAttributeConstraint/@activity/@ownedActivityNode.0/@storyPattern/@objectVariable.2">
              <type href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//patterns/ObjectVariable/constraint"/>
            </linkVariable>
            <linkVariable name="constraintExpression" target="//BlackAndNacPatternTransformer/transformAttributeConstraint/@activity/@ownedActivityNode.0/@storyPattern/@objectVariable.1" source="//BlackAndNacPatternTransformer/transformAttributeConstraint/@activity/@ownedActivityNode.0/@storyPattern/@objectVariable.5">
              <type href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//patterns/Constraint/constraintExpression"/>
            </linkVariable>
            <linkVariable name="attribute" target="//BlackAndNacPatternTransformer/transformAttributeConstraint/@activity/@ownedActivityNode.0/@storyPattern/@objectVariable.3" source="//BlackAndNacPatternTransformer/transformAttributeConstraint/@activity/@ownedActivityNode.0/@storyPattern/@objectVariable.6">
              <type href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//patterns/patternExpressions/AttributeValueExpression/attribute"/>
            </linkVariable>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StoryNode" name="CreateConstraint" comment="CreateConstraint" outgoing="//BlackAndNacPatternTransformer/transformAttributeConstraint/@activity/@ownedActivityEdge.2" incoming="//BlackAndNacPatternTransformer/transformAttributeConstraint/@activity/@ownedActivityEdge.1">
          <storyPattern comment="CreateConstraint">
            <objectVariable name="newConstraint" bindingState="BOUND">
              <type xsi:type="ecore:EClass" href="http://gervarro.org/democles/specification/constraint/relational.ecore#//RelationalConstraint"/>
              <bindingExpression xsi:type="callExpressions:MethodCallExpression" callee="//BlackAndNacPatternTransformer/createRelationalConstraint">
                <ownedParameterBindings parameter="//BlackAndNacPatternTransformer/createRelationalConstraint/comparison">
                  <valueExpression xsi:type="patternExpressions:ObjectVariableExpression" object="//BlackAndNacPatternTransformer/transformAttributeConstraint/@activity/@ownedActivityNode.0/@storyPattern/@objectVariable.1"/>
                </ownedParameterBindings>
                <target xsi:type="patternExpressions:ObjectVariableExpression" object="//BlackAndNacPatternTransformer/transformAttributeConstraint/@activity/@ownedActivityNode.6/@storyPattern/@objectVariable.2"/>
              </bindingExpression>
            </objectVariable>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//BlackAndNacPatternTransformer/transformAttributeConstraint/@activity/@ownedActivityEdge.3 //BlackAndNacPatternTransformer/transformAttributeConstraint/@activity/@ownedActivityEdge.4"/>
        <ownedActivityNode xsi:type="activities:StoryNode" name="AddSecondParameter" comment="AddSecondParameter" outgoing="//BlackAndNacPatternTransformer/transformAttributeConstraint/@activity/@ownedActivityEdge.3 //BlackAndNacPatternTransformer/transformAttributeConstraint/@activity/@ownedActivityEdge.4" incoming="//BlackAndNacPatternTransformer/transformAttributeConstraint/@activity/@ownedActivityEdge.5">
          <storyPattern comment="AddSecondParameter">
            <objectVariable name="rightSideExpression" incomingLink="//BlackAndNacPatternTransformer/transformAttributeConstraint/@activity/@ownedActivityNode.3/@storyPattern/@linkVariable.0" bindingState="BOUND">
              <type xsi:type="ecore:EClass" href="http://gervarro.org/democles/specification.ecore#//ConstraintVariable"/>
              <bindingExpression xsi:type="callExpressions:MethodCallExpression" callee="//ExpressionTransformer/transformExpression">
                <ownedParameterBindings parameter="//ExpressionTransformer/transformExpression/report">
                  <valueExpression xsi:type="patternExpressions:ObjectVariableExpression" object="//BlackAndNacPatternTransformer/transformAttributeConstraint/@activity/@ownedActivityNode.6/@storyPattern/@objectVariable.1"/>
                </ownedParameterBindings>
                <ownedParameterBindings parameter="//ExpressionTransformer/transformExpression/patternVariableHandler">
                  <valueExpression xsi:type="patternExpressions:ObjectVariableExpression" object="//BlackAndNacPatternTransformer/transformAttributeConstraint/@activity/@ownedActivityNode.6/@storyPattern/@objectVariable.2"/>
                </ownedParameterBindings>
                <ownedParameterBindings parameter="//ExpressionTransformer/transformExpression/expression">
                  <valueExpression xsi:type="patternExpressions:ObjectVariableExpression" object="//BlackAndNacPatternTransformer/transformAttributeConstraint/@activity/@ownedActivityNode.0/@storyPattern/@objectVariable.4"/>
                </ownedParameterBindings>
                <ownedParameterBindings parameter="//ExpressionTransformer/transformExpression/pattern">
                  <valueExpression xsi:type="callExpressions:ParameterExpression" parameter="//BlackAndNacPatternTransformer/transformAttributeConstraint/pattern"/>
                </ownedParameterBindings>
                <ownedParameterBindings parameter="//ExpressionTransformer/transformExpression/expectedType">
                  <valueExpression xsi:type="patternExpressions:ObjectVariableExpression" object="//BlackAndNacPatternTransformer/transformAttributeConstraint/@activity/@ownedActivityNode.0/@storyPattern/@objectVariable.0"/>
                </ownedParameterBindings>
                <target xsi:type="patternExpressions:ObjectVariableExpression" object="//BlackAndNacPatternTransformer/transformAttributeConstraint/@activity/@ownedActivityNode.6/@storyPattern/@objectVariable.0"/>
              </bindingExpression>
            </objectVariable>
            <objectVariable name="secondParameter" incomingLink="//BlackAndNacPatternTransformer/transformAttributeConstraint/@activity/@ownedActivityNode.3/@storyPattern/@linkVariable.1" outgoingLink="//BlackAndNacPatternTransformer/transformAttributeConstraint/@activity/@ownedActivityNode.3/@storyPattern/@linkVariable.0" bindingOperator="CREATE">
              <type xsi:type="ecore:EClass" href="http://gervarro.org/democles/specification.ecore#//ConstraintParameter"/>
            </objectVariable>
            <objectVariable name="newConstraint" outgoingLink="//BlackAndNacPatternTransformer/transformAttributeConstraint/@activity/@ownedActivityNode.3/@storyPattern/@linkVariable.1" bindingState="BOUND">
              <type xsi:type="ecore:EClass" href="http://gervarro.org/democles/specification/constraint/relational.ecore#//RelationalConstraint"/>
            </objectVariable>
            <linkVariable name="reference" target="//BlackAndNacPatternTransformer/transformAttributeConstraint/@activity/@ownedActivityNode.3/@storyPattern/@objectVariable.0" source="//BlackAndNacPatternTransformer/transformAttributeConstraint/@activity/@ownedActivityNode.3/@storyPattern/@objectVariable.1" bindingOperator="CREATE">
              <type href="http://gervarro.org/democles/specification.ecore#//ConstraintParameter/reference"/>
            </linkVariable>
            <linkVariable name="parameters" target="//BlackAndNacPatternTransformer/transformAttributeConstraint/@activity/@ownedActivityNode.3/@storyPattern/@objectVariable.1" source="//BlackAndNacPatternTransformer/transformAttributeConstraint/@activity/@ownedActivityNode.3/@storyPattern/@objectVariable.2" bindingOperator="CREATE">
              <type href="http://gervarro.org/democles/specification.ecore#//Constraint/parameters"/>
            </linkVariable>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StoryNode" name="AddFirstParameter" comment="AddFirstParameter" outgoing="//BlackAndNacPatternTransformer/transformAttributeConstraint/@activity/@ownedActivityEdge.5" incoming="//BlackAndNacPatternTransformer/transformAttributeConstraint/@activity/@ownedActivityEdge.2">
          <storyPattern comment="AddFirstParameter">
            <objectVariable name="patternBody" outgoingLink="//BlackAndNacPatternTransformer/transformAttributeConstraint/@activity/@ownedActivityNode.4/@storyPattern/@linkVariable.0 //BlackAndNacPatternTransformer/transformAttributeConstraint/@activity/@ownedActivityNode.4/@storyPattern/@linkVariable.1">
              <type xsi:type="ecore:EClass" href="http://gervarro.org/democles/specification.ecore#//PatternBody"/>
            </objectVariable>
            <objectVariable name="pattern" incomingLink="//BlackAndNacPatternTransformer/transformAttributeConstraint/@activity/@ownedActivityNode.4/@storyPattern/@linkVariable.1" bindingState="BOUND">
              <type xsi:type="ecore:EClass" href="http://gervarro.org/democles/specification.ecore#//Pattern"/>
            </objectVariable>
            <objectVariable name="newConstraint" incomingLink="//BlackAndNacPatternTransformer/transformAttributeConstraint/@activity/@ownedActivityNode.4/@storyPattern/@linkVariable.0" outgoingLink="//BlackAndNacPatternTransformer/transformAttributeConstraint/@activity/@ownedActivityNode.4/@storyPattern/@linkVariable.2" bindingState="BOUND">
              <type xsi:type="ecore:EClass" href="http://gervarro.org/democles/specification/constraint/relational.ecore#//RelationalConstraint"/>
            </objectVariable>
            <objectVariable name="attribute" incomingLink="//BlackAndNacPatternTransformer/transformAttributeConstraint/@activity/@ownedActivityNode.4/@storyPattern/@linkVariable.3" bindingState="BOUND">
              <type xsi:type="ecore:EClass" href="http://gervarro.org/democles/specification.ecore#//Variable"/>
              <bindingExpression xsi:type="callExpressions:MethodCallExpression" callee="//PatternVariableHandler/getAttributeVariable">
                <ownedParameterBindings parameter="//PatternVariableHandler/getAttributeVariable/attributeOwner">
                  <valueExpression xsi:type="patternExpressions:ObjectVariableExpression" object="//BlackAndNacPatternTransformer/transformAttributeConstraint/@activity/@ownedActivityNode.0/@storyPattern/@objectVariable.2"/>
                </ownedParameterBindings>
                <ownedParameterBindings parameter="//PatternVariableHandler/getAttributeVariable/eAttribute">
                  <valueExpression xsi:type="patternExpressions:ObjectVariableExpression" object="//BlackAndNacPatternTransformer/transformAttributeConstraint/@activity/@ownedActivityNode.0/@storyPattern/@objectVariable.3"/>
                </ownedParameterBindings>
                <ownedParameterBindings parameter="//PatternVariableHandler/getAttributeVariable/pattern">
                  <valueExpression xsi:type="patternExpressions:ObjectVariableExpression" object="//BlackAndNacPatternTransformer/transformAttributeConstraint/@activity/@ownedActivityNode.4/@storyPattern/@objectVariable.1"/>
                </ownedParameterBindings>
                <target xsi:type="patternExpressions:ObjectVariableExpression" object="//BlackAndNacPatternTransformer/transformAttributeConstraint/@activity/@ownedActivityNode.6/@storyPattern/@objectVariable.2"/>
              </bindingExpression>
            </objectVariable>
            <objectVariable name="firstParameter" incomingLink="//BlackAndNacPatternTransformer/transformAttributeConstraint/@activity/@ownedActivityNode.4/@storyPattern/@linkVariable.2" outgoingLink="//BlackAndNacPatternTransformer/transformAttributeConstraint/@activity/@ownedActivityNode.4/@storyPattern/@linkVariable.3" bindingOperator="CREATE">
              <type xsi:type="ecore:EClass" href="http://gervarro.org/democles/specification.ecore#//ConstraintParameter"/>
            </objectVariable>
            <linkVariable name="constraints" target="//BlackAndNacPatternTransformer/transformAttributeConstraint/@activity/@ownedActivityNode.4/@storyPattern/@objectVariable.2" source="//BlackAndNacPatternTransformer/transformAttributeConstraint/@activity/@ownedActivityNode.4/@storyPattern/@objectVariable.0" bindingOperator="CREATE">
              <type href="http://gervarro.org/democles/specification.ecore#//PatternBody/constraints"/>
            </linkVariable>
            <linkVariable name="header" target="//BlackAndNacPatternTransformer/transformAttributeConstraint/@activity/@ownedActivityNode.4/@storyPattern/@objectVariable.1" source="//BlackAndNacPatternTransformer/transformAttributeConstraint/@activity/@ownedActivityNode.4/@storyPattern/@objectVariable.0">
              <type href="http://gervarro.org/democles/specification.ecore#//PatternBody/header"/>
            </linkVariable>
            <linkVariable name="parameters" target="//BlackAndNacPatternTransformer/transformAttributeConstraint/@activity/@ownedActivityNode.4/@storyPattern/@objectVariable.4" source="//BlackAndNacPatternTransformer/transformAttributeConstraint/@activity/@ownedActivityNode.4/@storyPattern/@objectVariable.2" bindingOperator="CREATE">
              <type href="http://gervarro.org/democles/specification.ecore#//Constraint/parameters"/>
            </linkVariable>
            <linkVariable name="reference" target="//BlackAndNacPatternTransformer/transformAttributeConstraint/@activity/@ownedActivityNode.4/@storyPattern/@objectVariable.3" source="//BlackAndNacPatternTransformer/transformAttributeConstraint/@activity/@ownedActivityNode.4/@storyPattern/@objectVariable.4" bindingOperator="CREATE">
              <type href="http://gervarro.org/democles/specification.ecore#//ConstraintParameter/reference"/>
            </linkVariable>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StartNode" outgoing="//BlackAndNacPatternTransformer/transformAttributeConstraint/@activity/@ownedActivityEdge.6"/>
        <ownedActivityNode xsi:type="activities:StoryNode" name="LookupExpressionTransformer" comment="LookupExpressionTransformer" outgoing="//BlackAndNacPatternTransformer/transformAttributeConstraint/@activity/@ownedActivityEdge.7" incoming="//BlackAndNacPatternTransformer/transformAttributeConstraint/@activity/@ownedActivityEdge.6">
          <storyPattern comment="LookupExpressionTransformer">
            <objectVariable type="//ExpressionTransformer" name="expressionTransformer" incomingLink="//BlackAndNacPatternTransformer/transformAttributeConstraint/@activity/@ownedActivityNode.6/@storyPattern/@linkVariable.1"/>
            <objectVariable name="report" incomingLink="//BlackAndNacPatternTransformer/transformAttributeConstraint/@activity/@ownedActivityNode.6/@storyPattern/@linkVariable.0">
              <type xsi:type="ecore:EClass" href="platform:/plugin/org.moflon.sdm.compiler.democles.validation.result/model/Result.ecore#//ValidationReport"/>
            </objectVariable>
            <objectVariable type="//BlackAndNacPatternTransformer" name="this" outgoingLink="//BlackAndNacPatternTransformer/transformAttributeConstraint/@activity/@ownedActivityNode.6/@storyPattern/@linkVariable.0 //BlackAndNacPatternTransformer/transformAttributeConstraint/@activity/@ownedActivityNode.6/@storyPattern/@linkVariable.1" bindingState="BOUND"/>
            <linkVariable name="validationReport" target="//BlackAndNacPatternTransformer/transformAttributeConstraint/@activity/@ownedActivityNode.6/@storyPattern/@objectVariable.1" source="//BlackAndNacPatternTransformer/transformAttributeConstraint/@activity/@ownedActivityNode.6/@storyPattern/@objectVariable.2" type="//PatternTransformer/validationReport"/>
            <linkVariable name="expressionTransformer" target="//BlackAndNacPatternTransformer/transformAttributeConstraint/@activity/@ownedActivityNode.6/@storyPattern/@objectVariable.0" source="//BlackAndNacPatternTransformer/transformAttributeConstraint/@activity/@ownedActivityNode.6/@storyPattern/@objectVariable.2" type="//PatternTransformer/expressionTransformer"/>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//BlackAndNacPatternTransformer/transformAttributeConstraint/@activity/@ownedActivityEdge.0"/>
      </activity>
    </eOperations>
  </eClassifiers>
  <eClassifiers xsi:type="ecore:EClass" name="NacPatternTransformer" eSuperTypes="//BlackAndNacPatternTransformer">
    <eOperations xsi:type="activities:MoflonEOperation" name="addLinkToPattern">
      <eParameters name="linkVariable">
        <eType xsi:type="ecore:EClass" href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//patterns/LinkVariable"/>
      </eParameters>
      <eParameters name="pattern">
        <eType xsi:type="ecore:EClass" href="http://gervarro.org/democles/specification.ecore#//Pattern"/>
      </eParameters>
      <activity owningOperation="//NacPatternTransformer/addLinkToPattern">
        <ownedActivityEdge source="//NacPatternTransformer/addLinkToPattern/@activity/@ownedActivityNode.0" target="//NacPatternTransformer/addLinkToPattern/@activity/@ownedActivityNode.2" guard="FAILURE"/>
        <ownedActivityEdge source="//NacPatternTransformer/addLinkToPattern/@activity/@ownedActivityNode.0" target="//NacPatternTransformer/addLinkToPattern/@activity/@ownedActivityNode.7" guard="SUCCESS"/>
        <ownedActivityEdge source="//NacPatternTransformer/addLinkToPattern/@activity/@ownedActivityNode.2" target="//NacPatternTransformer/addLinkToPattern/@activity/@ownedActivityNode.10"/>
        <ownedActivityEdge source="//NacPatternTransformer/addLinkToPattern/@activity/@ownedActivityNode.3" target="//NacPatternTransformer/addLinkToPattern/@activity/@ownedActivityNode.1"/>
        <ownedActivityEdge source="//NacPatternTransformer/addLinkToPattern/@activity/@ownedActivityNode.4" target="//NacPatternTransformer/addLinkToPattern/@activity/@ownedActivityNode.6" guard="FAILURE"/>
        <ownedActivityEdge source="//NacPatternTransformer/addLinkToPattern/@activity/@ownedActivityNode.4" target="//NacPatternTransformer/addLinkToPattern/@activity/@ownedActivityNode.3" guard="SUCCESS"/>
        <ownedActivityEdge source="//NacPatternTransformer/addLinkToPattern/@activity/@ownedActivityNode.5" target="//NacPatternTransformer/addLinkToPattern/@activity/@ownedActivityNode.0"/>
        <ownedActivityEdge source="//NacPatternTransformer/addLinkToPattern/@activity/@ownedActivityNode.6" target="//NacPatternTransformer/addLinkToPattern/@activity/@ownedActivityNode.1"/>
        <ownedActivityEdge source="//NacPatternTransformer/addLinkToPattern/@activity/@ownedActivityNode.7" target="//NacPatternTransformer/addLinkToPattern/@activity/@ownedActivityNode.10"/>
        <ownedActivityEdge source="//NacPatternTransformer/addLinkToPattern/@activity/@ownedActivityNode.8" target="//NacPatternTransformer/addLinkToPattern/@activity/@ownedActivityNode.9"/>
        <ownedActivityEdge source="//NacPatternTransformer/addLinkToPattern/@activity/@ownedActivityNode.9" target="//NacPatternTransformer/addLinkToPattern/@activity/@ownedActivityNode.5"/>
        <ownedActivityEdge source="//NacPatternTransformer/addLinkToPattern/@activity/@ownedActivityNode.10" target="//NacPatternTransformer/addLinkToPattern/@activity/@ownedActivityNode.4"/>
        <ownedActivityNode xsi:type="activities:StoryNode" name="IsSourceNegative" comment="IsSourceNegative" outgoing="//NacPatternTransformer/addLinkToPattern/@activity/@ownedActivityEdge.0 //NacPatternTransformer/addLinkToPattern/@activity/@ownedActivityEdge.1" incoming="//NacPatternTransformer/addLinkToPattern/@activity/@ownedActivityEdge.6">
          <storyPattern comment="IsSourceNegative">
            <objectVariable name="source" bindingState="BOUND">
              <type xsi:type="ecore:EClass" href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//patterns/ObjectVariable"/>
              <constraint>
                <constraintExpression xsi:type="expressions:ComparisonExpression" operator="EQUAL">
                  <rightExpression xsi:type="expressions:LiteralExpression" value="SDMLanguage.patterns.BindingSemantics.NEGATIVE"/>
                  <leftExpression xsi:type="patternExpressions:AttributeValueExpression" object="//NacPatternTransformer/addLinkToPattern/@activity/@ownedActivityNode.0/@storyPattern/@objectVariable.0">
                    <attribute href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//patterns/ObjectVariable/bindingSemantics"/>
                  </leftExpression>
                </constraintExpression>
              </constraint>
            </objectVariable>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//NacPatternTransformer/addLinkToPattern/@activity/@ownedActivityEdge.3 //NacPatternTransformer/addLinkToPattern/@activity/@ownedActivityEdge.7"/>
        <ownedActivityNode xsi:type="activities:StoryNode" name="LookUpSourceInPattern" comment="LookUpSourceInPattern" outgoing="//NacPatternTransformer/addLinkToPattern/@activity/@ownedActivityEdge.2" incoming="//NacPatternTransformer/addLinkToPattern/@activity/@ownedActivityEdge.0">
          <storyPattern comment="LookUpSourceInPattern">
            <objectVariable name="constraint" outgoingLink="//NacPatternTransformer/addLinkToPattern/@activity/@ownedActivityNode.2/@storyPattern/@linkVariable.0" bindingState="BOUND">
              <type xsi:type="ecore:EClass" href="http://gervarro.org/democles/constraint/emf.ecore#//Reference"/>
            </objectVariable>
            <objectVariable name="mandatorySourceParameter" incomingLink="//NacPatternTransformer/addLinkToPattern/@activity/@ownedActivityNode.2/@storyPattern/@linkVariable.0" outgoingLink="//NacPatternTransformer/addLinkToPattern/@activity/@ownedActivityNode.2/@storyPattern/@linkVariable.1" bindingOperator="CREATE">
              <type xsi:type="ecore:EClass" href="http://gervarro.org/democles/specification.ecore#//ConstraintParameter"/>
            </objectVariable>
            <objectVariable name="pattern" outgoingLink="//NacPatternTransformer/addLinkToPattern/@activity/@ownedActivityNode.2/@storyPattern/@linkVariable.2" bindingState="BOUND">
              <type xsi:type="ecore:EClass" href="http://gervarro.org/democles/specification.ecore#//Pattern"/>
            </objectVariable>
            <objectVariable name="mandatorySource" incomingLink="//NacPatternTransformer/addLinkToPattern/@activity/@ownedActivityNode.2/@storyPattern/@linkVariable.1 //NacPatternTransformer/addLinkToPattern/@activity/@ownedActivityNode.2/@storyPattern/@linkVariable.2">
              <type xsi:type="ecore:EClass" href="http://gervarro.org/democles/specification.ecore#//Variable"/>
              <constraint>
                <constraintExpression xsi:type="expressions:ComparisonExpression" operator="EQUAL">
                  <rightExpression xsi:type="patternExpressions:AttributeValueExpression" object="//NacPatternTransformer/addLinkToPattern/@activity/@ownedActivityNode.5/@storyPattern/@objectVariable.1">
                    <attribute href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//NamedElement/name"/>
                  </rightExpression>
                  <leftExpression xsi:type="patternExpressions:AttributeValueExpression" object="//NacPatternTransformer/addLinkToPattern/@activity/@ownedActivityNode.2/@storyPattern/@objectVariable.3">
                    <attribute href="http://gervarro.org/democles/specification.ecore#//Variable/name"/>
                  </leftExpression>
                </constraintExpression>
              </constraint>
            </objectVariable>
            <linkVariable name="parameters" target="//NacPatternTransformer/addLinkToPattern/@activity/@ownedActivityNode.2/@storyPattern/@objectVariable.1" source="//NacPatternTransformer/addLinkToPattern/@activity/@ownedActivityNode.2/@storyPattern/@objectVariable.0" bindingOperator="CREATE">
              <type href="http://gervarro.org/democles/specification.ecore#//Constraint/parameters"/>
            </linkVariable>
            <linkVariable name="reference" target="//NacPatternTransformer/addLinkToPattern/@activity/@ownedActivityNode.2/@storyPattern/@objectVariable.3" source="//NacPatternTransformer/addLinkToPattern/@activity/@ownedActivityNode.2/@storyPattern/@objectVariable.1" bindingOperator="CREATE">
              <type href="http://gervarro.org/democles/specification.ecore#//ConstraintParameter/reference"/>
            </linkVariable>
            <linkVariable name="symbolicParameters" target="//NacPatternTransformer/addLinkToPattern/@activity/@ownedActivityNode.2/@storyPattern/@objectVariable.3" source="//NacPatternTransformer/addLinkToPattern/@activity/@ownedActivityNode.2/@storyPattern/@objectVariable.2">
              <type href="http://gervarro.org/democles/specification.ecore#//Pattern/symbolicParameters"/>
            </linkVariable>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StoryNode" name="LookUpTargetInBody" comment="LookUpTargetInBody" outgoing="//NacPatternTransformer/addLinkToPattern/@activity/@ownedActivityEdge.3" incoming="//NacPatternTransformer/addLinkToPattern/@activity/@ownedActivityEdge.5">
          <storyPattern comment="LookUpTargetInBody">
            <objectVariable name="negativeTarget" incomingLink="//NacPatternTransformer/addLinkToPattern/@activity/@ownedActivityNode.3/@storyPattern/@linkVariable.0 //NacPatternTransformer/addLinkToPattern/@activity/@ownedActivityNode.3/@storyPattern/@linkVariable.2">
              <type xsi:type="ecore:EClass" href="http://gervarro.org/democles/specification.ecore#//Variable"/>
              <constraint>
                <constraintExpression xsi:type="expressions:ComparisonExpression" operator="EQUAL">
                  <rightExpression xsi:type="patternExpressions:AttributeValueExpression" object="//NacPatternTransformer/addLinkToPattern/@activity/@ownedActivityNode.10/@storyPattern/@objectVariable.1">
                    <attribute href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//NamedElement/name"/>
                  </rightExpression>
                  <leftExpression xsi:type="patternExpressions:AttributeValueExpression" object="//NacPatternTransformer/addLinkToPattern/@activity/@ownedActivityNode.3/@storyPattern/@objectVariable.0">
                    <attribute href="http://gervarro.org/democles/specification.ecore#//Variable/name"/>
                  </leftExpression>
                </constraintExpression>
              </constraint>
            </objectVariable>
            <objectVariable name="negativeTargetParameter" incomingLink="//NacPatternTransformer/addLinkToPattern/@activity/@ownedActivityNode.3/@storyPattern/@linkVariable.1" outgoingLink="//NacPatternTransformer/addLinkToPattern/@activity/@ownedActivityNode.3/@storyPattern/@linkVariable.0" bindingOperator="CREATE">
              <type xsi:type="ecore:EClass" href="http://gervarro.org/democles/specification.ecore#//ConstraintParameter"/>
            </objectVariable>
            <objectVariable name="constraint" outgoingLink="//NacPatternTransformer/addLinkToPattern/@activity/@ownedActivityNode.3/@storyPattern/@linkVariable.1" bindingState="BOUND">
              <type xsi:type="ecore:EClass" href="http://gervarro.org/democles/constraint/emf.ecore#//Reference"/>
            </objectVariable>
            <objectVariable name="patternBody" outgoingLink="//NacPatternTransformer/addLinkToPattern/@activity/@ownedActivityNode.3/@storyPattern/@linkVariable.2" bindingState="BOUND">
              <type xsi:type="ecore:EClass" href="http://gervarro.org/democles/specification.ecore#//PatternBody"/>
            </objectVariable>
            <linkVariable name="reference" target="//NacPatternTransformer/addLinkToPattern/@activity/@ownedActivityNode.3/@storyPattern/@objectVariable.0" source="//NacPatternTransformer/addLinkToPattern/@activity/@ownedActivityNode.3/@storyPattern/@objectVariable.1" bindingOperator="CREATE">
              <type href="http://gervarro.org/democles/specification.ecore#//ConstraintParameter/reference"/>
            </linkVariable>
            <linkVariable name="parameters" target="//NacPatternTransformer/addLinkToPattern/@activity/@ownedActivityNode.3/@storyPattern/@objectVariable.1" source="//NacPatternTransformer/addLinkToPattern/@activity/@ownedActivityNode.3/@storyPattern/@objectVariable.2" bindingOperator="CREATE">
              <type href="http://gervarro.org/democles/specification.ecore#//Constraint/parameters"/>
            </linkVariable>
            <linkVariable name="localVariables" target="//NacPatternTransformer/addLinkToPattern/@activity/@ownedActivityNode.3/@storyPattern/@objectVariable.0" source="//NacPatternTransformer/addLinkToPattern/@activity/@ownedActivityNode.3/@storyPattern/@objectVariable.3">
              <type href="http://gervarro.org/democles/specification.ecore#//PatternBody/localVariables"/>
            </linkVariable>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StoryNode" name="IsTargetNegative" comment="IsTargetNegative" outgoing="//NacPatternTransformer/addLinkToPattern/@activity/@ownedActivityEdge.4 //NacPatternTransformer/addLinkToPattern/@activity/@ownedActivityEdge.5" incoming="//NacPatternTransformer/addLinkToPattern/@activity/@ownedActivityEdge.11">
          <storyPattern comment="IsTargetNegative">
            <objectVariable name="target" bindingState="BOUND">
              <type xsi:type="ecore:EClass" href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//patterns/ObjectVariable"/>
              <constraint>
                <constraintExpression xsi:type="expressions:ComparisonExpression" operator="EQUAL">
                  <rightExpression xsi:type="expressions:LiteralExpression" value="SDMLanguage.patterns.BindingSemantics.NEGATIVE"/>
                  <leftExpression xsi:type="patternExpressions:AttributeValueExpression" object="//NacPatternTransformer/addLinkToPattern/@activity/@ownedActivityNode.4/@storyPattern/@objectVariable.0">
                    <attribute href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//patterns/ObjectVariable/bindingSemantics"/>
                  </leftExpression>
                </constraintExpression>
              </constraint>
            </objectVariable>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StoryNode" name="LookupSource" comment="LookupSource" outgoing="//NacPatternTransformer/addLinkToPattern/@activity/@ownedActivityEdge.6" incoming="//NacPatternTransformer/addLinkToPattern/@activity/@ownedActivityEdge.10">
          <storyPattern comment="LookupSource">
            <objectVariable name="linkVariable" incomingLink="//NacPatternTransformer/addLinkToPattern/@activity/@ownedActivityNode.5/@storyPattern/@linkVariable.0" bindingState="BOUND">
              <type xsi:type="ecore:EClass" href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//patterns/LinkVariable"/>
            </objectVariable>
            <objectVariable name="source" outgoingLink="//NacPatternTransformer/addLinkToPattern/@activity/@ownedActivityNode.5/@storyPattern/@linkVariable.0">
              <type xsi:type="ecore:EClass" href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//patterns/ObjectVariable"/>
            </objectVariable>
            <linkVariable name="outgoingLink" target="//NacPatternTransformer/addLinkToPattern/@activity/@ownedActivityNode.5/@storyPattern/@objectVariable.0" source="//NacPatternTransformer/addLinkToPattern/@activity/@ownedActivityNode.5/@storyPattern/@objectVariable.1">
              <type href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//patterns/ObjectVariable/outgoingLink"/>
            </linkVariable>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StoryNode" name="LookUpTargetInPattern" comment="LookUpTargetInPattern" outgoing="//NacPatternTransformer/addLinkToPattern/@activity/@ownedActivityEdge.7" incoming="//NacPatternTransformer/addLinkToPattern/@activity/@ownedActivityEdge.4">
          <storyPattern comment="LookUpTargetInPattern">
            <objectVariable name="mandatoryTarget" incomingLink="//NacPatternTransformer/addLinkToPattern/@activity/@ownedActivityNode.6/@storyPattern/@linkVariable.0 //NacPatternTransformer/addLinkToPattern/@activity/@ownedActivityNode.6/@storyPattern/@linkVariable.2">
              <type xsi:type="ecore:EClass" href="http://gervarro.org/democles/specification.ecore#//Variable"/>
              <constraint>
                <constraintExpression xsi:type="expressions:ComparisonExpression" operator="EQUAL">
                  <rightExpression xsi:type="patternExpressions:AttributeValueExpression" object="//NacPatternTransformer/addLinkToPattern/@activity/@ownedActivityNode.10/@storyPattern/@objectVariable.1">
                    <attribute href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//NamedElement/name"/>
                  </rightExpression>
                  <leftExpression xsi:type="patternExpressions:AttributeValueExpression" object="//NacPatternTransformer/addLinkToPattern/@activity/@ownedActivityNode.6/@storyPattern/@objectVariable.0">
                    <attribute href="http://gervarro.org/democles/specification.ecore#//Variable/name"/>
                  </leftExpression>
                </constraintExpression>
              </constraint>
            </objectVariable>
            <objectVariable name="mandatoryTargetParameter" incomingLink="//NacPatternTransformer/addLinkToPattern/@activity/@ownedActivityNode.6/@storyPattern/@linkVariable.1" outgoingLink="//NacPatternTransformer/addLinkToPattern/@activity/@ownedActivityNode.6/@storyPattern/@linkVariable.0" bindingOperator="CREATE">
              <type xsi:type="ecore:EClass" href="http://gervarro.org/democles/specification.ecore#//ConstraintParameter"/>
            </objectVariable>
            <objectVariable name="constraint" outgoingLink="//NacPatternTransformer/addLinkToPattern/@activity/@ownedActivityNode.6/@storyPattern/@linkVariable.1" bindingState="BOUND">
              <type xsi:type="ecore:EClass" href="http://gervarro.org/democles/constraint/emf.ecore#//Reference"/>
            </objectVariable>
            <objectVariable name="pattern" outgoingLink="//NacPatternTransformer/addLinkToPattern/@activity/@ownedActivityNode.6/@storyPattern/@linkVariable.2" bindingState="BOUND">
              <type xsi:type="ecore:EClass" href="http://gervarro.org/democles/specification.ecore#//Pattern"/>
            </objectVariable>
            <linkVariable name="reference" target="//NacPatternTransformer/addLinkToPattern/@activity/@ownedActivityNode.6/@storyPattern/@objectVariable.0" source="//NacPatternTransformer/addLinkToPattern/@activity/@ownedActivityNode.6/@storyPattern/@objectVariable.1" bindingOperator="CREATE">
              <type href="http://gervarro.org/democles/specification.ecore#//ConstraintParameter/reference"/>
            </linkVariable>
            <linkVariable name="parameters" target="//NacPatternTransformer/addLinkToPattern/@activity/@ownedActivityNode.6/@storyPattern/@objectVariable.1" source="//NacPatternTransformer/addLinkToPattern/@activity/@ownedActivityNode.6/@storyPattern/@objectVariable.2" bindingOperator="CREATE">
              <type href="http://gervarro.org/democles/specification.ecore#//Constraint/parameters"/>
            </linkVariable>
            <linkVariable name="symbolicParameters" target="//NacPatternTransformer/addLinkToPattern/@activity/@ownedActivityNode.6/@storyPattern/@objectVariable.0" source="//NacPatternTransformer/addLinkToPattern/@activity/@ownedActivityNode.6/@storyPattern/@objectVariable.3">
              <type href="http://gervarro.org/democles/specification.ecore#//Pattern/symbolicParameters"/>
            </linkVariable>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StoryNode" name="LookUpSourceInBody" comment="LookUpSourceInBody" outgoing="//NacPatternTransformer/addLinkToPattern/@activity/@ownedActivityEdge.8" incoming="//NacPatternTransformer/addLinkToPattern/@activity/@ownedActivityEdge.1">
          <storyPattern comment="LookUpSourceInBody">
            <objectVariable name="constraint" outgoingLink="//NacPatternTransformer/addLinkToPattern/@activity/@ownedActivityNode.7/@storyPattern/@linkVariable.0" bindingState="BOUND">
              <type xsi:type="ecore:EClass" href="http://gervarro.org/democles/constraint/emf.ecore#//Reference"/>
            </objectVariable>
            <objectVariable name="negativeSource" incomingLink="//NacPatternTransformer/addLinkToPattern/@activity/@ownedActivityNode.7/@storyPattern/@linkVariable.1 //NacPatternTransformer/addLinkToPattern/@activity/@ownedActivityNode.7/@storyPattern/@linkVariable.2">
              <type xsi:type="ecore:EClass" href="http://gervarro.org/democles/specification.ecore#//Variable"/>
              <constraint>
                <constraintExpression xsi:type="expressions:ComparisonExpression" operator="EQUAL">
                  <rightExpression xsi:type="patternExpressions:AttributeValueExpression" object="//NacPatternTransformer/addLinkToPattern/@activity/@ownedActivityNode.5/@storyPattern/@objectVariable.1">
                    <attribute href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//NamedElement/name"/>
                  </rightExpression>
                  <leftExpression xsi:type="patternExpressions:AttributeValueExpression" object="//NacPatternTransformer/addLinkToPattern/@activity/@ownedActivityNode.7/@storyPattern/@objectVariable.1">
                    <attribute href="http://gervarro.org/democles/specification.ecore#//Variable/name"/>
                  </leftExpression>
                </constraintExpression>
              </constraint>
            </objectVariable>
            <objectVariable name="negativeSourceParameter" incomingLink="//NacPatternTransformer/addLinkToPattern/@activity/@ownedActivityNode.7/@storyPattern/@linkVariable.0" outgoingLink="//NacPatternTransformer/addLinkToPattern/@activity/@ownedActivityNode.7/@storyPattern/@linkVariable.1" bindingOperator="CREATE">
              <type xsi:type="ecore:EClass" href="http://gervarro.org/democles/specification.ecore#//ConstraintParameter"/>
            </objectVariable>
            <objectVariable name="patternBody" outgoingLink="//NacPatternTransformer/addLinkToPattern/@activity/@ownedActivityNode.7/@storyPattern/@linkVariable.2" bindingState="BOUND">
              <type xsi:type="ecore:EClass" href="http://gervarro.org/democles/specification.ecore#//PatternBody"/>
            </objectVariable>
            <linkVariable name="parameters" target="//NacPatternTransformer/addLinkToPattern/@activity/@ownedActivityNode.7/@storyPattern/@objectVariable.2" source="//NacPatternTransformer/addLinkToPattern/@activity/@ownedActivityNode.7/@storyPattern/@objectVariable.0" bindingOperator="CREATE">
              <type href="http://gervarro.org/democles/specification.ecore#//Constraint/parameters"/>
            </linkVariable>
            <linkVariable name="reference" target="//NacPatternTransformer/addLinkToPattern/@activity/@ownedActivityNode.7/@storyPattern/@objectVariable.1" source="//NacPatternTransformer/addLinkToPattern/@activity/@ownedActivityNode.7/@storyPattern/@objectVariable.2" bindingOperator="CREATE">
              <type href="http://gervarro.org/democles/specification.ecore#//ConstraintParameter/reference"/>
            </linkVariable>
            <linkVariable name="localVariables" target="//NacPatternTransformer/addLinkToPattern/@activity/@ownedActivityNode.7/@storyPattern/@objectVariable.1" source="//NacPatternTransformer/addLinkToPattern/@activity/@ownedActivityNode.7/@storyPattern/@objectVariable.3">
              <type href="http://gervarro.org/democles/specification.ecore#//PatternBody/localVariables"/>
            </linkVariable>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StartNode" outgoing="//NacPatternTransformer/addLinkToPattern/@activity/@ownedActivityEdge.9"/>
        <ownedActivityNode xsi:type="activities:StoryNode" name="CreateConstraint" comment="CreateConstraint" outgoing="//NacPatternTransformer/addLinkToPattern/@activity/@ownedActivityEdge.10" incoming="//NacPatternTransformer/addLinkToPattern/@activity/@ownedActivityEdge.9">
          <storyPattern comment="CreateConstraint">
            <objectVariable type="//BlackAndNacPatternTransformer" name="this" bindingState="BOUND"/>
            <objectVariable name="pattern" incomingLink="//NacPatternTransformer/addLinkToPattern/@activity/@ownedActivityNode.9/@storyPattern/@linkVariable.2" bindingState="BOUND">
              <type xsi:type="ecore:EClass" href="http://gervarro.org/democles/specification.ecore#//Pattern"/>
            </objectVariable>
            <objectVariable name="eReference" incomingLink="//NacPatternTransformer/addLinkToPattern/@activity/@ownedActivityNode.9/@storyPattern/@linkVariable.0" bindingState="BOUND">
              <type xsi:type="ecore:EClass" href="http://www.eclipse.org/emf/2002/Ecore#//EReference"/>
              <bindingExpression xsi:type="callExpressions:MethodCallExpression" callee="//PatternTransformer/getEReference">
                <ownedParameterBindings parameter="//PatternTransformer/getEReference/linkVariable">
                  <valueExpression xsi:type="callExpressions:ParameterExpression" parameter="//NacPatternTransformer/addLinkToPattern/linkVariable"/>
                </ownedParameterBindings>
                <target xsi:type="patternExpressions:ObjectVariableExpression" object="//NacPatternTransformer/addLinkToPattern/@activity/@ownedActivityNode.9/@storyPattern/@objectVariable.0"/>
              </bindingExpression>
            </objectVariable>
            <objectVariable name="constraint" incomingLink="//NacPatternTransformer/addLinkToPattern/@activity/@ownedActivityNode.9/@storyPattern/@linkVariable.1" outgoingLink="//NacPatternTransformer/addLinkToPattern/@activity/@ownedActivityNode.9/@storyPattern/@linkVariable.0" bindingOperator="CREATE">
              <type xsi:type="ecore:EClass" href="http://gervarro.org/democles/constraint/emf.ecore#//Reference"/>
            </objectVariable>
            <objectVariable name="patternBody" outgoingLink="//NacPatternTransformer/addLinkToPattern/@activity/@ownedActivityNode.9/@storyPattern/@linkVariable.1 //NacPatternTransformer/addLinkToPattern/@activity/@ownedActivityNode.9/@storyPattern/@linkVariable.2">
              <type xsi:type="ecore:EClass" href="http://gervarro.org/democles/specification.ecore#//PatternBody"/>
            </objectVariable>
            <linkVariable name="eModelElement" target="//NacPatternTransformer/addLinkToPattern/@activity/@ownedActivityNode.9/@storyPattern/@objectVariable.2" source="//NacPatternTransformer/addLinkToPattern/@activity/@ownedActivityNode.9/@storyPattern/@objectVariable.3" bindingOperator="CREATE">
              <type href="http://gervarro.org/democles/constraint/emf.ecore#//EMFConstraint/eModelElement"/>
            </linkVariable>
            <linkVariable name="constraints" target="//NacPatternTransformer/addLinkToPattern/@activity/@ownedActivityNode.9/@storyPattern/@objectVariable.3" source="//NacPatternTransformer/addLinkToPattern/@activity/@ownedActivityNode.9/@storyPattern/@objectVariable.4" bindingOperator="CREATE">
              <type href="http://gervarro.org/democles/specification.ecore#//PatternBody/constraints"/>
            </linkVariable>
            <linkVariable name="header" target="//NacPatternTransformer/addLinkToPattern/@activity/@ownedActivityNode.9/@storyPattern/@objectVariable.1" source="//NacPatternTransformer/addLinkToPattern/@activity/@ownedActivityNode.9/@storyPattern/@objectVariable.4">
              <type href="http://gervarro.org/democles/specification.ecore#//PatternBody/header"/>
            </linkVariable>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StoryNode" name="LookupTarget" comment="LookupTarget" outgoing="//NacPatternTransformer/addLinkToPattern/@activity/@ownedActivityEdge.11" incoming="//NacPatternTransformer/addLinkToPattern/@activity/@ownedActivityEdge.2 //NacPatternTransformer/addLinkToPattern/@activity/@ownedActivityEdge.8">
          <storyPattern comment="LookupTarget">
            <objectVariable name="linkVariable" incomingLink="//NacPatternTransformer/addLinkToPattern/@activity/@ownedActivityNode.10/@storyPattern/@linkVariable.0" bindingState="BOUND">
              <type xsi:type="ecore:EClass" href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//patterns/LinkVariable"/>
            </objectVariable>
            <objectVariable name="target" outgoingLink="//NacPatternTransformer/addLinkToPattern/@activity/@ownedActivityNode.10/@storyPattern/@linkVariable.0">
              <type xsi:type="ecore:EClass" href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//patterns/ObjectVariable"/>
            </objectVariable>
            <linkVariable name="incomingLink" target="//NacPatternTransformer/addLinkToPattern/@activity/@ownedActivityNode.10/@storyPattern/@objectVariable.0" source="//NacPatternTransformer/addLinkToPattern/@activity/@ownedActivityNode.10/@storyPattern/@objectVariable.1">
              <type href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//patterns/ObjectVariable/incomingLink"/>
            </linkVariable>
          </storyPattern>
        </ownedActivityNode>
      </activity>
    </eOperations>
    <eOperations xsi:type="activities:MoflonEOperation" name="isLinkToAdd">
      <eType xsi:type="ecore:EDataType" href="http://www.eclipse.org/emf/2002/Ecore#//EBoolean"/>
      <eParameters name="linkVariable">
        <eType xsi:type="ecore:EClass" href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//patterns/LinkVariable"/>
      </eParameters>
      <eParameters name="pattern">
        <eType xsi:type="ecore:EClass" href="http://gervarro.org/democles/specification.ecore#//Pattern"/>
      </eParameters>
      <activity owningOperation="//NacPatternTransformer/isLinkToAdd">
        <ownedActivityEdge source="//NacPatternTransformer/isLinkToAdd/@activity/@ownedActivityNode.2" target="//NacPatternTransformer/isLinkToAdd/@activity/@ownedActivityNode.7"/>
        <ownedActivityEdge source="//NacPatternTransformer/isLinkToAdd/@activity/@ownedActivityNode.3" target="//NacPatternTransformer/isLinkToAdd/@activity/@ownedActivityNode.5" guard="FAILURE"/>
        <ownedActivityEdge source="//NacPatternTransformer/isLinkToAdd/@activity/@ownedActivityNode.3" target="//NacPatternTransformer/isLinkToAdd/@activity/@ownedActivityNode.6" guard="SUCCESS"/>
        <ownedActivityEdge source="//NacPatternTransformer/isLinkToAdd/@activity/@ownedActivityNode.5" target="//NacPatternTransformer/isLinkToAdd/@activity/@ownedActivityNode.4" guard="FAILURE"/>
        <ownedActivityEdge source="//NacPatternTransformer/isLinkToAdd/@activity/@ownedActivityNode.5" target="//NacPatternTransformer/isLinkToAdd/@activity/@ownedActivityNode.8" guard="SUCCESS"/>
        <ownedActivityEdge source="//NacPatternTransformer/isLinkToAdd/@activity/@ownedActivityNode.6" target="//NacPatternTransformer/isLinkToAdd/@activity/@ownedActivityNode.1" guard="SUCCESS"/>
        <ownedActivityEdge source="//NacPatternTransformer/isLinkToAdd/@activity/@ownedActivityNode.6" target="//NacPatternTransformer/isLinkToAdd/@activity/@ownedActivityNode.5" guard="FAILURE"/>
        <ownedActivityEdge source="//NacPatternTransformer/isLinkToAdd/@activity/@ownedActivityNode.7" target="//NacPatternTransformer/isLinkToAdd/@activity/@ownedActivityNode.3"/>
        <ownedActivityEdge source="//NacPatternTransformer/isLinkToAdd/@activity/@ownedActivityNode.8" target="//NacPatternTransformer/isLinkToAdd/@activity/@ownedActivityNode.0" guard="SUCCESS"/>
        <ownedActivityEdge source="//NacPatternTransformer/isLinkToAdd/@activity/@ownedActivityNode.8" target="//NacPatternTransformer/isLinkToAdd/@activity/@ownedActivityNode.4" guard="FAILURE"/>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//NacPatternTransformer/isLinkToAdd/@activity/@ownedActivityEdge.8">
          <returnValue xsi:type="expressions:LiteralExpression" value="true"/>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//NacPatternTransformer/isLinkToAdd/@activity/@ownedActivityEdge.5">
          <returnValue xsi:type="expressions:LiteralExpression" value="true"/>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StartNode" outgoing="//NacPatternTransformer/isLinkToAdd/@activity/@ownedActivityEdge.0"/>
        <ownedActivityNode xsi:type="activities:StoryNode" name="IsSourceNegative" comment="IsSourceNegative" outgoing="//NacPatternTransformer/isLinkToAdd/@activity/@ownedActivityEdge.1 //NacPatternTransformer/isLinkToAdd/@activity/@ownedActivityEdge.2" incoming="//NacPatternTransformer/isLinkToAdd/@activity/@ownedActivityEdge.7">
          <storyPattern comment="IsSourceNegative">
            <objectVariable name="linkVariable" incomingLink="//NacPatternTransformer/isLinkToAdd/@activity/@ownedActivityNode.3/@storyPattern/@linkVariable.0" bindingState="BOUND">
              <type xsi:type="ecore:EClass" href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//patterns/LinkVariable"/>
            </objectVariable>
            <objectVariable name="source" outgoingLink="//NacPatternTransformer/isLinkToAdd/@activity/@ownedActivityNode.3/@storyPattern/@linkVariable.0">
              <type xsi:type="ecore:EClass" href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//patterns/ObjectVariable"/>
              <constraint>
                <constraintExpression xsi:type="expressions:ComparisonExpression" operator="EQUAL">
                  <rightExpression xsi:type="expressions:LiteralExpression" value="SDMLanguage.patterns.BindingSemantics.NEGATIVE"/>
                  <leftExpression xsi:type="patternExpressions:AttributeValueExpression" object="//NacPatternTransformer/isLinkToAdd/@activity/@ownedActivityNode.3/@storyPattern/@objectVariable.1">
                    <attribute href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//patterns/ObjectVariable/bindingSemantics"/>
                  </leftExpression>
                </constraintExpression>
              </constraint>
            </objectVariable>
            <linkVariable name="outgoingLink" target="//NacPatternTransformer/isLinkToAdd/@activity/@ownedActivityNode.3/@storyPattern/@objectVariable.0" source="//NacPatternTransformer/isLinkToAdd/@activity/@ownedActivityNode.3/@storyPattern/@objectVariable.1">
              <type href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//patterns/ObjectVariable/outgoingLink"/>
            </linkVariable>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//NacPatternTransformer/isLinkToAdd/@activity/@ownedActivityEdge.3 //NacPatternTransformer/isLinkToAdd/@activity/@ownedActivityEdge.9">
          <returnValue xsi:type="expressions:LiteralExpression" value="false"/>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StoryNode" name="IsTargetNegative" comment="IsTargetNegative" outgoing="//NacPatternTransformer/isLinkToAdd/@activity/@ownedActivityEdge.3 //NacPatternTransformer/isLinkToAdd/@activity/@ownedActivityEdge.4" incoming="//NacPatternTransformer/isLinkToAdd/@activity/@ownedActivityEdge.1 //NacPatternTransformer/isLinkToAdd/@activity/@ownedActivityEdge.6">
          <storyPattern comment="IsTargetNegative">
            <objectVariable name="linkVariable" incomingLink="//NacPatternTransformer/isLinkToAdd/@activity/@ownedActivityNode.5/@storyPattern/@linkVariable.0" bindingState="BOUND">
              <type xsi:type="ecore:EClass" href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//patterns/LinkVariable"/>
            </objectVariable>
            <objectVariable name="target" outgoingLink="//NacPatternTransformer/isLinkToAdd/@activity/@ownedActivityNode.5/@storyPattern/@linkVariable.0">
              <type xsi:type="ecore:EClass" href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//patterns/ObjectVariable"/>
              <constraint>
                <constraintExpression xsi:type="expressions:ComparisonExpression" operator="EQUAL">
                  <rightExpression xsi:type="expressions:LiteralExpression" value="SDMLanguage.patterns.BindingSemantics.NEGATIVE"/>
                  <leftExpression xsi:type="patternExpressions:AttributeValueExpression" object="//NacPatternTransformer/isLinkToAdd/@activity/@ownedActivityNode.5/@storyPattern/@objectVariable.1">
                    <attribute href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//patterns/ObjectVariable/bindingSemantics"/>
                  </leftExpression>
                </constraintExpression>
              </constraint>
            </objectVariable>
            <linkVariable name="incomingLink" target="//NacPatternTransformer/isLinkToAdd/@activity/@ownedActivityNode.5/@storyPattern/@objectVariable.0" source="//NacPatternTransformer/isLinkToAdd/@activity/@ownedActivityNode.5/@storyPattern/@objectVariable.1">
              <type href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//patterns/ObjectVariable/incomingLink"/>
            </linkVariable>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StoryNode" name="ExistsSourceLocalVariable" comment="ExistsSourceLocalVariable" outgoing="//NacPatternTransformer/isLinkToAdd/@activity/@ownedActivityEdge.5 //NacPatternTransformer/isLinkToAdd/@activity/@ownedActivityEdge.6" incoming="//NacPatternTransformer/isLinkToAdd/@activity/@ownedActivityEdge.2">
          <storyPattern comment="ExistsSourceLocalVariable">
            <objectVariable name="body" outgoingLink="//NacPatternTransformer/isLinkToAdd/@activity/@ownedActivityNode.6/@storyPattern/@linkVariable.0" bindingState="BOUND">
              <type xsi:type="ecore:EClass" href="http://gervarro.org/democles/specification.ecore#//PatternBody"/>
            </objectVariable>
            <objectVariable name="sourceLocal" incomingLink="//NacPatternTransformer/isLinkToAdd/@activity/@ownedActivityNode.6/@storyPattern/@linkVariable.0">
              <type xsi:type="ecore:EClass" href="http://gervarro.org/democles/specification.ecore#//Variable"/>
              <constraint>
                <constraintExpression xsi:type="expressions:ComparisonExpression" operator="EQUAL">
                  <rightExpression xsi:type="patternExpressions:AttributeValueExpression" object="//NacPatternTransformer/isLinkToAdd/@activity/@ownedActivityNode.3/@storyPattern/@objectVariable.1">
                    <attribute href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//NamedElement/name"/>
                  </rightExpression>
                  <leftExpression xsi:type="patternExpressions:AttributeValueExpression" object="//NacPatternTransformer/isLinkToAdd/@activity/@ownedActivityNode.6/@storyPattern/@objectVariable.1">
                    <attribute href="http://gervarro.org/democles/specification.ecore#//Variable/name"/>
                  </leftExpression>
                </constraintExpression>
              </constraint>
            </objectVariable>
            <linkVariable name="localVariables" target="//NacPatternTransformer/isLinkToAdd/@activity/@ownedActivityNode.6/@storyPattern/@objectVariable.1" source="//NacPatternTransformer/isLinkToAdd/@activity/@ownedActivityNode.6/@storyPattern/@objectVariable.0">
              <type href="http://gervarro.org/democles/specification.ecore#//PatternBody/localVariables"/>
            </linkVariable>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StoryNode" name="LookupPatternBody" comment="LookupPatternBody" outgoing="//NacPatternTransformer/isLinkToAdd/@activity/@ownedActivityEdge.7" incoming="//NacPatternTransformer/isLinkToAdd/@activity/@ownedActivityEdge.0">
          <storyPattern comment="LookupPatternBody">
            <objectVariable name="pattern" incomingLink="//NacPatternTransformer/isLinkToAdd/@activity/@ownedActivityNode.7/@storyPattern/@linkVariable.0" bindingState="BOUND">
              <type xsi:type="ecore:EClass" href="http://gervarro.org/democles/specification.ecore#//Pattern"/>
            </objectVariable>
            <objectVariable name="body" outgoingLink="//NacPatternTransformer/isLinkToAdd/@activity/@ownedActivityNode.7/@storyPattern/@linkVariable.0">
              <type xsi:type="ecore:EClass" href="http://gervarro.org/democles/specification.ecore#//PatternBody"/>
            </objectVariable>
            <linkVariable name="header" target="//NacPatternTransformer/isLinkToAdd/@activity/@ownedActivityNode.7/@storyPattern/@objectVariable.0" source="//NacPatternTransformer/isLinkToAdd/@activity/@ownedActivityNode.7/@storyPattern/@objectVariable.1">
              <type href="http://gervarro.org/democles/specification.ecore#//PatternBody/header"/>
            </linkVariable>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StoryNode" name="ExistsTargetLocalVariable" comment="ExistsTargetLocalVariable" outgoing="//NacPatternTransformer/isLinkToAdd/@activity/@ownedActivityEdge.8 //NacPatternTransformer/isLinkToAdd/@activity/@ownedActivityEdge.9" incoming="//NacPatternTransformer/isLinkToAdd/@activity/@ownedActivityEdge.4">
          <storyPattern comment="ExistsTargetLocalVariable">
            <objectVariable name="body" outgoingLink="//NacPatternTransformer/isLinkToAdd/@activity/@ownedActivityNode.8/@storyPattern/@linkVariable.0" bindingState="BOUND">
              <type xsi:type="ecore:EClass" href="http://gervarro.org/democles/specification.ecore#//PatternBody"/>
            </objectVariable>
            <objectVariable name="targetLocal" incomingLink="//NacPatternTransformer/isLinkToAdd/@activity/@ownedActivityNode.8/@storyPattern/@linkVariable.0">
              <type xsi:type="ecore:EClass" href="http://gervarro.org/democles/specification.ecore#//Variable"/>
              <constraint>
                <constraintExpression xsi:type="expressions:ComparisonExpression" operator="EQUAL">
                  <rightExpression xsi:type="patternExpressions:AttributeValueExpression" object="//NacPatternTransformer/isLinkToAdd/@activity/@ownedActivityNode.5/@storyPattern/@objectVariable.1">
                    <attribute href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//NamedElement/name"/>
                  </rightExpression>
                  <leftExpression xsi:type="patternExpressions:AttributeValueExpression" object="//NacPatternTransformer/isLinkToAdd/@activity/@ownedActivityNode.8/@storyPattern/@objectVariable.1">
                    <attribute href="http://gervarro.org/democles/specification.ecore#//Variable/name"/>
                  </leftExpression>
                </constraintExpression>
              </constraint>
            </objectVariable>
            <linkVariable name="localVariables" target="//NacPatternTransformer/isLinkToAdd/@activity/@ownedActivityNode.8/@storyPattern/@objectVariable.1" source="//NacPatternTransformer/isLinkToAdd/@activity/@ownedActivityNode.8/@storyPattern/@objectVariable.0">
              <type href="http://gervarro.org/democles/specification.ecore#//PatternBody/localVariables"/>
            </linkVariable>
          </storyPattern>
        </ownedActivityNode>
      </activity>
    </eOperations>
    <eOperations xsi:type="activities:MoflonEOperation" name="isVariableToAdd">
      <eType xsi:type="ecore:EDataType" href="http://www.eclipse.org/emf/2002/Ecore#//EBoolean"/>
      <eParameters name="objectVariable">
        <eType xsi:type="ecore:EClass" href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//patterns/ObjectVariable"/>
      </eParameters>
      <activity owningOperation="//NacPatternTransformer/isVariableToAdd">
        <ownedActivityEdge source="//NacPatternTransformer/isVariableToAdd/@activity/@ownedActivityNode.0" target="//NacPatternTransformer/isVariableToAdd/@activity/@ownedActivityNode.3"/>
        <ownedActivityEdge source="//NacPatternTransformer/isVariableToAdd/@activity/@ownedActivityNode.3" target="//NacPatternTransformer/isVariableToAdd/@activity/@ownedActivityNode.2" guard="FAILURE"/>
        <ownedActivityEdge source="//NacPatternTransformer/isVariableToAdd/@activity/@ownedActivityNode.3" target="//NacPatternTransformer/isVariableToAdd/@activity/@ownedActivityNode.1" guard="SUCCESS"/>
        <ownedActivityNode xsi:type="activities:StartNode" outgoing="//NacPatternTransformer/isVariableToAdd/@activity/@ownedActivityEdge.0"/>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//NacPatternTransformer/isVariableToAdd/@activity/@ownedActivityEdge.2">
          <returnValue xsi:type="expressions:LiteralExpression" value="true"/>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//NacPatternTransformer/isVariableToAdd/@activity/@ownedActivityEdge.1">
          <returnValue xsi:type="expressions:LiteralExpression" value="false"/>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StoryNode" name="IsNegativeVariable" comment="IsNegativeVariable" outgoing="//NacPatternTransformer/isVariableToAdd/@activity/@ownedActivityEdge.1 //NacPatternTransformer/isVariableToAdd/@activity/@ownedActivityEdge.2" incoming="//NacPatternTransformer/isVariableToAdd/@activity/@ownedActivityEdge.0">
          <storyPattern comment="IsNegativeVariable">
            <objectVariable name="objectVariable" bindingState="BOUND">
              <type xsi:type="ecore:EClass" href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//patterns/ObjectVariable"/>
              <constraint>
                <constraintExpression xsi:type="expressions:ComparisonExpression" operator="EQUAL">
                  <rightExpression xsi:type="expressions:LiteralExpression" value="SDMLanguage.patterns.BindingSemantics.NEGATIVE"/>
                  <leftExpression xsi:type="patternExpressions:AttributeValueExpression" object="//NacPatternTransformer/isVariableToAdd/@activity/@ownedActivityNode.3/@storyPattern/@objectVariable.0">
                    <attribute href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//patterns/ObjectVariable/bindingSemantics"/>
                  </leftExpression>
                </constraintExpression>
              </constraint>
            </objectVariable>
          </storyPattern>
        </ownedActivityNode>
      </activity>
    </eOperations>
    <eOperations xsi:type="activities:MoflonEOperation" name="postprocess">
      <eParameters name="storyPattern">
        <eType xsi:type="ecore:EClass" href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//patterns/StoryPattern"/>
      </eParameters>
      <eParameters name="pattern">
        <eType xsi:type="ecore:EClass" href="http://gervarro.org/democles/specification.ecore#//Pattern"/>
      </eParameters>
      <activity owningOperation="//NacPatternTransformer/postprocess">
        <ownedActivityEdge source="//NacPatternTransformer/postprocess/@activity/@ownedActivityNode.0" target="//NacPatternTransformer/postprocess/@activity/@ownedActivityNode.3" guard="END"/>
        <ownedActivityEdge source="//NacPatternTransformer/postprocess/@activity/@ownedActivityNode.0" target="//NacPatternTransformer/postprocess/@activity/@ownedActivityNode.1" guard="EACH_TIME"/>
        <ownedActivityEdge source="//NacPatternTransformer/postprocess/@activity/@ownedActivityNode.1" target="//NacPatternTransformer/postprocess/@activity/@ownedActivityNode.6" guard="SUCCESS"/>
        <ownedActivityEdge source="//NacPatternTransformer/postprocess/@activity/@ownedActivityNode.1" target="//NacPatternTransformer/postprocess/@activity/@ownedActivityNode.0" guard="FAILURE"/>
        <ownedActivityEdge source="//NacPatternTransformer/postprocess/@activity/@ownedActivityNode.2" target="//NacPatternTransformer/postprocess/@activity/@ownedActivityNode.5"/>
        <ownedActivityEdge source="//NacPatternTransformer/postprocess/@activity/@ownedActivityNode.3" target="//NacPatternTransformer/postprocess/@activity/@ownedActivityNode.4"/>
        <ownedActivityEdge source="//NacPatternTransformer/postprocess/@activity/@ownedActivityNode.5" target="//NacPatternTransformer/postprocess/@activity/@ownedActivityNode.0"/>
        <ownedActivityEdge source="//NacPatternTransformer/postprocess/@activity/@ownedActivityNode.6" target="//NacPatternTransformer/postprocess/@activity/@ownedActivityNode.0"/>
        <ownedActivityNode xsi:type="activities:StoryNode" name="ForEachObjectVariable" comment="ForEachObjectVariable" outgoing="//NacPatternTransformer/postprocess/@activity/@ownedActivityEdge.0 //NacPatternTransformer/postprocess/@activity/@ownedActivityEdge.1" incoming="//NacPatternTransformer/postprocess/@activity/@ownedActivityEdge.3 //NacPatternTransformer/postprocess/@activity/@ownedActivityEdge.6 //NacPatternTransformer/postprocess/@activity/@ownedActivityEdge.7" forEach="true">
          <storyPattern comment="ForEachObjectVariable">
            <objectVariable name="objectVariable" incomingLink="//NacPatternTransformer/postprocess/@activity/@ownedActivityNode.0/@storyPattern/@linkVariable.0">
              <type xsi:type="ecore:EClass" href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//patterns/ObjectVariable"/>
            </objectVariable>
            <objectVariable name="storyPattern" outgoingLink="//NacPatternTransformer/postprocess/@activity/@ownedActivityNode.0/@storyPattern/@linkVariable.0" bindingState="BOUND">
              <type xsi:type="ecore:EClass" href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//patterns/StoryPattern"/>
            </objectVariable>
            <linkVariable name="objectVariable" target="//NacPatternTransformer/postprocess/@activity/@ownedActivityNode.0/@storyPattern/@objectVariable.0" source="//NacPatternTransformer/postprocess/@activity/@ownedActivityNode.0/@storyPattern/@objectVariable.1">
              <type href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//patterns/StoryPattern/objectVariable"/>
            </linkVariable>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StatementNode" name="IsRelevantObjectVariable" outgoing="//NacPatternTransformer/postprocess/@activity/@ownedActivityEdge.2 //NacPatternTransformer/postprocess/@activity/@ownedActivityEdge.3" incoming="//NacPatternTransformer/postprocess/@activity/@ownedActivityEdge.1">
          <statementExpression xsi:type="callExpressions:MethodCallExpression" callee="//BlackAndNacPatternTransformer/isVariableToAdd">
            <ownedParameterBindings parameter="//BlackAndNacPatternTransformer/isVariableToAdd/objectVariable">
              <valueExpression xsi:type="patternExpressions:ObjectVariableExpression" object="//NacPatternTransformer/postprocess/@activity/@ownedActivityNode.0/@storyPattern/@objectVariable.0"/>
            </ownedParameterBindings>
            <target xsi:type="patternExpressions:ObjectVariableExpression" object="//NacPatternTransformer/postprocess/@activity/@ownedActivityNode.5/@storyPattern/@objectVariable.0"/>
          </statementExpression>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StartNode" outgoing="//NacPatternTransformer/postprocess/@activity/@ownedActivityEdge.4"/>
        <ownedActivityNode xsi:type="activities:StatementNode" name="AnalyzeInjectivity" outgoing="//NacPatternTransformer/postprocess/@activity/@ownedActivityEdge.5" incoming="//NacPatternTransformer/postprocess/@activity/@ownedActivityEdge.0">
          <statementExpression xsi:type="callExpressions:MethodCallExpression" callee="//BlackAndNacPatternTransformer/analyzeInjectivity">
            <ownedParameterBindings parameter="//BlackAndNacPatternTransformer/analyzeInjectivity/pattern">
              <valueExpression xsi:type="callExpressions:ParameterExpression" parameter="//NacPatternTransformer/postprocess/pattern"/>
            </ownedParameterBindings>
            <target xsi:type="patternExpressions:ObjectVariableExpression" object="//NacPatternTransformer/postprocess/@activity/@ownedActivityNode.5/@storyPattern/@objectVariable.0"/>
          </statementExpression>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//NacPatternTransformer/postprocess/@activity/@ownedActivityEdge.5"/>
        <ownedActivityNode xsi:type="activities:StoryNode" name="Init" comment="Init" outgoing="//NacPatternTransformer/postprocess/@activity/@ownedActivityEdge.6" incoming="//NacPatternTransformer/postprocess/@activity/@ownedActivityEdge.4">
          <storyPattern comment="Init">
            <objectVariable type="//NacPatternTransformer" name="this" bindingState="BOUND"/>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StatementNode" name="TransformNacConstraints" outgoing="//NacPatternTransformer/postprocess/@activity/@ownedActivityEdge.7" incoming="//NacPatternTransformer/postprocess/@activity/@ownedActivityEdge.2">
          <statementExpression xsi:type="callExpressions:MethodCallExpression" callee="//NacPatternTransformer/transformNacConstraints">
            <ownedParameterBindings parameter="//NacPatternTransformer/transformNacConstraints/nacObjectVariable">
              <valueExpression xsi:type="patternExpressions:ObjectVariableExpression" object="//NacPatternTransformer/postprocess/@activity/@ownedActivityNode.0/@storyPattern/@objectVariable.0"/>
            </ownedParameterBindings>
            <ownedParameterBindings parameter="//NacPatternTransformer/transformNacConstraints/nacPattern">
              <valueExpression xsi:type="callExpressions:ParameterExpression" parameter="//NacPatternTransformer/postprocess/pattern"/>
            </ownedParameterBindings>
            <target xsi:type="patternExpressions:ObjectVariableExpression" object="//NacPatternTransformer/postprocess/@activity/@ownedActivityNode.5/@storyPattern/@objectVariable.0"/>
          </statementExpression>
        </ownedActivityNode>
      </activity>
    </eOperations>
    <eOperations xsi:type="activities:MoflonEOperation" name="transformNacConstraints">
      <eParameters name="nacObjectVariable">
        <eType xsi:type="ecore:EClass" href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//patterns/ObjectVariable"/>
      </eParameters>
      <eParameters name="nacPattern">
        <eType xsi:type="ecore:EClass" href="http://gervarro.org/democles/specification.ecore#//Pattern"/>
      </eParameters>
      <activity owningOperation="//NacPatternTransformer/transformNacConstraints">
        <ownedActivityEdge source="//NacPatternTransformer/transformNacConstraints/@activity/@ownedActivityNode.0" target="//NacPatternTransformer/transformNacConstraints/@activity/@ownedActivityNode.7"/>
        <ownedActivityEdge source="//NacPatternTransformer/transformNacConstraints/@activity/@ownedActivityNode.1" target="//NacPatternTransformer/transformNacConstraints/@activity/@ownedActivityNode.3"/>
        <ownedActivityEdge source="//NacPatternTransformer/transformNacConstraints/@activity/@ownedActivityNode.2" target="//NacPatternTransformer/transformNacConstraints/@activity/@ownedActivityNode.1"/>
        <ownedActivityEdge source="//NacPatternTransformer/transformNacConstraints/@activity/@ownedActivityNode.3" target="//NacPatternTransformer/transformNacConstraints/@activity/@ownedActivityNode.5"/>
        <ownedActivityEdge source="//NacPatternTransformer/transformNacConstraints/@activity/@ownedActivityNode.5" target="//NacPatternTransformer/transformNacConstraints/@activity/@ownedActivityNode.4" guard="END"/>
        <ownedActivityEdge source="//NacPatternTransformer/transformNacConstraints/@activity/@ownedActivityNode.5" target="//NacPatternTransformer/transformNacConstraints/@activity/@ownedActivityNode.2" guard="EACH_TIME"/>
        <ownedActivityEdge source="//NacPatternTransformer/transformNacConstraints/@activity/@ownedActivityNode.6" target="//NacPatternTransformer/transformNacConstraints/@activity/@ownedActivityNode.5"/>
        <ownedActivityEdge source="//NacPatternTransformer/transformNacConstraints/@activity/@ownedActivityNode.7" target="//NacPatternTransformer/transformNacConstraints/@activity/@ownedActivityNode.6" guard="SUCCESS"/>
        <ownedActivityEdge source="//NacPatternTransformer/transformNacConstraints/@activity/@ownedActivityNode.7" target="//NacPatternTransformer/transformNacConstraints/@activity/@ownedActivityNode.8" guard="FAILURE"/>
        <ownedActivityNode xsi:type="activities:StartNode" outgoing="//NacPatternTransformer/transformNacConstraints/@activity/@ownedActivityEdge.0"/>
        <ownedActivityNode xsi:type="activities:StoryNode" name="CreateConstraintAndHandleLeftSideAttribute" comment="CreateConstraintAndHandleLeftSideAttribute" outgoing="//NacPatternTransformer/transformNacConstraints/@activity/@ownedActivityEdge.1" incoming="//NacPatternTransformer/transformNacConstraints/@activity/@ownedActivityEdge.2">
          <storyPattern comment="CreateConstraintAndHandleLeftSideAttribute">
            <objectVariable name="attribute" incomingLink="//NacPatternTransformer/transformNacConstraints/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.1" bindingState="BOUND">
              <type xsi:type="ecore:EClass" href="http://gervarro.org/democles/specification.ecore#//Variable"/>
              <bindingExpression xsi:type="callExpressions:MethodCallExpression" callee="//PatternVariableHandler/getAttributeVariable">
                <ownedParameterBindings parameter="//PatternVariableHandler/getAttributeVariable/attributeOwner">
                  <valueExpression xsi:type="patternExpressions:ObjectVariableExpression" object="//NacPatternTransformer/transformNacConstraints/@activity/@ownedActivityNode.5/@storyPattern/@objectVariable.6"/>
                </ownedParameterBindings>
                <ownedParameterBindings parameter="//PatternVariableHandler/getAttributeVariable/eAttribute">
                  <valueExpression xsi:type="patternExpressions:ObjectVariableExpression" object="//NacPatternTransformer/transformNacConstraints/@activity/@ownedActivityNode.5/@storyPattern/@objectVariable.1"/>
                </ownedParameterBindings>
                <ownedParameterBindings parameter="//PatternVariableHandler/getAttributeVariable/pattern">
                  <valueExpression xsi:type="callExpressions:ParameterExpression" parameter="//NacPatternTransformer/transformNacConstraints/nacPattern"/>
                </ownedParameterBindings>
                <target xsi:type="patternExpressions:ObjectVariableExpression" object="//NacPatternTransformer/transformNacConstraints/@activity/@ownedActivityNode.6/@storyPattern/@objectVariable.2"/>
              </bindingExpression>
            </objectVariable>
            <objectVariable name="patternBody" outgoingLink="//NacPatternTransformer/transformNacConstraints/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.0" bindingState="BOUND">
              <type xsi:type="ecore:EClass" href="http://gervarro.org/democles/specification.ecore#//PatternBody"/>
            </objectVariable>
            <objectVariable name="leftParameter" incomingLink="//NacPatternTransformer/transformNacConstraints/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.2" outgoingLink="//NacPatternTransformer/transformNacConstraints/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.1" bindingOperator="CREATE">
              <type xsi:type="ecore:EClass" href="http://gervarro.org/democles/specification.ecore#//ConstraintParameter"/>
            </objectVariable>
            <objectVariable name="constraint" incomingLink="//NacPatternTransformer/transformNacConstraints/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.0" outgoingLink="//NacPatternTransformer/transformNacConstraints/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.2" bindingState="BOUND">
              <type xsi:type="ecore:EClass" href="http://gervarro.org/democles/specification/constraint/relational.ecore#//RelationalConstraint"/>
            </objectVariable>
            <linkVariable name="constraints" target="//NacPatternTransformer/transformNacConstraints/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.3" source="//NacPatternTransformer/transformNacConstraints/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.1" bindingOperator="CREATE">
              <type href="http://gervarro.org/democles/specification.ecore#//PatternBody/constraints"/>
            </linkVariable>
            <linkVariable name="reference" target="//NacPatternTransformer/transformNacConstraints/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.0" source="//NacPatternTransformer/transformNacConstraints/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.2" bindingOperator="CREATE">
              <type href="http://gervarro.org/democles/specification.ecore#//ConstraintParameter/reference"/>
            </linkVariable>
            <linkVariable name="parameters" target="//NacPatternTransformer/transformNacConstraints/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.2" source="//NacPatternTransformer/transformNacConstraints/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.3" bindingOperator="CREATE">
              <type href="http://gervarro.org/democles/specification.ecore#//Constraint/parameters"/>
            </linkVariable>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StoryNode" name="CreateConstraint" comment="CreateConstraint" outgoing="//NacPatternTransformer/transformNacConstraints/@activity/@ownedActivityEdge.2" incoming="//NacPatternTransformer/transformNacConstraints/@activity/@ownedActivityEdge.5">
          <storyPattern comment="CreateConstraint">
            <objectVariable name="constraint" bindingState="BOUND">
              <type xsi:type="ecore:EClass" href="http://gervarro.org/democles/specification/constraint/relational.ecore#//RelationalConstraint"/>
              <bindingExpression xsi:type="callExpressions:MethodCallExpression" callee="//BlackAndNacPatternTransformer/createRelationalConstraint">
                <ownedParameterBindings parameter="//BlackAndNacPatternTransformer/createRelationalConstraint/comparison">
                  <valueExpression xsi:type="patternExpressions:ObjectVariableExpression" object="//NacPatternTransformer/transformNacConstraints/@activity/@ownedActivityNode.5/@storyPattern/@objectVariable.5"/>
                </ownedParameterBindings>
                <target xsi:type="patternExpressions:ObjectVariableExpression" object="//NacPatternTransformer/transformNacConstraints/@activity/@ownedActivityNode.6/@storyPattern/@objectVariable.2"/>
              </bindingExpression>
            </objectVariable>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StoryNode" name="HandleRightSideExpression" comment="HandleRightSideExpression" outgoing="//NacPatternTransformer/transformNacConstraints/@activity/@ownedActivityEdge.3" incoming="//NacPatternTransformer/transformNacConstraints/@activity/@ownedActivityEdge.1">
          <storyPattern comment="HandleRightSideExpression">
            <objectVariable name="constraint" outgoingLink="//NacPatternTransformer/transformNacConstraints/@activity/@ownedActivityNode.3/@storyPattern/@linkVariable.0" bindingState="BOUND">
              <type xsi:type="ecore:EClass" href="http://gervarro.org/democles/specification/constraint/relational.ecore#//RelationalConstraint"/>
            </objectVariable>
            <objectVariable name="rightParameter" incomingLink="//NacPatternTransformer/transformNacConstraints/@activity/@ownedActivityNode.3/@storyPattern/@linkVariable.0" outgoingLink="//NacPatternTransformer/transformNacConstraints/@activity/@ownedActivityNode.3/@storyPattern/@linkVariable.1" bindingOperator="CREATE">
              <type xsi:type="ecore:EClass" href="http://gervarro.org/democles/specification.ecore#//ConstraintParameter"/>
            </objectVariable>
            <objectVariable name="rightSideExpression" incomingLink="//NacPatternTransformer/transformNacConstraints/@activity/@ownedActivityNode.3/@storyPattern/@linkVariable.1" bindingState="BOUND">
              <type xsi:type="ecore:EClass" href="http://gervarro.org/democles/specification.ecore#//ConstraintVariable"/>
              <bindingExpression xsi:type="callExpressions:MethodCallExpression" callee="//ExpressionTransformer/transformExpression">
                <ownedParameterBindings parameter="//ExpressionTransformer/transformExpression/report">
                  <valueExpression xsi:type="patternExpressions:ObjectVariableExpression" object="//NacPatternTransformer/transformNacConstraints/@activity/@ownedActivityNode.6/@storyPattern/@objectVariable.1"/>
                </ownedParameterBindings>
                <ownedParameterBindings parameter="//ExpressionTransformer/transformExpression/patternVariableHandler">
                  <valueExpression xsi:type="patternExpressions:ObjectVariableExpression" object="//NacPatternTransformer/transformNacConstraints/@activity/@ownedActivityNode.6/@storyPattern/@objectVariable.2"/>
                </ownedParameterBindings>
                <ownedParameterBindings parameter="//ExpressionTransformer/transformExpression/expression">
                  <valueExpression xsi:type="patternExpressions:ObjectVariableExpression" object="//NacPatternTransformer/transformNacConstraints/@activity/@ownedActivityNode.5/@storyPattern/@objectVariable.0"/>
                </ownedParameterBindings>
                <ownedParameterBindings parameter="//ExpressionTransformer/transformExpression/pattern">
                  <valueExpression xsi:type="callExpressions:ParameterExpression" parameter="//NacPatternTransformer/transformNacConstraints/nacPattern"/>
                </ownedParameterBindings>
                <ownedParameterBindings parameter="//ExpressionTransformer/transformExpression/expectedType">
                  <valueExpression xsi:type="patternExpressions:ObjectVariableExpression" object="//NacPatternTransformer/transformNacConstraints/@activity/@ownedActivityNode.5/@storyPattern/@objectVariable.4"/>
                </ownedParameterBindings>
                <target xsi:type="patternExpressions:ObjectVariableExpression" object="//NacPatternTransformer/transformNacConstraints/@activity/@ownedActivityNode.6/@storyPattern/@objectVariable.0"/>
              </bindingExpression>
            </objectVariable>
            <linkVariable name="parameters" target="//NacPatternTransformer/transformNacConstraints/@activity/@ownedActivityNode.3/@storyPattern/@objectVariable.1" source="//NacPatternTransformer/transformNacConstraints/@activity/@ownedActivityNode.3/@storyPattern/@objectVariable.0" bindingOperator="CREATE">
              <type href="http://gervarro.org/democles/specification.ecore#//Constraint/parameters"/>
            </linkVariable>
            <linkVariable name="reference" target="//NacPatternTransformer/transformNacConstraints/@activity/@ownedActivityNode.3/@storyPattern/@objectVariable.2" source="//NacPatternTransformer/transformNacConstraints/@activity/@ownedActivityNode.3/@storyPattern/@objectVariable.1" bindingOperator="CREATE">
              <type href="http://gervarro.org/democles/specification.ecore#//ConstraintParameter/reference"/>
            </linkVariable>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//NacPatternTransformer/transformNacConstraints/@activity/@ownedActivityEdge.4"/>
        <ownedActivityNode xsi:type="activities:StoryNode" name="ForEachConstraint" comment="ForEachConstraint" outgoing="//NacPatternTransformer/transformNacConstraints/@activity/@ownedActivityEdge.4 //NacPatternTransformer/transformNacConstraints/@activity/@ownedActivityEdge.5" incoming="//NacPatternTransformer/transformNacConstraints/@activity/@ownedActivityEdge.3 //NacPatternTransformer/transformNacConstraints/@activity/@ownedActivityEdge.6" forEach="true">
          <storyPattern comment="ForEachConstraint">
            <objectVariable name="expression" incomingLink="//NacPatternTransformer/transformNacConstraints/@activity/@ownedActivityNode.5/@storyPattern/@linkVariable.5">
              <type xsi:type="ecore:EClass" href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//expressions/Expression"/>
            </objectVariable>
            <objectVariable name="eAttribute" incomingLink="//NacPatternTransformer/transformNacConstraints/@activity/@ownedActivityNode.5/@storyPattern/@linkVariable.3" outgoingLink="//NacPatternTransformer/transformNacConstraints/@activity/@ownedActivityNode.5/@storyPattern/@linkVariable.0">
              <type xsi:type="ecore:EClass" href="http://www.eclipse.org/emf/2002/Ecore#//EAttribute"/>
            </objectVariable>
            <objectVariable name="sdmConstraint" incomingLink="//NacPatternTransformer/transformNacConstraints/@activity/@ownedActivityNode.5/@storyPattern/@linkVariable.1" outgoingLink="//NacPatternTransformer/transformNacConstraints/@activity/@ownedActivityNode.5/@storyPattern/@linkVariable.2">
              <type xsi:type="ecore:EClass" href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//patterns/Constraint"/>
            </objectVariable>
            <objectVariable name="attributeValueExpression" incomingLink="//NacPatternTransformer/transformNacConstraints/@activity/@ownedActivityNode.5/@storyPattern/@linkVariable.4" outgoingLink="//NacPatternTransformer/transformNacConstraints/@activity/@ownedActivityNode.5/@storyPattern/@linkVariable.3">
              <type xsi:type="ecore:EClass" href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//patterns/patternExpressions/AttributeValueExpression"/>
            </objectVariable>
            <objectVariable name="eDataType" incomingLink="//NacPatternTransformer/transformNacConstraints/@activity/@ownedActivityNode.5/@storyPattern/@linkVariable.0">
              <type xsi:type="ecore:EClass" href="http://www.eclipse.org/emf/2002/Ecore#//EDataType"/>
            </objectVariable>
            <objectVariable name="binaryExpression" incomingLink="//NacPatternTransformer/transformNacConstraints/@activity/@ownedActivityNode.5/@storyPattern/@linkVariable.2" outgoingLink="//NacPatternTransformer/transformNacConstraints/@activity/@ownedActivityNode.5/@storyPattern/@linkVariable.4 //NacPatternTransformer/transformNacConstraints/@activity/@ownedActivityNode.5/@storyPattern/@linkVariable.5">
              <type xsi:type="ecore:EClass" href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//expressions/ComparisonExpression"/>
            </objectVariable>
            <objectVariable name="nacObjectVariable" outgoingLink="//NacPatternTransformer/transformNacConstraints/@activity/@ownedActivityNode.5/@storyPattern/@linkVariable.1" bindingState="BOUND">
              <type xsi:type="ecore:EClass" href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//patterns/ObjectVariable"/>
            </objectVariable>
            <linkVariable name="eType" target="//NacPatternTransformer/transformNacConstraints/@activity/@ownedActivityNode.5/@storyPattern/@objectVariable.4" source="//NacPatternTransformer/transformNacConstraints/@activity/@ownedActivityNode.5/@storyPattern/@objectVariable.1">
              <type href="http://www.eclipse.org/emf/2002/Ecore#//ETypedElement/eType"/>
            </linkVariable>
            <linkVariable name="constraint" target="//NacPatternTransformer/transformNacConstraints/@activity/@ownedActivityNode.5/@storyPattern/@objectVariable.2" source="//NacPatternTransformer/transformNacConstraints/@activity/@ownedActivityNode.5/@storyPattern/@objectVariable.6">
              <type href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//patterns/ObjectVariable/constraint"/>
            </linkVariable>
            <linkVariable name="constraintExpression" target="//NacPatternTransformer/transformNacConstraints/@activity/@ownedActivityNode.5/@storyPattern/@objectVariable.5" source="//NacPatternTransformer/transformNacConstraints/@activity/@ownedActivityNode.5/@storyPattern/@objectVariable.2">
              <type href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//patterns/Constraint/constraintExpression"/>
            </linkVariable>
            <linkVariable name="attribute" target="//NacPatternTransformer/transformNacConstraints/@activity/@ownedActivityNode.5/@storyPattern/@objectVariable.1" source="//NacPatternTransformer/transformNacConstraints/@activity/@ownedActivityNode.5/@storyPattern/@objectVariable.3">
              <type href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//patterns/patternExpressions/AttributeValueExpression/attribute"/>
            </linkVariable>
            <linkVariable name="leftExpression" target="//NacPatternTransformer/transformNacConstraints/@activity/@ownedActivityNode.5/@storyPattern/@objectVariable.3" source="//NacPatternTransformer/transformNacConstraints/@activity/@ownedActivityNode.5/@storyPattern/@objectVariable.5">
              <type href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//expressions/BinaryExpression/leftExpression"/>
            </linkVariable>
            <linkVariable name="rightExpression" target="//NacPatternTransformer/transformNacConstraints/@activity/@ownedActivityNode.5/@storyPattern/@objectVariable.0" source="//NacPatternTransformer/transformNacConstraints/@activity/@ownedActivityNode.5/@storyPattern/@objectVariable.5">
              <type href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//expressions/BinaryExpression/rightExpression"/>
            </linkVariable>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StoryNode" name="Init" comment="Init" outgoing="//NacPatternTransformer/transformNacConstraints/@activity/@ownedActivityEdge.6" incoming="//NacPatternTransformer/transformNacConstraints/@activity/@ownedActivityEdge.7">
          <storyPattern comment="Init">
            <objectVariable type="//ExpressionTransformer" name="expressionTransformer" incomingLink="//NacPatternTransformer/transformNacConstraints/@activity/@ownedActivityNode.6/@storyPattern/@linkVariable.1"/>
            <objectVariable name="report" incomingLink="//NacPatternTransformer/transformNacConstraints/@activity/@ownedActivityNode.6/@storyPattern/@linkVariable.0">
              <type xsi:type="ecore:EClass" href="platform:/plugin/org.moflon.sdm.compiler.democles.validation.result/model/Result.ecore#//ValidationReport"/>
            </objectVariable>
            <objectVariable type="//BlackAndNacPatternTransformer" name="this" outgoingLink="//NacPatternTransformer/transformNacConstraints/@activity/@ownedActivityNode.6/@storyPattern/@linkVariable.0 //NacPatternTransformer/transformNacConstraints/@activity/@ownedActivityNode.6/@storyPattern/@linkVariable.1" bindingState="BOUND"/>
            <linkVariable name="validationReport" target="//NacPatternTransformer/transformNacConstraints/@activity/@ownedActivityNode.6/@storyPattern/@objectVariable.1" source="//NacPatternTransformer/transformNacConstraints/@activity/@ownedActivityNode.6/@storyPattern/@objectVariable.2" type="//PatternTransformer/validationReport"/>
            <linkVariable name="expressionTransformer" target="//NacPatternTransformer/transformNacConstraints/@activity/@ownedActivityNode.6/@storyPattern/@objectVariable.0" source="//NacPatternTransformer/transformNacConstraints/@activity/@ownedActivityNode.6/@storyPattern/@objectVariable.2" type="//PatternTransformer/expressionTransformer"/>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StoryNode" name="BelongsToNacPattern" comment="BelongsToNacPattern" outgoing="//NacPatternTransformer/transformNacConstraints/@activity/@ownedActivityEdge.7 //NacPatternTransformer/transformNacConstraints/@activity/@ownedActivityEdge.8" incoming="//NacPatternTransformer/transformNacConstraints/@activity/@ownedActivityEdge.0">
          <storyPattern comment="BelongsToNacPattern">
            <objectVariable name="nacPattern" incomingLink="//NacPatternTransformer/transformNacConstraints/@activity/@ownedActivityNode.7/@storyPattern/@linkVariable.0" bindingState="BOUND">
              <type xsi:type="ecore:EClass" href="http://gervarro.org/democles/specification.ecore#//Pattern"/>
            </objectVariable>
            <objectVariable name="patternBody" outgoingLink="//NacPatternTransformer/transformNacConstraints/@activity/@ownedActivityNode.7/@storyPattern/@linkVariable.1 //NacPatternTransformer/transformNacConstraints/@activity/@ownedActivityNode.7/@storyPattern/@linkVariable.0">
              <type xsi:type="ecore:EClass" href="http://gervarro.org/democles/specification.ecore#//PatternBody"/>
            </objectVariable>
            <objectVariable name="localVariable" incomingLink="//NacPatternTransformer/transformNacConstraints/@activity/@ownedActivityNode.7/@storyPattern/@linkVariable.1">
              <type xsi:type="ecore:EClass" href="http://gervarro.org/democles/specification.ecore#//Variable"/>
              <constraint>
                <constraintExpression xsi:type="expressions:ComparisonExpression" operator="EQUAL">
                  <rightExpression xsi:type="patternExpressions:AttributeValueExpression" object="//NacPatternTransformer/transformNacConstraints/@activity/@ownedActivityNode.5/@storyPattern/@objectVariable.6">
                    <attribute href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//NamedElement/name"/>
                  </rightExpression>
                  <leftExpression xsi:type="patternExpressions:AttributeValueExpression" object="//NacPatternTransformer/transformNacConstraints/@activity/@ownedActivityNode.7/@storyPattern/@objectVariable.2">
                    <attribute href="http://gervarro.org/democles/specification.ecore#//Variable/name"/>
                  </leftExpression>
                </constraintExpression>
              </constraint>
            </objectVariable>
            <linkVariable name="header" target="//NacPatternTransformer/transformNacConstraints/@activity/@ownedActivityNode.7/@storyPattern/@objectVariable.0" source="//NacPatternTransformer/transformNacConstraints/@activity/@ownedActivityNode.7/@storyPattern/@objectVariable.1">
              <type href="http://gervarro.org/democles/specification.ecore#//PatternBody/header"/>
            </linkVariable>
            <linkVariable name="localVariables" target="//NacPatternTransformer/transformNacConstraints/@activity/@ownedActivityNode.7/@storyPattern/@objectVariable.2" source="//NacPatternTransformer/transformNacConstraints/@activity/@ownedActivityNode.7/@storyPattern/@objectVariable.1">
              <type href="http://gervarro.org/democles/specification.ecore#//PatternBody/localVariables"/>
            </linkVariable>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//NacPatternTransformer/transformNacConstraints/@activity/@ownedActivityEdge.8"/>
      </activity>
    </eOperations>
  </eClassifiers>
  <eClassifiers xsi:type="ecore:EClass" name="BindingPatternTransformer" eSuperTypes="//PatternTransformer">
    <eOperations xsi:type="activities:MoflonEOperation" name="isVariableToAdd">
      <eType xsi:type="ecore:EDataType" href="http://www.eclipse.org/emf/2002/Ecore#//EBoolean"/>
      <eParameters name="objectVariable">
        <eType xsi:type="ecore:EClass" href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//patterns/ObjectVariable"/>
      </eParameters>
      <activity owningOperation="//BindingPatternTransformer/isVariableToAdd">
        <ownedActivityEdge source="//BindingPatternTransformer/isVariableToAdd/@activity/@ownedActivityNode.1" target="//BindingPatternTransformer/isVariableToAdd/@activity/@ownedActivityNode.3"/>
        <ownedActivityEdge source="//BindingPatternTransformer/isVariableToAdd/@activity/@ownedActivityNode.3" target="//BindingPatternTransformer/isVariableToAdd/@activity/@ownedActivityNode.2" guard="FAILURE"/>
        <ownedActivityEdge source="//BindingPatternTransformer/isVariableToAdd/@activity/@ownedActivityNode.3" target="//BindingPatternTransformer/isVariableToAdd/@activity/@ownedActivityNode.0" guard="SUCCESS"/>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//BindingPatternTransformer/isVariableToAdd/@activity/@ownedActivityEdge.2">
          <returnValue xsi:type="expressions:LiteralExpression" value="true"/>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StartNode" outgoing="//BindingPatternTransformer/isVariableToAdd/@activity/@ownedActivityEdge.0"/>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//BindingPatternTransformer/isVariableToAdd/@activity/@ownedActivityEdge.1">
          <returnValue xsi:type="expressions:LiteralExpression" value="false"/>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StoryNode" name="HasBindingExpression" comment="HasBindingExpression" outgoing="//BindingPatternTransformer/isVariableToAdd/@activity/@ownedActivityEdge.1 //BindingPatternTransformer/isVariableToAdd/@activity/@ownedActivityEdge.2" incoming="//BindingPatternTransformer/isVariableToAdd/@activity/@ownedActivityEdge.0">
          <storyPattern comment="HasBindingExpression">
            <objectVariable name="objectVariable" outgoingLink="//BindingPatternTransformer/isVariableToAdd/@activity/@ownedActivityNode.3/@storyPattern/@linkVariable.0" bindingState="BOUND">
              <type xsi:type="ecore:EClass" href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//patterns/ObjectVariable"/>
            </objectVariable>
            <objectVariable name="bindingExpression" incomingLink="//BindingPatternTransformer/isVariableToAdd/@activity/@ownedActivityNode.3/@storyPattern/@linkVariable.0">
              <type xsi:type="ecore:EClass" href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//expressions/Expression"/>
            </objectVariable>
            <linkVariable name="bindingExpression" target="//BindingPatternTransformer/isVariableToAdd/@activity/@ownedActivityNode.3/@storyPattern/@objectVariable.1" source="//BindingPatternTransformer/isVariableToAdd/@activity/@ownedActivityNode.3/@storyPattern/@objectVariable.0">
              <type href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//patterns/ObjectVariable/bindingExpression"/>
            </linkVariable>
          </storyPattern>
        </ownedActivityNode>
      </activity>
    </eOperations>
    <eOperations xsi:type="activities:MoflonEOperation" name="postprocess">
      <eParameters name="storyPattern">
        <eType xsi:type="ecore:EClass" href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//patterns/StoryPattern"/>
      </eParameters>
      <eParameters name="pattern">
        <eType xsi:type="ecore:EClass" href="http://gervarro.org/democles/specification.ecore#//Pattern"/>
      </eParameters>
      <activity owningOperation="//BindingPatternTransformer/postprocess">
        <ownedActivityEdge source="//BindingPatternTransformer/postprocess/@activity/@ownedActivityNode.0" target="//BindingPatternTransformer/postprocess/@activity/@ownedActivityNode.6" guard="END"/>
        <ownedActivityEdge source="//BindingPatternTransformer/postprocess/@activity/@ownedActivityNode.0" target="//BindingPatternTransformer/postprocess/@activity/@ownedActivityNode.3" guard="EACH_TIME"/>
        <ownedActivityEdge source="//BindingPatternTransformer/postprocess/@activity/@ownedActivityNode.1" target="//BindingPatternTransformer/postprocess/@activity/@ownedActivityNode.5"/>
        <ownedActivityEdge source="//BindingPatternTransformer/postprocess/@activity/@ownedActivityNode.2" target="//BindingPatternTransformer/postprocess/@activity/@ownedActivityNode.0"/>
        <ownedActivityEdge source="//BindingPatternTransformer/postprocess/@activity/@ownedActivityNode.3" target="//BindingPatternTransformer/postprocess/@activity/@ownedActivityNode.1"/>
        <ownedActivityEdge source="//BindingPatternTransformer/postprocess/@activity/@ownedActivityNode.4" target="//BindingPatternTransformer/postprocess/@activity/@ownedActivityNode.2"/>
        <ownedActivityEdge source="//BindingPatternTransformer/postprocess/@activity/@ownedActivityNode.5" target="//BindingPatternTransformer/postprocess/@activity/@ownedActivityNode.0"/>
        <ownedActivityNode xsi:type="activities:StoryNode" name="ForAllObjectVariablesWithBindingExpression" comment="ForAllObjectVariablesWithBindingExpression" outgoing="//BindingPatternTransformer/postprocess/@activity/@ownedActivityEdge.0 //BindingPatternTransformer/postprocess/@activity/@ownedActivityEdge.1" incoming="//BindingPatternTransformer/postprocess/@activity/@ownedActivityEdge.3 //BindingPatternTransformer/postprocess/@activity/@ownedActivityEdge.6" forEach="true">
          <storyPattern comment="ForAllObjectVariablesWithBindingExpression">
            <objectVariable name="storyPattern" outgoingLink="//BindingPatternTransformer/postprocess/@activity/@ownedActivityNode.0/@storyPattern/@linkVariable.0" bindingState="BOUND">
              <type xsi:type="ecore:EClass" href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//patterns/StoryPattern"/>
            </objectVariable>
            <objectVariable name="objectVariable" incomingLink="//BindingPatternTransformer/postprocess/@activity/@ownedActivityNode.0/@storyPattern/@linkVariable.0" outgoingLink="//BindingPatternTransformer/postprocess/@activity/@ownedActivityNode.0/@storyPattern/@linkVariable.1">
              <type xsi:type="ecore:EClass" href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//patterns/ObjectVariable"/>
            </objectVariable>
            <objectVariable name="bindingExpression" incomingLink="//BindingPatternTransformer/postprocess/@activity/@ownedActivityNode.0/@storyPattern/@linkVariable.1">
              <type xsi:type="ecore:EClass" href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//expressions/Expression"/>
            </objectVariable>
            <linkVariable name="objectVariable" target="//BindingPatternTransformer/postprocess/@activity/@ownedActivityNode.0/@storyPattern/@objectVariable.1" source="//BindingPatternTransformer/postprocess/@activity/@ownedActivityNode.0/@storyPattern/@objectVariable.0">
              <type href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//patterns/StoryPattern/objectVariable"/>
            </linkVariable>
            <linkVariable name="bindingExpression" target="//BindingPatternTransformer/postprocess/@activity/@ownedActivityNode.0/@storyPattern/@objectVariable.2" source="//BindingPatternTransformer/postprocess/@activity/@ownedActivityNode.0/@storyPattern/@objectVariable.1">
              <type href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//patterns/ObjectVariable/bindingExpression"/>
            </linkVariable>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StoryNode" name="LookupReturnVariable" comment="LookupReturnVariable" outgoing="//BindingPatternTransformer/postprocess/@activity/@ownedActivityEdge.2" incoming="//BindingPatternTransformer/postprocess/@activity/@ownedActivityEdge.4">
          <storyPattern comment="LookupReturnVariable">
            <objectVariable name="returnVariable" bindingState="BOUND">
              <type xsi:type="ecore:EClass" href="http://gervarro.org/democles/specification.ecore#//Variable"/>
              <bindingExpression xsi:type="callExpressions:MethodCallExpression" callee="//PatternVariableHandler/lookupVariableInPattern">
                <ownedParameterBindings parameter="//PatternVariableHandler/lookupVariableInPattern/pattern">
                  <valueExpression xsi:type="callExpressions:ParameterExpression" parameter="//BindingPatternTransformer/postprocess/pattern"/>
                </ownedParameterBindings>
                <ownedParameterBindings parameter="//PatternVariableHandler/lookupVariableInPattern/variableName">
                  <valueExpression xsi:type="patternExpressions:AttributeValueExpression" object="//BindingPatternTransformer/postprocess/@activity/@ownedActivityNode.0/@storyPattern/@objectVariable.1">
                    <attribute href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//NamedElement/name"/>
                  </valueExpression>
                </ownedParameterBindings>
                <ownedParameterBindings parameter="//PatternVariableHandler/lookupVariableInPattern/variableType">
                  <valueExpression xsi:type="patternExpressions:ObjectVariableExpression" object="//BindingPatternTransformer/postprocess/@activity/@ownedActivityNode.3/@storyPattern/@objectVariable.0"/>
                </ownedParameterBindings>
                <target xsi:type="patternExpressions:ObjectVariableExpression" object="//BindingPatternTransformer/postprocess/@activity/@ownedActivityNode.2/@storyPattern/@objectVariable.0"/>
              </bindingExpression>
            </objectVariable>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StoryNode" name="LookupExpressionTransformer" comment="LookupExpressionTransformer" outgoing="//BindingPatternTransformer/postprocess/@activity/@ownedActivityEdge.3" incoming="//BindingPatternTransformer/postprocess/@activity/@ownedActivityEdge.5">
          <storyPattern comment="LookupExpressionTransformer">
            <objectVariable type="//BindingPatternTransformer" name="this" outgoingLink="//BindingPatternTransformer/postprocess/@activity/@ownedActivityNode.2/@storyPattern/@linkVariable.0 //BindingPatternTransformer/postprocess/@activity/@ownedActivityNode.2/@storyPattern/@linkVariable.1" bindingState="BOUND"/>
            <objectVariable type="//ExpressionTransformer" name="expressionTransformer" incomingLink="//BindingPatternTransformer/postprocess/@activity/@ownedActivityNode.2/@storyPattern/@linkVariable.1"/>
            <objectVariable name="report" incomingLink="//BindingPatternTransformer/postprocess/@activity/@ownedActivityNode.2/@storyPattern/@linkVariable.0">
              <type xsi:type="ecore:EClass" href="platform:/plugin/org.moflon.sdm.compiler.democles.validation.result/model/Result.ecore#//ValidationReport"/>
            </objectVariable>
            <linkVariable name="validationReport" target="//BindingPatternTransformer/postprocess/@activity/@ownedActivityNode.2/@storyPattern/@objectVariable.2" source="//BindingPatternTransformer/postprocess/@activity/@ownedActivityNode.2/@storyPattern/@objectVariable.0" type="//PatternTransformer/validationReport"/>
            <linkVariable name="expressionTransformer" target="//BindingPatternTransformer/postprocess/@activity/@ownedActivityNode.2/@storyPattern/@objectVariable.1" source="//BindingPatternTransformer/postprocess/@activity/@ownedActivityNode.2/@storyPattern/@objectVariable.0" type="//PatternTransformer/expressionTransformer"/>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StoryNode" name="LookupObjectVariableType" comment="LookupObjectVariableType" outgoing="//BindingPatternTransformer/postprocess/@activity/@ownedActivityEdge.4" incoming="//BindingPatternTransformer/postprocess/@activity/@ownedActivityEdge.1">
          <storyPattern comment="LookupObjectVariableType">
            <objectVariable name="type" incomingLink="//BindingPatternTransformer/postprocess/@activity/@ownedActivityNode.3/@storyPattern/@linkVariable.0">
              <type xsi:type="ecore:EClass" href="http://www.eclipse.org/emf/2002/Ecore#//EClassifier"/>
            </objectVariable>
            <objectVariable name="objectVariable" outgoingLink="//BindingPatternTransformer/postprocess/@activity/@ownedActivityNode.3/@storyPattern/@linkVariable.0" bindingState="BOUND">
              <type xsi:type="ecore:EClass" href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//patterns/ObjectVariable"/>
            </objectVariable>
            <linkVariable name="type" target="//BindingPatternTransformer/postprocess/@activity/@ownedActivityNode.3/@storyPattern/@objectVariable.0" source="//BindingPatternTransformer/postprocess/@activity/@ownedActivityNode.3/@storyPattern/@objectVariable.1">
              <type href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//TypedElement/type"/>
            </linkVariable>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StartNode" outgoing="//BindingPatternTransformer/postprocess/@activity/@ownedActivityEdge.5"/>
        <ownedActivityNode xsi:type="activities:StatementNode" name="TransformAndAssignExpression" outgoing="//BindingPatternTransformer/postprocess/@activity/@ownedActivityEdge.6" incoming="//BindingPatternTransformer/postprocess/@activity/@ownedActivityEdge.2">
          <statementExpression xsi:type="callExpressions:MethodCallExpression" callee="//ExpressionTransformer/transformAndAssignExpression">
            <ownedParameterBindings parameter="//ExpressionTransformer/transformAndAssignExpression/report">
              <valueExpression xsi:type="patternExpressions:ObjectVariableExpression" object="//BindingPatternTransformer/postprocess/@activity/@ownedActivityNode.2/@storyPattern/@objectVariable.2"/>
            </ownedParameterBindings>
            <ownedParameterBindings parameter="//ExpressionTransformer/transformAndAssignExpression/patternVariableHandler">
              <valueExpression xsi:type="patternExpressions:ObjectVariableExpression" object="//BindingPatternTransformer/postprocess/@activity/@ownedActivityNode.2/@storyPattern/@objectVariable.0"/>
            </ownedParameterBindings>
            <ownedParameterBindings parameter="//ExpressionTransformer/transformAndAssignExpression/expression">
              <valueExpression xsi:type="patternExpressions:ObjectVariableExpression" object="//BindingPatternTransformer/postprocess/@activity/@ownedActivityNode.0/@storyPattern/@objectVariable.2"/>
            </ownedParameterBindings>
            <ownedParameterBindings parameter="//ExpressionTransformer/transformAndAssignExpression/pattern">
              <valueExpression xsi:type="callExpressions:ParameterExpression" parameter="//BindingPatternTransformer/postprocess/pattern"/>
            </ownedParameterBindings>
            <ownedParameterBindings parameter="//ExpressionTransformer/transformAndAssignExpression/variable">
              <valueExpression xsi:type="patternExpressions:ObjectVariableExpression" object="//BindingPatternTransformer/postprocess/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.0"/>
            </ownedParameterBindings>
            <ownedParameterBindings parameter="//ExpressionTransformer/transformAndAssignExpression/expectedType">
              <valueExpression xsi:type="patternExpressions:ObjectVariableExpression" object="//BindingPatternTransformer/postprocess/@activity/@ownedActivityNode.3/@storyPattern/@objectVariable.0"/>
            </ownedParameterBindings>
            <target xsi:type="patternExpressions:ObjectVariableExpression" object="//BindingPatternTransformer/postprocess/@activity/@ownedActivityNode.2/@storyPattern/@objectVariable.1"/>
          </statementExpression>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//BindingPatternTransformer/postprocess/@activity/@ownedActivityEdge.0"/>
      </activity>
    </eOperations>
    <eOperations xsi:type="activities:MoflonEOperation" name="processObjectVariables">
      <eParameters name="storyPattern">
        <eType xsi:type="ecore:EClass" href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//patterns/StoryPattern"/>
      </eParameters>
      <eParameters name="pattern">
        <eType xsi:type="ecore:EClass" href="http://gervarro.org/democles/specification.ecore#//Pattern"/>
      </eParameters>
      <activity owningOperation="//BindingPatternTransformer/processObjectVariables">
        <ownedActivityEdge source="//BindingPatternTransformer/processObjectVariables/@activity/@ownedActivityNode.0" target="//BindingPatternTransformer/processObjectVariables/@activity/@ownedActivityNode.2"/>
        <ownedActivityEdge source="//BindingPatternTransformer/processObjectVariables/@activity/@ownedActivityNode.2" target="//BindingPatternTransformer/processObjectVariables/@activity/@ownedActivityNode.1" guard="FAILURE"/>
        <ownedActivityEdge source="//BindingPatternTransformer/processObjectVariables/@activity/@ownedActivityNode.2" target="//BindingPatternTransformer/processObjectVariables/@activity/@ownedActivityNode.1" guard="SUCCESS"/>
        <ownedActivityNode xsi:type="activities:StartNode" outgoing="//BindingPatternTransformer/processObjectVariables/@activity/@ownedActivityEdge.0"/>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//BindingPatternTransformer/processObjectVariables/@activity/@ownedActivityEdge.1 //BindingPatternTransformer/processObjectVariables/@activity/@ownedActivityEdge.2"/>
        <ownedActivityNode xsi:type="activities:StoryNode" name="DoNothing" comment="DoNothing" outgoing="//BindingPatternTransformer/processObjectVariables/@activity/@ownedActivityEdge.1 //BindingPatternTransformer/processObjectVariables/@activity/@ownedActivityEdge.2" incoming="//BindingPatternTransformer/processObjectVariables/@activity/@ownedActivityEdge.0">
          <storyPattern comment="DoNothing"/>
        </ownedActivityNode>
      </activity>
    </eOperations>
  </eClassifiers>
  <eClassifiers xsi:type="ecore:EEnum" name="Errors">
    <eLiterals name="MISSING_DELEGATE" literal="MISSING_DELEGATE"/>
    <eLiterals name="UNHANDLED_EXPRESSION" value="1" literal="UNHANDLED_EXPRESSION"/>
    <eLiterals name="MISSING_PARAMETER_BINDING" value="2" literal="MISSING_PARAMETER_BINDING"/>
    <eLiterals name="INCOMPATIBLE_TYPE" value="3" literal="INCOMPATIBLE_TYPE"/>
  </eClassifiers>
  <eClassifiers xsi:type="ecore:EClass" name="DefaultExpressionTransformer" eSuperTypes="//ExpressionTransformer">
    <eOperations xsi:type="activities:MoflonEOperation" name="createLocalVariableNameAndIncrementCounter">
      <eType xsi:type="ecore:EDataType" href="http://www.eclipse.org/emf/2002/Ecore#//EString"/>
    </eOperations>
    <eOperations xsi:type="activities:MoflonEOperation" name="transformExpression">
      <eType xsi:type="ecore:EClass" href="http://gervarro.org/democles/specification.ecore#//ConstraintVariable"/>
      <eParameters name="report">
        <eType xsi:type="ecore:EClass" href="platform:/plugin/org.moflon.sdm.compiler.democles.validation.result/model/Result.ecore#//ValidationReport"/>
      </eParameters>
      <eParameters name="patternVariableHandler" eType="//PatternVariableHandler"/>
      <eParameters name="expression">
        <eType xsi:type="ecore:EClass" href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//expressions/Expression"/>
      </eParameters>
      <eParameters name="pattern">
        <eType xsi:type="ecore:EClass" href="http://gervarro.org/democles/specification.ecore#//Pattern"/>
      </eParameters>
      <eParameters name="expectedType">
        <eType xsi:type="ecore:EClass" href="http://www.eclipse.org/emf/2002/Ecore#//EClassifier"/>
      </eParameters>
      <activity owningOperation="//DefaultExpressionTransformer/transformExpression">
        <ownedActivityEdge source="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityNode.2" target="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityNode.23"/>
        <ownedActivityEdge source="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityNode.6" target="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityNode.5"/>
        <ownedActivityEdge source="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityNode.7" target="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityNode.14" guard="FAILURE"/>
        <ownedActivityEdge source="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityNode.7" target="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityNode.30" guard="SUCCESS"/>
        <ownedActivityEdge source="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityNode.8" target="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityNode.17" guard="FAILURE"/>
        <ownedActivityEdge source="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityNode.8" target="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityNode.1" guard="SUCCESS"/>
        <ownedActivityEdge source="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityNode.10" target="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityNode.29" guard="FAILURE"/>
        <ownedActivityEdge source="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityNode.10" target="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityNode.22" guard="SUCCESS"/>
        <ownedActivityEdge source="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityNode.11" target="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityNode.3"/>
        <ownedActivityEdge source="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityNode.12" target="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityNode.16" guard="FAILURE"/>
        <ownedActivityEdge source="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityNode.12" target="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityNode.32" guard="SUCCESS"/>
        <ownedActivityEdge source="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityNode.13" target="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityNode.24"/>
        <ownedActivityEdge source="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityNode.14" target="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityNode.4"/>
        <ownedActivityEdge source="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityNode.16" target="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityNode.26" guard="SUCCESS"/>
        <ownedActivityEdge source="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityNode.16" target="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityNode.7" guard="FAILURE"/>
        <ownedActivityEdge source="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityNode.17" target="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityNode.0"/>
        <ownedActivityEdge source="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityNode.19" target="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityNode.12" guard="FAILURE"/>
        <ownedActivityEdge source="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityNode.19" target="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityNode.31" guard="SUCCESS"/>
        <ownedActivityEdge source="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityNode.20" target="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityNode.15"/>
        <ownedActivityEdge source="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityNode.21" target="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityNode.18"/>
        <ownedActivityEdge source="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityNode.22" target="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityNode.28"/>
        <ownedActivityEdge source="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityNode.23" target="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityNode.25" guard="SUCCESS"/>
        <ownedActivityEdge source="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityNode.23" target="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityNode.19" guard="FAILURE"/>
        <ownedActivityEdge source="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityNode.25" target="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityNode.21" guard="FAILURE"/>
        <ownedActivityEdge source="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityNode.25" target="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityNode.8" guard="SUCCESS"/>
        <ownedActivityEdge source="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityNode.26" target="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityNode.10"/>
        <ownedActivityEdge source="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityNode.27" target="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityNode.9"/>
        <ownedActivityEdge source="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityNode.28" target="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityNode.20"/>
        <ownedActivityEdge source="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityNode.29" target="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityNode.11"/>
        <ownedActivityEdge source="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityNode.30" target="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityNode.13"/>
        <ownedActivityEdge source="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityNode.31" target="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityNode.27"/>
        <ownedActivityEdge source="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityNode.32" target="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityNode.6"/>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityEdge.15">
          <returnValue xsi:type="expressions:LiteralExpression" value="null"/>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityEdge.5">
          <returnValue xsi:type="patternExpressions:ObjectVariableExpression" object="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityNode.8/@storyPattern/@objectVariable.0"/>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StartNode" outgoing="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityEdge.0"/>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityEdge.8">
          <returnValue xsi:type="expressions:LiteralExpression" value="null"/>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityEdge.12">
          <returnValue xsi:type="expressions:LiteralExpression" value="null"/>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityEdge.1">
          <returnValue xsi:type="patternExpressions:ObjectVariableExpression" object="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityNode.6/@storyPattern/@objectVariable.0"/>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StoryNode" name="LookupObjectVariable" comment="LookupObjectVariable" outgoing="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityEdge.1" incoming="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityEdge.31">
          <storyPattern comment="LookupObjectVariable">
            <objectVariable name="knownVariable" bindingState="BOUND">
              <type xsi:type="ecore:EClass" href="http://gervarro.org/democles/specification.ecore#//Variable"/>
              <bindingExpression xsi:type="callExpressions:MethodCallExpression" callee="//PatternVariableHandler/lookupVariableInPattern">
                <ownedParameterBindings parameter="//PatternVariableHandler/lookupVariableInPattern/pattern">
                  <valueExpression xsi:type="callExpressions:ParameterExpression" parameter="//DefaultExpressionTransformer/transformExpression/pattern"/>
                </ownedParameterBindings>
                <ownedParameterBindings parameter="//PatternVariableHandler/lookupVariableInPattern/variableName">
                  <valueExpression xsi:type="patternExpressions:AttributeValueExpression" object="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityNode.12/@storyPattern/@objectVariable.0">
                    <attribute href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//NamedElement/name"/>
                  </valueExpression>
                </ownedParameterBindings>
                <ownedParameterBindings parameter="//PatternVariableHandler/lookupVariableInPattern/variableType">
                  <valueExpression xsi:type="patternExpressions:ObjectVariableExpression" object="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityNode.12/@storyPattern/@objectVariable.2"/>
                </ownedParameterBindings>
                <target xsi:type="callExpressions:ParameterExpression" parameter="//DefaultExpressionTransformer/transformExpression/patternVariableHandler"/>
              </bindingExpression>
            </objectVariable>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StoryNode" name="IsParameterExpression" comment="IsParameterExpression" outgoing="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityEdge.2 //DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityEdge.3" incoming="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityEdge.14">
          <storyPattern comment="IsParameterExpression">
            <objectVariable name="parameterExpression" outgoingLink="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityNode.7/@storyPattern/@linkVariable.0" bindingState="BOUND">
              <type xsi:type="ecore:EClass" href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//calls/callExpressions/ParameterExpression"/>
              <bindingExpression xsi:type="callExpressions:ParameterExpression" parameter="//DefaultExpressionTransformer/transformExpression/expression"/>
            </objectVariable>
            <objectVariable name="parameterType" incomingLink="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityNode.7/@storyPattern/@linkVariable.1">
              <type xsi:type="ecore:EClass" href="http://www.eclipse.org/emf/2002/Ecore#//EClassifier"/>
            </objectVariable>
            <objectVariable name="eParameter" incomingLink="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityNode.7/@storyPattern/@linkVariable.0" outgoingLink="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityNode.7/@storyPattern/@linkVariable.1">
              <type xsi:type="ecore:EClass" href="http://www.eclipse.org/emf/2002/Ecore#//EParameter"/>
            </objectVariable>
            <linkVariable name="parameter" target="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityNode.7/@storyPattern/@objectVariable.2" source="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityNode.7/@storyPattern/@objectVariable.0">
              <type href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//calls/callExpressions/ParameterExpression/parameter"/>
            </linkVariable>
            <linkVariable name="eType" target="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityNode.7/@storyPattern/@objectVariable.1" source="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityNode.7/@storyPattern/@objectVariable.2">
              <type href="http://www.eclipse.org/emf/2002/Ecore#//ETypedElement/eType"/>
            </linkVariable>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StoryNode" name="CreateLiteralConstant" comment="CreateLiteralConstant" outgoing="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityEdge.4 //DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityEdge.5" incoming="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityEdge.24">
          <storyPattern comment="CreateLiteralConstant">
            <objectVariable name="literalConstant" bindingState="BOUND">
              <type xsi:type="ecore:EClass" href="http://gervarro.org/democles/specification.ecore#//Constant"/>
              <bindingExpression xsi:type="callExpressions:MethodCallExpression" callee="//ExpressionTransformer/transformExpression">
                <ownedParameterBindings parameter="//ExpressionTransformer/transformExpression/report">
                  <valueExpression xsi:type="callExpressions:ParameterExpression" parameter="//DefaultExpressionTransformer/transformExpression/report"/>
                </ownedParameterBindings>
                <ownedParameterBindings parameter="//ExpressionTransformer/transformExpression/patternVariableHandler">
                  <valueExpression xsi:type="callExpressions:ParameterExpression" parameter="//DefaultExpressionTransformer/transformExpression/patternVariableHandler"/>
                </ownedParameterBindings>
                <ownedParameterBindings parameter="//ExpressionTransformer/transformExpression/expression">
                  <valueExpression xsi:type="patternExpressions:ObjectVariableExpression" object="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityNode.23/@storyPattern/@objectVariable.0"/>
                </ownedParameterBindings>
                <ownedParameterBindings parameter="//ExpressionTransformer/transformExpression/pattern">
                  <valueExpression xsi:type="callExpressions:ParameterExpression" parameter="//DefaultExpressionTransformer/transformExpression/pattern"/>
                </ownedParameterBindings>
                <ownedParameterBindings parameter="//ExpressionTransformer/transformExpression/expectedType">
                  <valueExpression xsi:type="callExpressions:ParameterExpression" parameter="//DefaultExpressionTransformer/transformExpression/expectedType"/>
                </ownedParameterBindings>
                <target xsi:type="patternExpressions:ObjectVariableExpression" object="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityNode.25/@storyPattern/@objectVariable.1"/>
              </bindingExpression>
            </objectVariable>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityEdge.26">
          <returnValue xsi:type="patternExpressions:ObjectVariableExpression" object="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityNode.27/@storyPattern/@objectVariable.0"/>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StoryNode" name="HasReturnValue" comment="HasReturnValue" outgoing="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityEdge.6 //DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityEdge.7" incoming="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityEdge.25">
          <storyPattern comment="HasReturnValue">
            <objectVariable name="returnType" incomingLink="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityNode.10/@storyPattern/@linkVariable.0">
              <type xsi:type="ecore:EClass" href="http://www.eclipse.org/emf/2002/Ecore#//EClassifier"/>
            </objectVariable>
            <objectVariable name="eOperation" outgoingLink="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityNode.10/@storyPattern/@linkVariable.0" bindingState="BOUND">
              <type xsi:type="ecore:EClass" href="http://www.eclipse.org/emf/2002/Ecore#//EOperation"/>
            </objectVariable>
            <linkVariable name="eType" target="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityNode.10/@storyPattern/@objectVariable.0" source="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityNode.10/@storyPattern/@objectVariable.1">
              <type href="http://www.eclipse.org/emf/2002/Ecore#//ETypedElement/eType"/>
            </linkVariable>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StatementNode" name="TransformMethodInvocationWithoutReturnValue" outgoing="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityEdge.8" incoming="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityEdge.28">
          <statementExpression xsi:type="callExpressions:MethodCallExpression" callee="//DefaultExpressionTransformer/transformMethodInvocation">
            <ownedParameterBindings parameter="//DefaultExpressionTransformer/transformMethodInvocation/report">
              <valueExpression xsi:type="callExpressions:ParameterExpression" parameter="//DefaultExpressionTransformer/transformExpression/report"/>
            </ownedParameterBindings>
            <ownedParameterBindings parameter="//DefaultExpressionTransformer/transformMethodInvocation/patternVariableHandler">
              <valueExpression xsi:type="callExpressions:ParameterExpression" parameter="//DefaultExpressionTransformer/transformExpression/patternVariableHandler"/>
            </ownedParameterBindings>
            <ownedParameterBindings parameter="//DefaultExpressionTransformer/transformMethodInvocation/methodCallExpression">
              <valueExpression xsi:type="patternExpressions:ObjectVariableExpression" object="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityNode.16/@storyPattern/@objectVariable.1"/>
            </ownedParameterBindings>
            <ownedParameterBindings parameter="//DefaultExpressionTransformer/transformMethodInvocation/pattern">
              <valueExpression xsi:type="callExpressions:ParameterExpression" parameter="//DefaultExpressionTransformer/transformExpression/pattern"/>
            </ownedParameterBindings>
            <ownedParameterBindings parameter="//DefaultExpressionTransformer/transformMethodInvocation/constraint">
              <valueExpression xsi:type="patternExpressions:ObjectVariableExpression" object="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityNode.26/@storyPattern/@objectVariable.1"/>
            </ownedParameterBindings>
            <target xsi:type="patternExpressions:ObjectVariableExpression" object="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityNode.25/@storyPattern/@objectVariable.0"/>
          </statementExpression>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StoryNode" name="IsObjectVariableExpression" comment="IsObjectVariableExpression" outgoing="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityEdge.9 //DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityEdge.10" incoming="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityEdge.16">
          <storyPattern comment="IsObjectVariableExpression">
            <objectVariable name="objectVariable" incomingLink="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityNode.12/@storyPattern/@linkVariable.1" outgoingLink="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityNode.12/@storyPattern/@linkVariable.0">
              <type xsi:type="ecore:EClass" href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//patterns/ObjectVariable"/>
            </objectVariable>
            <objectVariable name="objectVariableExpression" outgoingLink="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityNode.12/@storyPattern/@linkVariable.1" bindingState="BOUND">
              <type xsi:type="ecore:EClass" href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//patterns/patternExpressions/ObjectVariableExpression"/>
              <bindingExpression xsi:type="callExpressions:ParameterExpression" parameter="//DefaultExpressionTransformer/transformExpression/expression"/>
            </objectVariable>
            <objectVariable name="eClassifier" incomingLink="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityNode.12/@storyPattern/@linkVariable.0">
              <type xsi:type="ecore:EClass" href="http://www.eclipse.org/emf/2002/Ecore#//EClassifier"/>
            </objectVariable>
            <linkVariable name="type" target="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityNode.12/@storyPattern/@objectVariable.2" source="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityNode.12/@storyPattern/@objectVariable.0">
              <type href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//TypedElement/type"/>
            </linkVariable>
            <linkVariable name="object" target="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityNode.12/@storyPattern/@objectVariable.0" source="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityNode.12/@storyPattern/@objectVariable.1">
              <type href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//patterns/patternExpressions/ObjectRefExpression/object"/>
            </linkVariable>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StoryNode" name="LookupParameterVariable" comment="LookupParameterVariable" outgoing="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityEdge.11" incoming="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityEdge.29">
          <storyPattern comment="LookupParameterVariable">
            <objectVariable name="parameterVariable" bindingState="BOUND">
              <type xsi:type="ecore:EClass" href="http://gervarro.org/democles/specification.ecore#//Variable"/>
              <bindingExpression xsi:type="callExpressions:MethodCallExpression" callee="//PatternVariableHandler/lookupVariableInPattern">
                <ownedParameterBindings parameter="//PatternVariableHandler/lookupVariableInPattern/pattern">
                  <valueExpression xsi:type="callExpressions:ParameterExpression" parameter="//DefaultExpressionTransformer/transformExpression/pattern"/>
                </ownedParameterBindings>
                <ownedParameterBindings parameter="//PatternVariableHandler/lookupVariableInPattern/variableName">
                  <valueExpression xsi:type="patternExpressions:AttributeValueExpression" object="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityNode.7/@storyPattern/@objectVariable.2">
                    <attribute href="http://www.eclipse.org/emf/2002/Ecore#//ENamedElement/name"/>
                  </valueExpression>
                </ownedParameterBindings>
                <ownedParameterBindings parameter="//PatternVariableHandler/lookupVariableInPattern/variableType">
                  <valueExpression xsi:type="patternExpressions:ObjectVariableExpression" object="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityNode.7/@storyPattern/@objectVariable.1"/>
                </ownedParameterBindings>
                <target xsi:type="callExpressions:ParameterExpression" parameter="//DefaultExpressionTransformer/transformExpression/patternVariableHandler"/>
              </bindingExpression>
            </objectVariable>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StoryNode" name="ReportUnhandledExpression" comment="ReportUnhandledExpression" outgoing="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityEdge.12" incoming="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityEdge.2">
          <storyPattern comment="ReportUnhandledExpression">
            <objectVariable name="unhandledExpressionType" incomingLink="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityNode.14/@storyPattern/@linkVariable.1" outgoingLink="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityNode.14/@storyPattern/@linkVariable.0" bindingOperator="CREATE">
              <type xsi:type="ecore:EClass" href="platform:/plugin/org.moflon.sdm.compiler.democles.validation.result/model/Result.ecore#//ErrorMessage"/>
              <attributeAssignment>
                <valueExpression xsi:type="callExpressions:MethodCallExpression" callee="//ExpressionTransformer/lookupErrorMessage">
                  <ownedParameterBindings parameter="//ExpressionTransformer/lookupErrorMessage/errorID">
                    <valueExpression xsi:type="expressions:LiteralExpression" value="SDMLanguageToDemocles.Errors.UNHANDLED_EXPRESSION"/>
                  </ownedParameterBindings>
                  <target xsi:type="patternExpressions:ObjectVariableExpression" object="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityNode.25/@storyPattern/@objectVariable.0"/>
                </valueExpression>
                <attribute href="platform:/plugin/org.moflon.sdm.compiler.democles.validation.result/model/Result.ecore#//ErrorMessage/id"/>
              </attributeAssignment>
              <attributeAssignment>
                <valueExpression xsi:type="expressions:LiteralExpression" value="ValidationResult.Severity.ERROR"/>
                <attribute href="platform:/plugin/org.moflon.sdm.compiler.democles.validation.result/model/Result.ecore#//ErrorMessage/severity"/>
              </attributeAssignment>
            </objectVariable>
            <objectVariable name="report" outgoingLink="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityNode.14/@storyPattern/@linkVariable.1" bindingState="BOUND">
              <type xsi:type="ecore:EClass" href="platform:/plugin/org.moflon.sdm.compiler.democles.validation.result/model/Result.ecore#//ValidationReport"/>
            </objectVariable>
            <objectVariable name="expression" incomingLink="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityNode.14/@storyPattern/@linkVariable.0" bindingState="BOUND">
              <type xsi:type="ecore:EClass" href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//expressions/Expression"/>
            </objectVariable>
            <linkVariable name="location" target="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityNode.14/@storyPattern/@objectVariable.2" source="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityNode.14/@storyPattern/@objectVariable.0" bindingOperator="CREATE">
              <type href="platform:/plugin/org.moflon.sdm.compiler.democles.validation.result/model/Result.ecore#//ErrorMessage/location"/>
            </linkVariable>
            <linkVariable name="errorMessages" target="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityNode.14/@storyPattern/@objectVariable.0" source="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityNode.14/@storyPattern/@objectVariable.1" bindingOperator="CREATE">
              <type href="platform:/plugin/org.moflon.sdm.compiler.democles.validation.result/model/Result.ecore#//ValidationReport/errorMessages"/>
            </linkVariable>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityEdge.18">
          <returnValue xsi:type="patternExpressions:ObjectVariableExpression" object="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityNode.22/@storyPattern/@objectVariable.3"/>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StoryNode" name="IsMethodCallExpression" comment="IsMethodCallExpression" outgoing="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityEdge.13 //DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityEdge.14" incoming="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityEdge.9">
          <storyPattern comment="IsMethodCallExpression">
            <objectVariable name="eOperation" incomingLink="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityNode.16/@storyPattern/@linkVariable.0">
              <type xsi:type="ecore:EClass" href="http://www.eclipse.org/emf/2002/Ecore#//EOperation"/>
            </objectVariable>
            <objectVariable name="methodCallExpression" outgoingLink="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityNode.16/@storyPattern/@linkVariable.0" bindingState="BOUND">
              <type xsi:type="ecore:EClass" href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//calls/callExpressions/MethodCallExpression"/>
              <bindingExpression xsi:type="callExpressions:ParameterExpression" parameter="//DefaultExpressionTransformer/transformExpression/expression"/>
            </objectVariable>
            <linkVariable name="callee" target="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityNode.16/@storyPattern/@objectVariable.0" source="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityNode.16/@storyPattern/@objectVariable.1">
              <type href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//calls/Invocation/callee"/>
            </linkVariable>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StoryNode" name="ReportUnhandledDelegatedExpression" comment="ReportUnhandledDelegatedExpression" outgoing="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityEdge.15" incoming="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityEdge.4">
          <storyPattern comment="ReportUnhandledDelegatedExpression">
            <objectVariable name="expression" incomingLink="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityNode.17/@storyPattern/@linkVariable.0" bindingState="BOUND">
              <type xsi:type="ecore:EClass" href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//expressions/Expression"/>
            </objectVariable>
            <objectVariable name="unhandledDelegatedExpression" incomingLink="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityNode.17/@storyPattern/@linkVariable.1" outgoingLink="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityNode.17/@storyPattern/@linkVariable.0" bindingOperator="CREATE">
              <type xsi:type="ecore:EClass" href="platform:/plugin/org.moflon.sdm.compiler.democles.validation.result/model/Result.ecore#//ErrorMessage"/>
              <attributeAssignment>
                <valueExpression xsi:type="expressions:LiteralExpression" value="ValidationResult.Severity.ERROR"/>
                <attribute href="platform:/plugin/org.moflon.sdm.compiler.democles.validation.result/model/Result.ecore#//ErrorMessage/severity"/>
              </attributeAssignment>
              <attributeAssignment>
                <valueExpression xsi:type="callExpressions:MethodCallExpression" callee="//ExpressionTransformer/lookupErrorMessage">
                  <ownedParameterBindings parameter="//ExpressionTransformer/lookupErrorMessage/errorID">
                    <valueExpression xsi:type="expressions:LiteralExpression" value="SDMLanguageToDemocles.Errors.UNHANDLED_EXPRESSION"/>
                  </ownedParameterBindings>
                  <target xsi:type="patternExpressions:ObjectVariableExpression" object="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityNode.25/@storyPattern/@objectVariable.0"/>
                </valueExpression>
                <attribute href="platform:/plugin/org.moflon.sdm.compiler.democles.validation.result/model/Result.ecore#//ErrorMessage/id"/>
              </attributeAssignment>
            </objectVariable>
            <objectVariable name="report" outgoingLink="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityNode.17/@storyPattern/@linkVariable.1" bindingState="BOUND">
              <type xsi:type="ecore:EClass" href="platform:/plugin/org.moflon.sdm.compiler.democles.validation.result/model/Result.ecore#//ValidationReport"/>
            </objectVariable>
            <linkVariable name="location" target="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityNode.17/@storyPattern/@objectVariable.0" source="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityNode.17/@storyPattern/@objectVariable.1" bindingOperator="CREATE">
              <type href="platform:/plugin/org.moflon.sdm.compiler.democles.validation.result/model/Result.ecore#//ErrorMessage/location"/>
            </linkVariable>
            <linkVariable name="errorMessages" target="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityNode.17/@storyPattern/@objectVariable.1" source="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityNode.17/@storyPattern/@objectVariable.2" bindingOperator="CREATE">
              <type href="platform:/plugin/org.moflon.sdm.compiler.democles.validation.result/model/Result.ecore#//ValidationReport/errorMessages"/>
            </linkVariable>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityEdge.19">
          <returnValue xsi:type="expressions:LiteralExpression" value="null"/>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StoryNode" name="IsAttributeValueExpression" comment="IsAttributeValueExpression" outgoing="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityEdge.16 //DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityEdge.17" incoming="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityEdge.22">
          <storyPattern comment="IsAttributeValueExpression">
            <objectVariable name="attributeValueExpression" outgoingLink="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityNode.19/@storyPattern/@linkVariable.0 //DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityNode.19/@storyPattern/@linkVariable.1" bindingState="BOUND">
              <type xsi:type="ecore:EClass" href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//patterns/patternExpressions/AttributeValueExpression"/>
              <bindingExpression xsi:type="callExpressions:ParameterExpression" parameter="//DefaultExpressionTransformer/transformExpression/expression"/>
            </objectVariable>
            <objectVariable name="attributeOwner" incomingLink="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityNode.19/@storyPattern/@linkVariable.1">
              <type xsi:type="ecore:EClass" href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//patterns/ObjectVariable"/>
            </objectVariable>
            <objectVariable name="eAttribute" incomingLink="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityNode.19/@storyPattern/@linkVariable.0" outgoingLink="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityNode.19/@storyPattern/@linkVariable.2">
              <type xsi:type="ecore:EClass" href="http://www.eclipse.org/emf/2002/Ecore#//EAttribute"/>
            </objectVariable>
            <objectVariable name="attributeType" incomingLink="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityNode.19/@storyPattern/@linkVariable.2">
              <type xsi:type="ecore:EClass" href="http://www.eclipse.org/emf/2002/Ecore#//EDataType"/>
            </objectVariable>
            <linkVariable name="attribute" target="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityNode.19/@storyPattern/@objectVariable.2" source="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityNode.19/@storyPattern/@objectVariable.0">
              <type href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//patterns/patternExpressions/AttributeValueExpression/attribute"/>
            </linkVariable>
            <linkVariable name="object" target="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityNode.19/@storyPattern/@objectVariable.1" source="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityNode.19/@storyPattern/@objectVariable.0">
              <type href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//patterns/patternExpressions/ObjectRefExpression/object"/>
            </linkVariable>
            <linkVariable name="eType" target="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityNode.19/@storyPattern/@objectVariable.3" source="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityNode.19/@storyPattern/@objectVariable.2">
              <type href="http://www.eclipse.org/emf/2002/Ecore#//ETypedElement/eType"/>
            </linkVariable>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StatementNode" name="TransformMethodInvocationWithReturnValue" outgoing="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityEdge.18" incoming="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityEdge.27">
          <statementExpression xsi:type="callExpressions:MethodCallExpression" callee="//DefaultExpressionTransformer/transformMethodInvocation">
            <ownedParameterBindings parameter="//DefaultExpressionTransformer/transformMethodInvocation/report">
              <valueExpression xsi:type="callExpressions:ParameterExpression" parameter="//DefaultExpressionTransformer/transformExpression/report"/>
            </ownedParameterBindings>
            <ownedParameterBindings parameter="//DefaultExpressionTransformer/transformMethodInvocation/patternVariableHandler">
              <valueExpression xsi:type="callExpressions:ParameterExpression" parameter="//DefaultExpressionTransformer/transformExpression/patternVariableHandler"/>
            </ownedParameterBindings>
            <ownedParameterBindings parameter="//DefaultExpressionTransformer/transformMethodInvocation/methodCallExpression">
              <valueExpression xsi:type="patternExpressions:ObjectVariableExpression" object="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityNode.16/@storyPattern/@objectVariable.1"/>
            </ownedParameterBindings>
            <ownedParameterBindings parameter="//DefaultExpressionTransformer/transformMethodInvocation/pattern">
              <valueExpression xsi:type="callExpressions:ParameterExpression" parameter="//DefaultExpressionTransformer/transformExpression/pattern"/>
            </ownedParameterBindings>
            <ownedParameterBindings parameter="//DefaultExpressionTransformer/transformMethodInvocation/constraint">
              <valueExpression xsi:type="patternExpressions:ObjectVariableExpression" object="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityNode.26/@storyPattern/@objectVariable.1"/>
            </ownedParameterBindings>
            <target xsi:type="patternExpressions:ObjectVariableExpression" object="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityNode.25/@storyPattern/@objectVariable.0"/>
          </statementExpression>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StoryNode" name="HandleMissingDelegate" comment="HandleMissingDelegate" outgoing="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityEdge.19" incoming="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityEdge.23">
          <storyPattern comment="HandleMissingDelegate">
            <objectVariable name="report" outgoingLink="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityNode.21/@storyPattern/@linkVariable.0" bindingState="BOUND">
              <type xsi:type="ecore:EClass" href="platform:/plugin/org.moflon.sdm.compiler.democles.validation.result/model/Result.ecore#//ValidationReport"/>
            </objectVariable>
            <objectVariable name="expression" incomingLink="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityNode.21/@storyPattern/@linkVariable.1" bindingState="BOUND">
              <type xsi:type="ecore:EClass" href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//expressions/Expression"/>
            </objectVariable>
            <objectVariable name="missingDelegateError" incomingLink="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityNode.21/@storyPattern/@linkVariable.0" outgoingLink="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityNode.21/@storyPattern/@linkVariable.1" bindingOperator="CREATE">
              <type xsi:type="ecore:EClass" href="platform:/plugin/org.moflon.sdm.compiler.democles.validation.result/model/Result.ecore#//ErrorMessage"/>
              <attributeAssignment>
                <valueExpression xsi:type="expressions:LiteralExpression" value="Severity.ERROR"/>
                <attribute href="platform:/plugin/org.moflon.sdm.compiler.democles.validation.result/model/Result.ecore#//ErrorMessage/severity"/>
              </attributeAssignment>
              <attributeAssignment>
                <valueExpression xsi:type="callExpressions:MethodCallExpression" callee="//ExpressionTransformer/lookupErrorMessage">
                  <ownedParameterBindings parameter="//ExpressionTransformer/lookupErrorMessage/errorID">
                    <valueExpression xsi:type="expressions:LiteralExpression" value="SDMLanguageToDemocles.Errors.MISSING_DELEGATE"/>
                  </ownedParameterBindings>
                  <target xsi:type="patternExpressions:ObjectVariableExpression" object="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityNode.25/@storyPattern/@objectVariable.0"/>
                </valueExpression>
                <attribute href="platform:/plugin/org.moflon.sdm.compiler.democles.validation.result/model/Result.ecore#//ErrorMessage/id"/>
              </attributeAssignment>
            </objectVariable>
            <linkVariable name="errorMessages" target="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityNode.21/@storyPattern/@objectVariable.2" source="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityNode.21/@storyPattern/@objectVariable.0" bindingOperator="CREATE">
              <type href="platform:/plugin/org.moflon.sdm.compiler.democles.validation.result/model/Result.ecore#//ValidationReport/errorMessages"/>
            </linkVariable>
            <linkVariable name="location" target="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityNode.21/@storyPattern/@objectVariable.1" source="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityNode.21/@storyPattern/@objectVariable.2" bindingOperator="CREATE">
              <type href="platform:/plugin/org.moflon.sdm.compiler.democles.validation.result/model/Result.ecore#//ErrorMessage/location"/>
            </linkVariable>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StoryNode" name="HandleReturnVariable" comment="HandleReturnVariable" outgoing="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityEdge.20" incoming="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityEdge.7">
          <storyPattern comment="HandleReturnVariable">
            <objectVariable name="returnVariableParameter" incomingLink="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityNode.22/@storyPattern/@linkVariable.2" outgoingLink="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityNode.22/@storyPattern/@linkVariable.0" bindingOperator="CREATE">
              <type xsi:type="ecore:EClass" href="http://gervarro.org/democles/specification.ecore#//ConstraintParameter"/>
            </objectVariable>
            <objectVariable name="methodCallPatternBody" outgoingLink="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityNode.22/@storyPattern/@linkVariable.1" bindingState="BOUND">
              <type xsi:type="ecore:EClass" href="http://gervarro.org/democles/specification.ecore#//PatternBody"/>
            </objectVariable>
            <objectVariable name="methodCallConstraint" outgoingLink="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityNode.22/@storyPattern/@linkVariable.2" bindingState="BOUND">
              <type xsi:type="ecore:EClass" href="http://gervarro.org/democles/constraint/emf.ecore#//Operation"/>
            </objectVariable>
            <objectVariable name="returnVariable" incomingLink="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityNode.22/@storyPattern/@linkVariable.0 //DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityNode.22/@storyPattern/@linkVariable.1" outgoingLink="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityNode.22/@storyPattern/@linkVariable.3" bindingOperator="CREATE">
              <type xsi:type="ecore:EClass" href="http://gervarro.org/democles/constraint/emf.ecore#//EMFVariable"/>
              <attributeAssignment>
                <valueExpression xsi:type="callExpressions:MethodCallExpression" callee="//DefaultExpressionTransformer/createLocalVariableNameAndIncrementCounter">
                  <target xsi:type="patternExpressions:ObjectVariableExpression" object="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityNode.25/@storyPattern/@objectVariable.0"/>
                </valueExpression>
                <attribute href="http://gervarro.org/democles/specification.ecore#//Variable/name"/>
              </attributeAssignment>
            </objectVariable>
            <objectVariable name="returnType" incomingLink="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityNode.22/@storyPattern/@linkVariable.3" bindingState="BOUND">
              <type xsi:type="ecore:EClass" href="http://www.eclipse.org/emf/2002/Ecore#//EClassifier"/>
            </objectVariable>
            <linkVariable name="reference" target="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityNode.22/@storyPattern/@objectVariable.3" source="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityNode.22/@storyPattern/@objectVariable.0" bindingOperator="CREATE">
              <type href="http://gervarro.org/democles/specification.ecore#//ConstraintParameter/reference"/>
            </linkVariable>
            <linkVariable name="localVariables" target="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityNode.22/@storyPattern/@objectVariable.3" source="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityNode.22/@storyPattern/@objectVariable.1" bindingOperator="CREATE">
              <type href="http://gervarro.org/democles/specification.ecore#//PatternBody/localVariables"/>
            </linkVariable>
            <linkVariable name="parameters" target="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityNode.22/@storyPattern/@objectVariable.0" source="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityNode.22/@storyPattern/@objectVariable.2" bindingOperator="CREATE">
              <type href="http://gervarro.org/democles/specification.ecore#//Constraint/parameters"/>
            </linkVariable>
            <linkVariable name="eClassifier" target="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityNode.22/@storyPattern/@objectVariable.4" source="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityNode.22/@storyPattern/@objectVariable.3" bindingOperator="CREATE">
              <type href="http://gervarro.org/democles/constraint/emf.ecore#//EMFVariable/eClassifier"/>
            </linkVariable>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StoryNode" name="IsLiteralExpression" comment="IsLiteralExpression" outgoing="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityEdge.21 //DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityEdge.22" incoming="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityEdge.0">
          <storyPattern comment="IsLiteralExpression">
            <objectVariable name="literalExpression" bindingState="BOUND">
              <type xsi:type="ecore:EClass" href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//expressions/LiteralExpression"/>
              <bindingExpression xsi:type="callExpressions:ParameterExpression" parameter="//DefaultExpressionTransformer/transformExpression/expression"/>
            </objectVariable>
            <objectVariable type="//DefaultExpressionTransformer" name="this" bindingState="BOUND"/>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityEdge.11">
          <returnValue xsi:type="patternExpressions:ObjectVariableExpression" object="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityNode.13/@storyPattern/@objectVariable.0"/>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StoryNode" name="LookupDelegate" comment="LookupDelegate" outgoing="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityEdge.23 //DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityEdge.24" incoming="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityEdge.21">
          <storyPattern comment="LookupDelegate">
            <objectVariable type="//DefaultExpressionTransformer" name="this" outgoingLink="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityNode.25/@storyPattern/@linkVariable.0" bindingState="BOUND"/>
            <objectVariable type="//ExpressionTransformer" name="delegate" incomingLink="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityNode.25/@storyPattern/@linkVariable.0"/>
            <linkVariable name="delegate" target="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityNode.25/@storyPattern/@objectVariable.1" source="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityNode.25/@storyPattern/@objectVariable.0" type="//ExpressionTransformer/delegate"/>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StoryNode" name="CreateMethodCallConstraint" comment="CreateMethodCallConstraint" outgoing="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityEdge.25" incoming="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityEdge.13">
          <storyPattern comment="CreateMethodCallConstraint">
            <objectVariable name="pattern" incomingLink="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityNode.26/@storyPattern/@linkVariable.2" bindingState="BOUND">
              <type xsi:type="ecore:EClass" href="http://gervarro.org/democles/specification.ecore#//Pattern"/>
            </objectVariable>
            <objectVariable name="methodCallConstraint" incomingLink="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityNode.26/@storyPattern/@linkVariable.1" outgoingLink="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityNode.26/@storyPattern/@linkVariable.0" bindingOperator="CREATE">
              <type xsi:type="ecore:EClass" href="http://gervarro.org/democles/constraint/emf.ecore#//Operation"/>
            </objectVariable>
            <objectVariable name="eOperation" incomingLink="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityNode.26/@storyPattern/@linkVariable.0" bindingState="BOUND">
              <type xsi:type="ecore:EClass" href="http://www.eclipse.org/emf/2002/Ecore#//EOperation"/>
            </objectVariable>
            <objectVariable name="methodCallPatternBody" outgoingLink="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityNode.26/@storyPattern/@linkVariable.1 //DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityNode.26/@storyPattern/@linkVariable.2">
              <type xsi:type="ecore:EClass" href="http://gervarro.org/democles/specification.ecore#//PatternBody"/>
            </objectVariable>
            <linkVariable name="eModelElement" target="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityNode.26/@storyPattern/@objectVariable.2" source="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityNode.26/@storyPattern/@objectVariable.1" bindingOperator="CREATE">
              <type href="http://gervarro.org/democles/constraint/emf.ecore#//EMFConstraint/eModelElement"/>
            </linkVariable>
            <linkVariable name="constraints" target="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityNode.26/@storyPattern/@objectVariable.1" source="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityNode.26/@storyPattern/@objectVariable.3" bindingOperator="CREATE">
              <type href="http://gervarro.org/democles/specification.ecore#//PatternBody/constraints"/>
            </linkVariable>
            <linkVariable name="header" target="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityNode.26/@storyPattern/@objectVariable.0" source="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityNode.26/@storyPattern/@objectVariable.3">
              <type href="http://gervarro.org/democles/specification.ecore#//PatternBody/header"/>
            </linkVariable>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StoryNode" name="LinkOwnerAndAttribute" comment="LinkOwnerAndAttribute" outgoing="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityEdge.26" incoming="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityEdge.30">
          <storyPattern comment="LinkOwnerAndAttribute">
            <objectVariable name="attributeVariable" bindingState="BOUND">
              <type xsi:type="ecore:EClass" href="http://gervarro.org/democles/specification.ecore#//Variable"/>
              <bindingExpression xsi:type="callExpressions:MethodCallExpression" callee="//PatternVariableHandler/getAttributeVariable">
                <ownedParameterBindings parameter="//PatternVariableHandler/getAttributeVariable/attributeOwner">
                  <valueExpression xsi:type="patternExpressions:ObjectVariableExpression" object="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityNode.19/@storyPattern/@objectVariable.1"/>
                </ownedParameterBindings>
                <ownedParameterBindings parameter="//PatternVariableHandler/getAttributeVariable/eAttribute">
                  <valueExpression xsi:type="patternExpressions:ObjectVariableExpression" object="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityNode.19/@storyPattern/@objectVariable.2"/>
                </ownedParameterBindings>
                <ownedParameterBindings parameter="//PatternVariableHandler/getAttributeVariable/pattern">
                  <valueExpression xsi:type="callExpressions:ParameterExpression" parameter="//DefaultExpressionTransformer/transformExpression/pattern"/>
                </ownedParameterBindings>
                <target xsi:type="callExpressions:ParameterExpression" parameter="//DefaultExpressionTransformer/transformExpression/patternVariableHandler"/>
              </bindingExpression>
            </objectVariable>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StatementNode" name="CheckMethodReturnTypeCompatibility" outgoing="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityEdge.27" incoming="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityEdge.20">
          <statementExpression xsi:type="callExpressions:MethodCallExpression" callee="//DefaultExpressionTransformer/checkTypeCompatibility">
            <ownedParameterBindings parameter="//DefaultExpressionTransformer/checkTypeCompatibility/report">
              <valueExpression xsi:type="callExpressions:ParameterExpression" parameter="//DefaultExpressionTransformer/transformExpression/report"/>
            </ownedParameterBindings>
            <ownedParameterBindings parameter="//DefaultExpressionTransformer/checkTypeCompatibility/expression">
              <valueExpression xsi:type="patternExpressions:ObjectVariableExpression" object="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityNode.16/@storyPattern/@objectVariable.1"/>
            </ownedParameterBindings>
            <ownedParameterBindings parameter="//DefaultExpressionTransformer/checkTypeCompatibility/expectedType">
              <valueExpression xsi:type="callExpressions:ParameterExpression" parameter="//DefaultExpressionTransformer/transformExpression/expectedType"/>
            </ownedParameterBindings>
            <ownedParameterBindings parameter="//DefaultExpressionTransformer/checkTypeCompatibility/producedType">
              <valueExpression xsi:type="patternExpressions:ObjectVariableExpression" object="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityNode.10/@storyPattern/@objectVariable.0"/>
            </ownedParameterBindings>
            <target xsi:type="patternExpressions:ObjectVariableExpression" object="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityNode.25/@storyPattern/@objectVariable.0"/>
          </statementExpression>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StatementNode" name="CheckEmptyReturnTypeCompatibility" outgoing="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityEdge.28" incoming="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityEdge.6">
          <statementExpression xsi:type="callExpressions:MethodCallExpression" callee="//DefaultExpressionTransformer/checkTypeCompatibility">
            <ownedParameterBindings parameter="//DefaultExpressionTransformer/checkTypeCompatibility/report">
              <valueExpression xsi:type="callExpressions:ParameterExpression" parameter="//DefaultExpressionTransformer/transformExpression/report"/>
            </ownedParameterBindings>
            <ownedParameterBindings parameter="//DefaultExpressionTransformer/checkTypeCompatibility/expression">
              <valueExpression xsi:type="patternExpressions:ObjectVariableExpression" object="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityNode.16/@storyPattern/@objectVariable.1"/>
            </ownedParameterBindings>
            <ownedParameterBindings parameter="//DefaultExpressionTransformer/checkTypeCompatibility/expectedType">
              <valueExpression xsi:type="callExpressions:ParameterExpression" parameter="//DefaultExpressionTransformer/transformExpression/expectedType"/>
            </ownedParameterBindings>
            <ownedParameterBindings parameter="//DefaultExpressionTransformer/checkTypeCompatibility/producedType">
              <valueExpression xsi:type="expressions:LiteralExpression" value="null"/>
            </ownedParameterBindings>
            <target xsi:type="patternExpressions:ObjectVariableExpression" object="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityNode.25/@storyPattern/@objectVariable.0"/>
          </statementExpression>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StatementNode" name="CheckParameterTypeCompatibility" outgoing="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityEdge.29" incoming="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityEdge.3">
          <statementExpression xsi:type="callExpressions:MethodCallExpression" callee="//DefaultExpressionTransformer/checkTypeCompatibility">
            <ownedParameterBindings parameter="//DefaultExpressionTransformer/checkTypeCompatibility/report">
              <valueExpression xsi:type="callExpressions:ParameterExpression" parameter="//DefaultExpressionTransformer/transformExpression/report"/>
            </ownedParameterBindings>
            <ownedParameterBindings parameter="//DefaultExpressionTransformer/checkTypeCompatibility/expression">
              <valueExpression xsi:type="patternExpressions:ObjectVariableExpression" object="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityNode.7/@storyPattern/@objectVariable.0"/>
            </ownedParameterBindings>
            <ownedParameterBindings parameter="//DefaultExpressionTransformer/checkTypeCompatibility/expectedType">
              <valueExpression xsi:type="callExpressions:ParameterExpression" parameter="//DefaultExpressionTransformer/transformExpression/expectedType"/>
            </ownedParameterBindings>
            <ownedParameterBindings parameter="//DefaultExpressionTransformer/checkTypeCompatibility/producedType">
              <valueExpression xsi:type="patternExpressions:ObjectVariableExpression" object="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityNode.7/@storyPattern/@objectVariable.1"/>
            </ownedParameterBindings>
            <target xsi:type="patternExpressions:ObjectVariableExpression" object="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityNode.25/@storyPattern/@objectVariable.0"/>
          </statementExpression>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StatementNode" name="CheckAttributeTypeCompatibility" outgoing="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityEdge.30" incoming="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityEdge.17">
          <statementExpression xsi:type="callExpressions:MethodCallExpression" callee="//DefaultExpressionTransformer/checkTypeCompatibility">
            <ownedParameterBindings parameter="//DefaultExpressionTransformer/checkTypeCompatibility/report">
              <valueExpression xsi:type="callExpressions:ParameterExpression" parameter="//DefaultExpressionTransformer/transformExpression/report"/>
            </ownedParameterBindings>
            <ownedParameterBindings parameter="//DefaultExpressionTransformer/checkTypeCompatibility/expression">
              <valueExpression xsi:type="patternExpressions:ObjectVariableExpression" object="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityNode.19/@storyPattern/@objectVariable.0"/>
            </ownedParameterBindings>
            <ownedParameterBindings parameter="//DefaultExpressionTransformer/checkTypeCompatibility/expectedType">
              <valueExpression xsi:type="callExpressions:ParameterExpression" parameter="//DefaultExpressionTransformer/transformExpression/expectedType"/>
            </ownedParameterBindings>
            <ownedParameterBindings parameter="//DefaultExpressionTransformer/checkTypeCompatibility/producedType">
              <valueExpression xsi:type="patternExpressions:ObjectVariableExpression" object="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityNode.19/@storyPattern/@objectVariable.3"/>
            </ownedParameterBindings>
            <target xsi:type="patternExpressions:ObjectVariableExpression" object="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityNode.25/@storyPattern/@objectVariable.0"/>
          </statementExpression>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StatementNode" name="CheckObjectVariableTypeCompatibility" outgoing="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityEdge.31" incoming="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityEdge.10">
          <statementExpression xsi:type="callExpressions:MethodCallExpression" callee="//DefaultExpressionTransformer/checkTypeCompatibility">
            <ownedParameterBindings parameter="//DefaultExpressionTransformer/checkTypeCompatibility/report">
              <valueExpression xsi:type="callExpressions:ParameterExpression" parameter="//DefaultExpressionTransformer/transformExpression/report"/>
            </ownedParameterBindings>
            <ownedParameterBindings parameter="//DefaultExpressionTransformer/checkTypeCompatibility/expression">
              <valueExpression xsi:type="patternExpressions:ObjectVariableExpression" object="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityNode.12/@storyPattern/@objectVariable.1"/>
            </ownedParameterBindings>
            <ownedParameterBindings parameter="//DefaultExpressionTransformer/checkTypeCompatibility/expectedType">
              <valueExpression xsi:type="callExpressions:ParameterExpression" parameter="//DefaultExpressionTransformer/transformExpression/expectedType"/>
            </ownedParameterBindings>
            <ownedParameterBindings parameter="//DefaultExpressionTransformer/checkTypeCompatibility/producedType">
              <valueExpression xsi:type="patternExpressions:ObjectVariableExpression" object="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityNode.12/@storyPattern/@objectVariable.2"/>
            </ownedParameterBindings>
            <target xsi:type="patternExpressions:ObjectVariableExpression" object="//DefaultExpressionTransformer/transformExpression/@activity/@ownedActivityNode.25/@storyPattern/@objectVariable.0"/>
          </statementExpression>
        </ownedActivityNode>
      </activity>
    </eOperations>
    <eOperations xsi:type="activities:MoflonEOperation" name="transformMethodInvocation">
      <eParameters name="report">
        <eType xsi:type="ecore:EClass" href="platform:/plugin/org.moflon.sdm.compiler.democles.validation.result/model/Result.ecore#//ValidationReport"/>
      </eParameters>
      <eParameters name="patternVariableHandler" eType="//PatternVariableHandler"/>
      <eParameters name="methodCallExpression">
        <eType xsi:type="ecore:EClass" href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//calls/callExpressions/MethodCallExpression"/>
      </eParameters>
      <eParameters name="pattern">
        <eType xsi:type="ecore:EClass" href="http://gervarro.org/democles/specification.ecore#//Pattern"/>
      </eParameters>
      <eParameters name="constraint">
        <eType xsi:type="ecore:EClass" href="http://gervarro.org/democles/specification.ecore#//Constraint"/>
      </eParameters>
      <activity owningOperation="//DefaultExpressionTransformer/transformMethodInvocation">
        <ownedActivityEdge source="//DefaultExpressionTransformer/transformMethodInvocation/@activity/@ownedActivityNode.0" target="//DefaultExpressionTransformer/transformMethodInvocation/@activity/@ownedActivityNode.6" guard="SUCCESS"/>
        <ownedActivityEdge source="//DefaultExpressionTransformer/transformMethodInvocation/@activity/@ownedActivityNode.0" target="//DefaultExpressionTransformer/transformMethodInvocation/@activity/@ownedActivityNode.6" guard="FAILURE"/>
        <ownedActivityEdge source="//DefaultExpressionTransformer/transformMethodInvocation/@activity/@ownedActivityNode.1" target="//DefaultExpressionTransformer/transformMethodInvocation/@activity/@ownedActivityNode.3"/>
        <ownedActivityEdge source="//DefaultExpressionTransformer/transformMethodInvocation/@activity/@ownedActivityNode.3" target="//DefaultExpressionTransformer/transformMethodInvocation/@activity/@ownedActivityNode.6"/>
        <ownedActivityEdge source="//DefaultExpressionTransformer/transformMethodInvocation/@activity/@ownedActivityNode.4" target="//DefaultExpressionTransformer/transformMethodInvocation/@activity/@ownedActivityNode.0" guard="SUCCESS"/>
        <ownedActivityEdge source="//DefaultExpressionTransformer/transformMethodInvocation/@activity/@ownedActivityNode.4" target="//DefaultExpressionTransformer/transformMethodInvocation/@activity/@ownedActivityNode.7" guard="FAILURE"/>
        <ownedActivityEdge source="//DefaultExpressionTransformer/transformMethodInvocation/@activity/@ownedActivityNode.5" target="//DefaultExpressionTransformer/transformMethodInvocation/@activity/@ownedActivityNode.1"/>
        <ownedActivityEdge source="//DefaultExpressionTransformer/transformMethodInvocation/@activity/@ownedActivityNode.6" target="//DefaultExpressionTransformer/transformMethodInvocation/@activity/@ownedActivityNode.2" guard="END"/>
        <ownedActivityEdge source="//DefaultExpressionTransformer/transformMethodInvocation/@activity/@ownedActivityNode.6" target="//DefaultExpressionTransformer/transformMethodInvocation/@activity/@ownedActivityNode.4" guard="EACH_TIME"/>
        <ownedActivityEdge source="//DefaultExpressionTransformer/transformMethodInvocation/@activity/@ownedActivityNode.7" target="//DefaultExpressionTransformer/transformMethodInvocation/@activity/@ownedActivityNode.6"/>
        <ownedActivityNode xsi:type="activities:StoryNode" name="HandleCallParameter" comment="HandleCallParameter" outgoing="//DefaultExpressionTransformer/transformMethodInvocation/@activity/@ownedActivityEdge.0 //DefaultExpressionTransformer/transformMethodInvocation/@activity/@ownedActivityEdge.1" incoming="//DefaultExpressionTransformer/transformMethodInvocation/@activity/@ownedActivityEdge.4">
          <storyPattern comment="HandleCallParameter">
            <objectVariable name="constraint" outgoingLink="//DefaultExpressionTransformer/transformMethodInvocation/@activity/@ownedActivityNode.0/@storyPattern/@linkVariable.0" bindingState="BOUND">
              <type xsi:type="ecore:EClass" href="http://gervarro.org/democles/specification.ecore#//Constraint"/>
            </objectVariable>
            <objectVariable name="parameter" incomingLink="//DefaultExpressionTransformer/transformMethodInvocation/@activity/@ownedActivityNode.0/@storyPattern/@linkVariable.0" outgoingLink="//DefaultExpressionTransformer/transformMethodInvocation/@activity/@ownedActivityNode.0/@storyPattern/@linkVariable.1" bindingOperator="CREATE">
              <type xsi:type="ecore:EClass" href="http://gervarro.org/democles/specification.ecore#//ConstraintParameter"/>
            </objectVariable>
            <objectVariable name="parameterValue" incomingLink="//DefaultExpressionTransformer/transformMethodInvocation/@activity/@ownedActivityNode.0/@storyPattern/@linkVariable.1" bindingState="BOUND">
              <type xsi:type="ecore:EClass" href="http://gervarro.org/democles/specification.ecore#//ConstraintVariable"/>
              <bindingExpression xsi:type="callExpressions:MethodCallExpression" callee="//DefaultExpressionTransformer/transformExpression">
                <ownedParameterBindings parameter="//DefaultExpressionTransformer/transformExpression/report">
                  <valueExpression xsi:type="callExpressions:ParameterExpression" parameter="//DefaultExpressionTransformer/transformMethodInvocation/report"/>
                </ownedParameterBindings>
                <ownedParameterBindings parameter="//DefaultExpressionTransformer/transformExpression/patternVariableHandler">
                  <valueExpression xsi:type="callExpressions:ParameterExpression" parameter="//DefaultExpressionTransformer/transformMethodInvocation/patternVariableHandler"/>
                </ownedParameterBindings>
                <ownedParameterBindings parameter="//DefaultExpressionTransformer/transformExpression/expression">
                  <valueExpression xsi:type="patternExpressions:ObjectVariableExpression" object="//DefaultExpressionTransformer/transformMethodInvocation/@activity/@ownedActivityNode.4/@storyPattern/@objectVariable.3"/>
                </ownedParameterBindings>
                <ownedParameterBindings parameter="//DefaultExpressionTransformer/transformExpression/pattern">
                  <valueExpression xsi:type="callExpressions:ParameterExpression" parameter="//DefaultExpressionTransformer/transformMethodInvocation/pattern"/>
                </ownedParameterBindings>
                <ownedParameterBindings parameter="//DefaultExpressionTransformer/transformExpression/expectedType">
                  <valueExpression xsi:type="patternExpressions:ObjectVariableExpression" object="//DefaultExpressionTransformer/transformMethodInvocation/@activity/@ownedActivityNode.6/@storyPattern/@objectVariable.2"/>
                </ownedParameterBindings>
                <target xsi:type="patternExpressions:ObjectVariableExpression" object="//DefaultExpressionTransformer/transformMethodInvocation/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.1"/>
              </bindingExpression>
            </objectVariable>
            <linkVariable name="parameters" target="//DefaultExpressionTransformer/transformMethodInvocation/@activity/@ownedActivityNode.0/@storyPattern/@objectVariable.1" source="//DefaultExpressionTransformer/transformMethodInvocation/@activity/@ownedActivityNode.0/@storyPattern/@objectVariable.0" bindingOperator="CREATE">
              <type href="http://gervarro.org/democles/specification.ecore#//Constraint/parameters"/>
            </linkVariable>
            <linkVariable name="reference" target="//DefaultExpressionTransformer/transformMethodInvocation/@activity/@ownedActivityNode.0/@storyPattern/@objectVariable.2" source="//DefaultExpressionTransformer/transformMethodInvocation/@activity/@ownedActivityNode.0/@storyPattern/@objectVariable.1" bindingOperator="CREATE">
              <type href="http://gervarro.org/democles/specification.ecore#//ConstraintParameter/reference"/>
            </linkVariable>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StoryNode" name="LookupMethodInvocationTarget" comment="LookupMethodInvocationTarget" outgoing="//DefaultExpressionTransformer/transformMethodInvocation/@activity/@ownedActivityEdge.2" incoming="//DefaultExpressionTransformer/transformMethodInvocation/@activity/@ownedActivityEdge.6">
          <storyPattern comment="LookupMethodInvocationTarget">
            <objectVariable name="ownerType" incomingLink="//DefaultExpressionTransformer/transformMethodInvocation/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.2">
              <type xsi:type="ecore:EClass" href="http://www.eclipse.org/emf/2002/Ecore#//EClass"/>
            </objectVariable>
            <objectVariable type="//DefaultExpressionTransformer" name="this" bindingState="BOUND"/>
            <objectVariable name="methodOwnerExpression" incomingLink="//DefaultExpressionTransformer/transformMethodInvocation/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.1">
              <type xsi:type="ecore:EClass" href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//expressions/Expression"/>
            </objectVariable>
            <objectVariable name="methodCallExpression" outgoingLink="//DefaultExpressionTransformer/transformMethodInvocation/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.0 //DefaultExpressionTransformer/transformMethodInvocation/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.1" bindingState="BOUND">
              <type xsi:type="ecore:EClass" href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//calls/callExpressions/MethodCallExpression"/>
            </objectVariable>
            <objectVariable name="eOperation" incomingLink="//DefaultExpressionTransformer/transformMethodInvocation/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.0" outgoingLink="//DefaultExpressionTransformer/transformMethodInvocation/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.2">
              <type xsi:type="ecore:EClass" href="http://www.eclipse.org/emf/2002/Ecore#//EOperation"/>
            </objectVariable>
            <linkVariable name="callee" target="//DefaultExpressionTransformer/transformMethodInvocation/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.4" source="//DefaultExpressionTransformer/transformMethodInvocation/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.3">
              <type href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//calls/Invocation/callee"/>
            </linkVariable>
            <linkVariable name="target" target="//DefaultExpressionTransformer/transformMethodInvocation/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.2" source="//DefaultExpressionTransformer/transformMethodInvocation/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.3">
              <type href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//calls/callExpressions/MethodCallExpression/target"/>
            </linkVariable>
            <linkVariable name="eContainingClass" target="//DefaultExpressionTransformer/transformMethodInvocation/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.0" source="//DefaultExpressionTransformer/transformMethodInvocation/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.4">
              <type href="http://www.eclipse.org/emf/2002/Ecore#//EOperation/eContainingClass"/>
            </linkVariable>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//DefaultExpressionTransformer/transformMethodInvocation/@activity/@ownedActivityEdge.7"/>
        <ownedActivityNode xsi:type="activities:StoryNode" name="HandleMethodOwnerVariable" comment="HandleMethodOwnerVariable" outgoing="//DefaultExpressionTransformer/transformMethodInvocation/@activity/@ownedActivityEdge.3" incoming="//DefaultExpressionTransformer/transformMethodInvocation/@activity/@ownedActivityEdge.2">
          <storyPattern comment="HandleMethodOwnerVariable">
            <objectVariable name="constraint" outgoingLink="//DefaultExpressionTransformer/transformMethodInvocation/@activity/@ownedActivityNode.3/@storyPattern/@linkVariable.0" bindingState="BOUND">
              <type xsi:type="ecore:EClass" href="http://gervarro.org/democles/specification.ecore#//Constraint"/>
            </objectVariable>
            <objectVariable name="methodOwnerVariable" incomingLink="//DefaultExpressionTransformer/transformMethodInvocation/@activity/@ownedActivityNode.3/@storyPattern/@linkVariable.1" bindingState="BOUND">
              <type xsi:type="ecore:EClass" href="http://gervarro.org/democles/specification.ecore#//Variable"/>
              <bindingExpression xsi:type="callExpressions:MethodCallExpression" callee="//ExpressionTransformer/transformExpression">
                <ownedParameterBindings parameter="//ExpressionTransformer/transformExpression/report">
                  <valueExpression xsi:type="callExpressions:ParameterExpression" parameter="//DefaultExpressionTransformer/transformMethodInvocation/report"/>
                </ownedParameterBindings>
                <ownedParameterBindings parameter="//ExpressionTransformer/transformExpression/patternVariableHandler">
                  <valueExpression xsi:type="callExpressions:ParameterExpression" parameter="//DefaultExpressionTransformer/transformMethodInvocation/patternVariableHandler"/>
                </ownedParameterBindings>
                <ownedParameterBindings parameter="//ExpressionTransformer/transformExpression/expression">
                  <valueExpression xsi:type="patternExpressions:ObjectVariableExpression" object="//DefaultExpressionTransformer/transformMethodInvocation/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.2"/>
                </ownedParameterBindings>
                <ownedParameterBindings parameter="//ExpressionTransformer/transformExpression/pattern">
                  <valueExpression xsi:type="callExpressions:ParameterExpression" parameter="//DefaultExpressionTransformer/transformMethodInvocation/pattern"/>
                </ownedParameterBindings>
                <ownedParameterBindings parameter="//ExpressionTransformer/transformExpression/expectedType">
                  <valueExpression xsi:type="patternExpressions:ObjectVariableExpression" object="//DefaultExpressionTransformer/transformMethodInvocation/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.0"/>
                </ownedParameterBindings>
                <target xsi:type="patternExpressions:ObjectVariableExpression" object="//DefaultExpressionTransformer/transformMethodInvocation/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.1"/>
              </bindingExpression>
            </objectVariable>
            <objectVariable name="methodOwnerParameter" incomingLink="//DefaultExpressionTransformer/transformMethodInvocation/@activity/@ownedActivityNode.3/@storyPattern/@linkVariable.0" outgoingLink="//DefaultExpressionTransformer/transformMethodInvocation/@activity/@ownedActivityNode.3/@storyPattern/@linkVariable.1" bindingOperator="CREATE">
              <type xsi:type="ecore:EClass" href="http://gervarro.org/democles/specification.ecore#//ConstraintParameter"/>
            </objectVariable>
            <linkVariable name="parameters" target="//DefaultExpressionTransformer/transformMethodInvocation/@activity/@ownedActivityNode.3/@storyPattern/@objectVariable.2" source="//DefaultExpressionTransformer/transformMethodInvocation/@activity/@ownedActivityNode.3/@storyPattern/@objectVariable.0" bindingOperator="CREATE">
              <type href="http://gervarro.org/democles/specification.ecore#//Constraint/parameters"/>
            </linkVariable>
            <linkVariable name="reference" target="//DefaultExpressionTransformer/transformMethodInvocation/@activity/@ownedActivityNode.3/@storyPattern/@objectVariable.1" source="//DefaultExpressionTransformer/transformMethodInvocation/@activity/@ownedActivityNode.3/@storyPattern/@objectVariable.2" bindingOperator="CREATE">
              <type href="http://gervarro.org/democles/specification.ecore#//ConstraintParameter/reference"/>
            </linkVariable>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StoryNode" name="LookupCorrespondingParameterBinding" comment="LookupCorrespondingParameterBinding" outgoing="//DefaultExpressionTransformer/transformMethodInvocation/@activity/@ownedActivityEdge.4 //DefaultExpressionTransformer/transformMethodInvocation/@activity/@ownedActivityEdge.5" incoming="//DefaultExpressionTransformer/transformMethodInvocation/@activity/@ownedActivityEdge.8">
          <storyPattern comment="LookupCorrespondingParameterBinding">
            <objectVariable name="methodCallExpression" incomingLink="//DefaultExpressionTransformer/transformMethodInvocation/@activity/@ownedActivityNode.4/@storyPattern/@linkVariable.2" bindingState="BOUND">
              <type xsi:type="ecore:EClass" href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//calls/callExpressions/MethodCallExpression"/>
            </objectVariable>
            <objectVariable name="parameterBinding" outgoingLink="//DefaultExpressionTransformer/transformMethodInvocation/@activity/@ownedActivityNode.4/@storyPattern/@linkVariable.0 //DefaultExpressionTransformer/transformMethodInvocation/@activity/@ownedActivityNode.4/@storyPattern/@linkVariable.1 //DefaultExpressionTransformer/transformMethodInvocation/@activity/@ownedActivityNode.4/@storyPattern/@linkVariable.2">
              <type xsi:type="ecore:EClass" href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//calls/ParameterBinding"/>
            </objectVariable>
            <objectVariable name="eParameter" incomingLink="//DefaultExpressionTransformer/transformMethodInvocation/@activity/@ownedActivityNode.4/@storyPattern/@linkVariable.0" bindingState="BOUND">
              <type xsi:type="ecore:EClass" href="http://www.eclipse.org/emf/2002/Ecore#//EParameter"/>
            </objectVariable>
            <objectVariable name="parameterValueExpression" incomingLink="//DefaultExpressionTransformer/transformMethodInvocation/@activity/@ownedActivityNode.4/@storyPattern/@linkVariable.1">
              <type xsi:type="ecore:EClass" href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//expressions/Expression"/>
            </objectVariable>
            <linkVariable name="parameter" target="//DefaultExpressionTransformer/transformMethodInvocation/@activity/@ownedActivityNode.4/@storyPattern/@objectVariable.2" source="//DefaultExpressionTransformer/transformMethodInvocation/@activity/@ownedActivityNode.4/@storyPattern/@objectVariable.1">
              <type href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//calls/ParameterBinding/parameter"/>
            </linkVariable>
            <linkVariable name="valueExpression" target="//DefaultExpressionTransformer/transformMethodInvocation/@activity/@ownedActivityNode.4/@storyPattern/@objectVariable.3" source="//DefaultExpressionTransformer/transformMethodInvocation/@activity/@ownedActivityNode.4/@storyPattern/@objectVariable.1">
              <type href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//calls/ParameterBinding/valueExpression"/>
            </linkVariable>
            <linkVariable name="invocation" target="//DefaultExpressionTransformer/transformMethodInvocation/@activity/@ownedActivityNode.4/@storyPattern/@objectVariable.0" source="//DefaultExpressionTransformer/transformMethodInvocation/@activity/@ownedActivityNode.4/@storyPattern/@objectVariable.1">
              <type href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//calls/ParameterBinding/invocation"/>
            </linkVariable>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StartNode" outgoing="//DefaultExpressionTransformer/transformMethodInvocation/@activity/@ownedActivityEdge.6"/>
        <ownedActivityNode xsi:type="activities:StoryNode" name="ForEachParameter" comment="ForEachParameter" outgoing="//DefaultExpressionTransformer/transformMethodInvocation/@activity/@ownedActivityEdge.7 //DefaultExpressionTransformer/transformMethodInvocation/@activity/@ownedActivityEdge.8" incoming="//DefaultExpressionTransformer/transformMethodInvocation/@activity/@ownedActivityEdge.0 //DefaultExpressionTransformer/transformMethodInvocation/@activity/@ownedActivityEdge.1 //DefaultExpressionTransformer/transformMethodInvocation/@activity/@ownedActivityEdge.3 //DefaultExpressionTransformer/transformMethodInvocation/@activity/@ownedActivityEdge.9" forEach="true">
          <storyPattern comment="ForEachParameter">
            <objectVariable name="eOperation" incomingLink="//DefaultExpressionTransformer/transformMethodInvocation/@activity/@ownedActivityNode.6/@storyPattern/@linkVariable.0" bindingState="BOUND">
              <type xsi:type="ecore:EClass" href="http://www.eclipse.org/emf/2002/Ecore#//EOperation"/>
            </objectVariable>
            <objectVariable name="eParameter" outgoingLink="//DefaultExpressionTransformer/transformMethodInvocation/@activity/@ownedActivityNode.6/@storyPattern/@linkVariable.1 //DefaultExpressionTransformer/transformMethodInvocation/@activity/@ownedActivityNode.6/@storyPattern/@linkVariable.0">
              <type xsi:type="ecore:EClass" href="http://www.eclipse.org/emf/2002/Ecore#//EParameter"/>
            </objectVariable>
            <objectVariable name="parameterType" incomingLink="//DefaultExpressionTransformer/transformMethodInvocation/@activity/@ownedActivityNode.6/@storyPattern/@linkVariable.1">
              <type xsi:type="ecore:EClass" href="http://www.eclipse.org/emf/2002/Ecore#//EClassifier"/>
            </objectVariable>
            <linkVariable name="eOperation" target="//DefaultExpressionTransformer/transformMethodInvocation/@activity/@ownedActivityNode.6/@storyPattern/@objectVariable.0" source="//DefaultExpressionTransformer/transformMethodInvocation/@activity/@ownedActivityNode.6/@storyPattern/@objectVariable.1">
              <type href="http://www.eclipse.org/emf/2002/Ecore#//EParameter/eOperation"/>
            </linkVariable>
            <linkVariable name="eType" target="//DefaultExpressionTransformer/transformMethodInvocation/@activity/@ownedActivityNode.6/@storyPattern/@objectVariable.2" source="//DefaultExpressionTransformer/transformMethodInvocation/@activity/@ownedActivityNode.6/@storyPattern/@objectVariable.1">
              <type href="http://www.eclipse.org/emf/2002/Ecore#//ETypedElement/eType"/>
            </linkVariable>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StoryNode" name="ReportMissingParameterBinding" comment="ReportMissingParameterBinding" outgoing="//DefaultExpressionTransformer/transformMethodInvocation/@activity/@ownedActivityEdge.9" incoming="//DefaultExpressionTransformer/transformMethodInvocation/@activity/@ownedActivityEdge.5">
          <storyPattern comment="ReportMissingParameterBinding">
            <objectVariable name="report" outgoingLink="//DefaultExpressionTransformer/transformMethodInvocation/@activity/@ownedActivityNode.7/@storyPattern/@linkVariable.0" bindingState="BOUND">
              <type xsi:type="ecore:EClass" href="platform:/plugin/org.moflon.sdm.compiler.democles.validation.result/model/Result.ecore#//ValidationReport"/>
            </objectVariable>
            <objectVariable name="methodCallExpression" incomingLink="//DefaultExpressionTransformer/transformMethodInvocation/@activity/@ownedActivityNode.7/@storyPattern/@linkVariable.1" bindingState="BOUND">
              <type xsi:type="ecore:EClass" href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//calls/callExpressions/MethodCallExpression"/>
            </objectVariable>
            <objectVariable name="missingParameterBindingError" incomingLink="//DefaultExpressionTransformer/transformMethodInvocation/@activity/@ownedActivityNode.7/@storyPattern/@linkVariable.0" outgoingLink="//DefaultExpressionTransformer/transformMethodInvocation/@activity/@ownedActivityNode.7/@storyPattern/@linkVariable.1" bindingOperator="CREATE">
              <type xsi:type="ecore:EClass" href="platform:/plugin/org.moflon.sdm.compiler.democles.validation.result/model/Result.ecore#//ErrorMessage"/>
              <attributeAssignment>
                <valueExpression xsi:type="expressions:LiteralExpression" value="ValidationResult.Severity.ERROR"/>
                <attribute href="platform:/plugin/org.moflon.sdm.compiler.democles.validation.result/model/Result.ecore#//ErrorMessage/severity"/>
              </attributeAssignment>
              <attributeAssignment>
                <valueExpression xsi:type="callExpressions:MethodCallExpression" callee="//ExpressionTransformer/lookupErrorMessage">
                  <ownedParameterBindings parameter="//ExpressionTransformer/lookupErrorMessage/errorID">
                    <valueExpression xsi:type="expressions:LiteralExpression" value="SDMLanguageToDemocles.Errors.MISSING_PARAMETER_BINDING"/>
                  </ownedParameterBindings>
                  <target xsi:type="patternExpressions:ObjectVariableExpression" object="//DefaultExpressionTransformer/transformMethodInvocation/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.1"/>
                </valueExpression>
                <attribute href="platform:/plugin/org.moflon.sdm.compiler.democles.validation.result/model/Result.ecore#//ErrorMessage/id"/>
              </attributeAssignment>
            </objectVariable>
            <linkVariable name="errorMessages" target="//DefaultExpressionTransformer/transformMethodInvocation/@activity/@ownedActivityNode.7/@storyPattern/@objectVariable.2" source="//DefaultExpressionTransformer/transformMethodInvocation/@activity/@ownedActivityNode.7/@storyPattern/@objectVariable.0" bindingOperator="CREATE">
              <type href="platform:/plugin/org.moflon.sdm.compiler.democles.validation.result/model/Result.ecore#//ValidationReport/errorMessages"/>
            </linkVariable>
            <linkVariable name="location" target="//DefaultExpressionTransformer/transformMethodInvocation/@activity/@ownedActivityNode.7/@storyPattern/@objectVariable.1" source="//DefaultExpressionTransformer/transformMethodInvocation/@activity/@ownedActivityNode.7/@storyPattern/@objectVariable.2" bindingOperator="CREATE">
              <type href="platform:/plugin/org.moflon.sdm.compiler.democles.validation.result/model/Result.ecore#//ErrorMessage/location"/>
            </linkVariable>
          </storyPattern>
        </ownedActivityNode>
      </activity>
    </eOperations>
    <eOperations xsi:type="activities:MoflonEOperation" name="checkTypeCompatibility">
      <eParameters name="report">
        <eType xsi:type="ecore:EClass" href="platform:/plugin/org.moflon.sdm.compiler.democles.validation.result/model/Result.ecore#//ValidationReport"/>
      </eParameters>
      <eParameters name="expression">
        <eType xsi:type="ecore:EClass" href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//expressions/Expression"/>
      </eParameters>
      <eParameters name="expectedType">
        <eType xsi:type="ecore:EClass" href="http://www.eclipse.org/emf/2002/Ecore#//EClassifier"/>
      </eParameters>
      <eParameters name="producedType">
        <eType xsi:type="ecore:EClass" href="http://www.eclipse.org/emf/2002/Ecore#//EClassifier"/>
      </eParameters>
      <activity owningOperation="//DefaultExpressionTransformer/checkTypeCompatibility">
        <ownedActivityEdge source="//DefaultExpressionTransformer/checkTypeCompatibility/@activity/@ownedActivityNode.0" target="//DefaultExpressionTransformer/checkTypeCompatibility/@activity/@ownedActivityNode.1"/>
        <ownedActivityEdge source="//DefaultExpressionTransformer/checkTypeCompatibility/@activity/@ownedActivityNode.1" target="//DefaultExpressionTransformer/checkTypeCompatibility/@activity/@ownedActivityNode.2" guard="SUCCESS"/>
        <ownedActivityEdge source="//DefaultExpressionTransformer/checkTypeCompatibility/@activity/@ownedActivityNode.1" target="//DefaultExpressionTransformer/checkTypeCompatibility/@activity/@ownedActivityNode.3" guard="FAILURE"/>
        <ownedActivityEdge source="//DefaultExpressionTransformer/checkTypeCompatibility/@activity/@ownedActivityNode.2" target="//DefaultExpressionTransformer/checkTypeCompatibility/@activity/@ownedActivityNode.4" guard="FAILURE"/>
        <ownedActivityEdge source="//DefaultExpressionTransformer/checkTypeCompatibility/@activity/@ownedActivityNode.2" target="//DefaultExpressionTransformer/checkTypeCompatibility/@activity/@ownedActivityNode.6" guard="SUCCESS"/>
        <ownedActivityEdge source="//DefaultExpressionTransformer/checkTypeCompatibility/@activity/@ownedActivityNode.4" target="//DefaultExpressionTransformer/checkTypeCompatibility/@activity/@ownedActivityNode.7"/>
        <ownedActivityEdge source="//DefaultExpressionTransformer/checkTypeCompatibility/@activity/@ownedActivityNode.7" target="//DefaultExpressionTransformer/checkTypeCompatibility/@activity/@ownedActivityNode.8" guard="SUCCESS"/>
        <ownedActivityEdge source="//DefaultExpressionTransformer/checkTypeCompatibility/@activity/@ownedActivityNode.7" target="//DefaultExpressionTransformer/checkTypeCompatibility/@activity/@ownedActivityNode.9" guard="FAILURE"/>
        <ownedActivityEdge source="//DefaultExpressionTransformer/checkTypeCompatibility/@activity/@ownedActivityNode.9" target="//DefaultExpressionTransformer/checkTypeCompatibility/@activity/@ownedActivityNode.5"/>
        <ownedActivityNode xsi:type="activities:StartNode" outgoing="//DefaultExpressionTransformer/checkTypeCompatibility/@activity/@ownedActivityEdge.0"/>
        <ownedActivityNode xsi:type="activities:StoryNode" name="IsDataTypeExpected" comment="IsDataTypeExpected" outgoing="//DefaultExpressionTransformer/checkTypeCompatibility/@activity/@ownedActivityEdge.1 //DefaultExpressionTransformer/checkTypeCompatibility/@activity/@ownedActivityEdge.2" incoming="//DefaultExpressionTransformer/checkTypeCompatibility/@activity/@ownedActivityEdge.0">
          <storyPattern comment="IsDataTypeExpected">
            <objectVariable name="expectedDataType" bindingState="BOUND">
              <type xsi:type="ecore:EClass" href="http://www.eclipse.org/emf/2002/Ecore#//EDataType"/>
              <bindingExpression xsi:type="callExpressions:ParameterExpression" parameter="//DefaultExpressionTransformer/checkTypeCompatibility/expectedType"/>
            </objectVariable>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StoryNode" name="IsJavaObjectExpected" comment="IsJavaObjectExpected" outgoing="//DefaultExpressionTransformer/checkTypeCompatibility/@activity/@ownedActivityEdge.3 //DefaultExpressionTransformer/checkTypeCompatibility/@activity/@ownedActivityEdge.4" incoming="//DefaultExpressionTransformer/checkTypeCompatibility/@activity/@ownedActivityEdge.1">
          <storyPattern comment="IsJavaObjectExpected">
            <objectVariable name="expectedDataType" incomingLink="//DefaultExpressionTransformer/checkTypeCompatibility/@activity/@ownedActivityNode.2/@storyPattern/@linkVariable.0" bindingState="BOUND">
              <type xsi:type="ecore:EClass" href="http://www.eclipse.org/emf/2002/Ecore#//EDataType"/>
              <constraint>
                <constraintExpression xsi:type="expressions:ComparisonExpression" operator="EQUAL">
                  <rightExpression xsi:type="expressions:LiteralExpression" value="&quot;EJavaObject&quot;"/>
                  <leftExpression xsi:type="patternExpressions:AttributeValueExpression" object="//DefaultExpressionTransformer/checkTypeCompatibility/@activity/@ownedActivityNode.2/@storyPattern/@objectVariable.0">
                    <attribute href="http://www.eclipse.org/emf/2002/Ecore#//ENamedElement/name"/>
                  </leftExpression>
                </constraintExpression>
              </constraint>
            </objectVariable>
            <objectVariable name="ecorePackage" outgoingLink="//DefaultExpressionTransformer/checkTypeCompatibility/@activity/@ownedActivityNode.2/@storyPattern/@linkVariable.0">
              <type xsi:type="ecore:EClass" href="http://www.eclipse.org/emf/2002/Ecore#//EPackage"/>
              <constraint>
                <constraintExpression xsi:type="expressions:ComparisonExpression" operator="EQUAL">
                  <rightExpression xsi:type="expressions:LiteralExpression" value="&quot;ecore&quot;"/>
                  <leftExpression xsi:type="patternExpressions:AttributeValueExpression" object="//DefaultExpressionTransformer/checkTypeCompatibility/@activity/@ownedActivityNode.2/@storyPattern/@objectVariable.1">
                    <attribute href="http://www.eclipse.org/emf/2002/Ecore#//ENamedElement/name"/>
                  </leftExpression>
                </constraintExpression>
              </constraint>
              <constraint>
                <constraintExpression xsi:type="expressions:ComparisonExpression" operator="EQUAL">
                  <rightExpression xsi:type="expressions:LiteralExpression" value="&quot;ecore&quot;"/>
                  <leftExpression xsi:type="patternExpressions:AttributeValueExpression" object="//DefaultExpressionTransformer/checkTypeCompatibility/@activity/@ownedActivityNode.2/@storyPattern/@objectVariable.1">
                    <attribute href="http://www.eclipse.org/emf/2002/Ecore#//EPackage/nsPrefix"/>
                  </leftExpression>
                </constraintExpression>
              </constraint>
              <constraint>
                <constraintExpression xsi:type="expressions:ComparisonExpression" operator="EQUAL">
                  <rightExpression xsi:type="expressions:LiteralExpression" value="&quot;http://www.eclipse.org/emf/2002/Ecore&quot;"/>
                  <leftExpression xsi:type="patternExpressions:AttributeValueExpression" object="//DefaultExpressionTransformer/checkTypeCompatibility/@activity/@ownedActivityNode.2/@storyPattern/@objectVariable.1">
                    <attribute href="http://www.eclipse.org/emf/2002/Ecore#//EPackage/nsURI"/>
                  </leftExpression>
                </constraintExpression>
              </constraint>
            </objectVariable>
            <linkVariable name="eClassifiers" target="//DefaultExpressionTransformer/checkTypeCompatibility/@activity/@ownedActivityNode.2/@storyPattern/@objectVariable.0" source="//DefaultExpressionTransformer/checkTypeCompatibility/@activity/@ownedActivityNode.2/@storyPattern/@objectVariable.1">
              <type href="http://www.eclipse.org/emf/2002/Ecore#//EPackage/eClassifiers"/>
            </linkVariable>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//DefaultExpressionTransformer/checkTypeCompatibility/@activity/@ownedActivityEdge.2"/>
        <ownedActivityNode xsi:type="activities:StoryNode" name="LookupThisObject" comment="LookupThisObject" outgoing="//DefaultExpressionTransformer/checkTypeCompatibility/@activity/@ownedActivityEdge.5" incoming="//DefaultExpressionTransformer/checkTypeCompatibility/@activity/@ownedActivityEdge.3">
          <storyPattern comment="LookupThisObject">
            <objectVariable type="//DefaultExpressionTransformer" name="this" bindingState="BOUND"/>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//DefaultExpressionTransformer/checkTypeCompatibility/@activity/@ownedActivityEdge.8"/>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//DefaultExpressionTransformer/checkTypeCompatibility/@activity/@ownedActivityEdge.4"/>
        <ownedActivityNode xsi:type="activities:StatementNode" name="AreEqual" outgoing="//DefaultExpressionTransformer/checkTypeCompatibility/@activity/@ownedActivityEdge.6 //DefaultExpressionTransformer/checkTypeCompatibility/@activity/@ownedActivityEdge.7" incoming="//DefaultExpressionTransformer/checkTypeCompatibility/@activity/@ownedActivityEdge.5">
          <statementExpression xsi:type="callExpressions:MethodCallExpression" callee="//DefaultExpressionTransformer/areEqual">
            <ownedParameterBindings parameter="//DefaultExpressionTransformer/areEqual/left">
              <valueExpression xsi:type="callExpressions:ParameterExpression" parameter="//DefaultExpressionTransformer/checkTypeCompatibility/expectedType"/>
            </ownedParameterBindings>
            <ownedParameterBindings parameter="//DefaultExpressionTransformer/areEqual/right">
              <valueExpression xsi:type="callExpressions:ParameterExpression" parameter="//DefaultExpressionTransformer/checkTypeCompatibility/producedType"/>
            </ownedParameterBindings>
            <target xsi:type="patternExpressions:ObjectVariableExpression" object="//DefaultExpressionTransformer/checkTypeCompatibility/@activity/@ownedActivityNode.4/@storyPattern/@objectVariable.0"/>
          </statementExpression>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//DefaultExpressionTransformer/checkTypeCompatibility/@activity/@ownedActivityEdge.6"/>
        <ownedActivityNode xsi:type="activities:StoryNode" name="ReportIncompatibleTypes" comment="ReportIncompatibleTypes" outgoing="//DefaultExpressionTransformer/checkTypeCompatibility/@activity/@ownedActivityEdge.8" incoming="//DefaultExpressionTransformer/checkTypeCompatibility/@activity/@ownedActivityEdge.7">
          <storyPattern comment="ReportIncompatibleTypes">
            <objectVariable name="report" outgoingLink="//DefaultExpressionTransformer/checkTypeCompatibility/@activity/@ownedActivityNode.9/@storyPattern/@linkVariable.0" bindingState="BOUND">
              <type xsi:type="ecore:EClass" href="platform:/plugin/org.moflon.sdm.compiler.democles.validation.result/model/Result.ecore#//ValidationReport"/>
            </objectVariable>
            <objectVariable name="expression" incomingLink="//DefaultExpressionTransformer/checkTypeCompatibility/@activity/@ownedActivityNode.9/@storyPattern/@linkVariable.1" bindingState="BOUND">
              <type xsi:type="ecore:EClass" href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//expressions/Expression"/>
            </objectVariable>
            <objectVariable name="incompatibleType" incomingLink="//DefaultExpressionTransformer/checkTypeCompatibility/@activity/@ownedActivityNode.9/@storyPattern/@linkVariable.0" outgoingLink="//DefaultExpressionTransformer/checkTypeCompatibility/@activity/@ownedActivityNode.9/@storyPattern/@linkVariable.1" bindingOperator="CREATE">
              <type xsi:type="ecore:EClass" href="platform:/plugin/org.moflon.sdm.compiler.democles.validation.result/model/Result.ecore#//ErrorMessage"/>
              <attributeAssignment>
                <valueExpression xsi:type="expressions:LiteralExpression" value="Severity.WARNING"/>
                <attribute href="platform:/plugin/org.moflon.sdm.compiler.democles.validation.result/model/Result.ecore#//ErrorMessage/severity"/>
              </attributeAssignment>
              <attributeAssignment>
                <valueExpression xsi:type="callExpressions:MethodCallExpression" callee="//ExpressionTransformer/lookupErrorMessage">
                  <ownedParameterBindings parameter="//ExpressionTransformer/lookupErrorMessage/errorID">
                    <valueExpression xsi:type="expressions:LiteralExpression" value="Errors.INCOMPATIBLE_TYPE"/>
                  </ownedParameterBindings>
                  <target xsi:type="patternExpressions:ObjectVariableExpression" object="//DefaultExpressionTransformer/checkTypeCompatibility/@activity/@ownedActivityNode.4/@storyPattern/@objectVariable.0"/>
                </valueExpression>
                <attribute href="platform:/plugin/org.moflon.sdm.compiler.democles.validation.result/model/Result.ecore#//ErrorMessage/id"/>
              </attributeAssignment>
            </objectVariable>
            <linkVariable name="errorMessages" target="//DefaultExpressionTransformer/checkTypeCompatibility/@activity/@ownedActivityNode.9/@storyPattern/@objectVariable.2" source="//DefaultExpressionTransformer/checkTypeCompatibility/@activity/@ownedActivityNode.9/@storyPattern/@objectVariable.0" bindingOperator="CREATE">
              <type href="platform:/plugin/org.moflon.sdm.compiler.democles.validation.result/model/Result.ecore#//ValidationReport/errorMessages"/>
            </linkVariable>
            <linkVariable name="location" target="//DefaultExpressionTransformer/checkTypeCompatibility/@activity/@ownedActivityNode.9/@storyPattern/@objectVariable.1" source="//DefaultExpressionTransformer/checkTypeCompatibility/@activity/@ownedActivityNode.9/@storyPattern/@objectVariable.2" bindingOperator="CREATE">
              <type href="platform:/plugin/org.moflon.sdm.compiler.democles.validation.result/model/Result.ecore#//ErrorMessage/location"/>
            </linkVariable>
          </storyPattern>
        </ownedActivityNode>
      </activity>
    </eOperations>
    <eOperations xsi:type="activities:MoflonEOperation" name="areEqual">
      <eType xsi:type="ecore:EDataType" href="http://www.eclipse.org/emf/2002/Ecore#//EBoolean"/>
      <eParameters name="left">
        <eType xsi:type="ecore:EClass" href="http://www.eclipse.org/emf/2002/Ecore#//EClassifier"/>
      </eParameters>
      <eParameters name="right">
        <eType xsi:type="ecore:EClass" href="http://www.eclipse.org/emf/2002/Ecore#//EClassifier"/>
      </eParameters>
    </eOperations>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="calleeETypeNameCounter" ordered="false" lowerBound="1">
      <eType xsi:type="ecore:EDataType" href="http://www.eclipse.org/emf/2002/Ecore#//EInt"/>
    </eStructuralFeatures>
  </eClassifiers>
  <eClassifiers xsi:type="ecore:EClass" name="PatternTransformer" eSuperTypes="//PatternVariableHandler">
    <eOperations xsi:type="activities:MoflonEOperation" name="addLinkToPattern">
      <eParameters name="linkVariable">
        <eType xsi:type="ecore:EClass" href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//patterns/LinkVariable"/>
      </eParameters>
      <eParameters name="pattern">
        <eType xsi:type="ecore:EClass" href="http://gervarro.org/democles/specification.ecore#//Pattern"/>
      </eParameters>
      <activity owningOperation="//PatternTransformer/addLinkToPattern">
        <ownedActivityEdge source="//PatternTransformer/addLinkToPattern/@activity/@ownedActivityNode.1" target="//PatternTransformer/addLinkToPattern/@activity/@ownedActivityNode.3"/>
        <ownedActivityEdge source="//PatternTransformer/addLinkToPattern/@activity/@ownedActivityNode.3" target="//PatternTransformer/addLinkToPattern/@activity/@ownedActivityNode.7"/>
        <ownedActivityEdge source="//PatternTransformer/addLinkToPattern/@activity/@ownedActivityNode.4" target="//PatternTransformer/addLinkToPattern/@activity/@ownedActivityNode.2"/>
        <ownedActivityEdge source="//PatternTransformer/addLinkToPattern/@activity/@ownedActivityNode.5" target="//PatternTransformer/addLinkToPattern/@activity/@ownedActivityNode.4"/>
        <ownedActivityEdge source="//PatternTransformer/addLinkToPattern/@activity/@ownedActivityNode.6" target="//PatternTransformer/addLinkToPattern/@activity/@ownedActivityNode.5" guard="SUCCESS"/>
        <ownedActivityEdge source="//PatternTransformer/addLinkToPattern/@activity/@ownedActivityNode.6" target="//PatternTransformer/addLinkToPattern/@activity/@ownedActivityNode.0" guard="FAILURE"/>
        <ownedActivityEdge source="//PatternTransformer/addLinkToPattern/@activity/@ownedActivityNode.7" target="//PatternTransformer/addLinkToPattern/@activity/@ownedActivityNode.8" guard="SUCCESS"/>
        <ownedActivityEdge source="//PatternTransformer/addLinkToPattern/@activity/@ownedActivityNode.7" target="//PatternTransformer/addLinkToPattern/@activity/@ownedActivityNode.0" guard="FAILURE"/>
        <ownedActivityEdge source="//PatternTransformer/addLinkToPattern/@activity/@ownedActivityNode.8" target="//PatternTransformer/addLinkToPattern/@activity/@ownedActivityNode.6" guard="SUCCESS"/>
        <ownedActivityEdge source="//PatternTransformer/addLinkToPattern/@activity/@ownedActivityNode.8" target="//PatternTransformer/addLinkToPattern/@activity/@ownedActivityNode.0" guard="FAILURE"/>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//PatternTransformer/addLinkToPattern/@activity/@ownedActivityEdge.5 //PatternTransformer/addLinkToPattern/@activity/@ownedActivityEdge.7 //PatternTransformer/addLinkToPattern/@activity/@ownedActivityEdge.9"/>
        <ownedActivityNode xsi:type="activities:StartNode" outgoing="//PatternTransformer/addLinkToPattern/@activity/@ownedActivityEdge.0"/>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//PatternTransformer/addLinkToPattern/@activity/@ownedActivityEdge.2"/>
        <ownedActivityNode xsi:type="activities:StoryNode" name="Init" comment="Init" outgoing="//PatternTransformer/addLinkToPattern/@activity/@ownedActivityEdge.1" incoming="//PatternTransformer/addLinkToPattern/@activity/@ownedActivityEdge.0">
          <storyPattern comment="Init">
            <objectVariable type="//PatternTransformer" name="this" bindingState="BOUND"/>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StoryNode" name="HandleTargetVariable" comment="HandleTargetVariable" outgoing="//PatternTransformer/addLinkToPattern/@activity/@ownedActivityEdge.2" incoming="//PatternTransformer/addLinkToPattern/@activity/@ownedActivityEdge.3">
          <storyPattern comment="HandleTargetVariable">
            <objectVariable name="constraint" outgoingLink="//PatternTransformer/addLinkToPattern/@activity/@ownedActivityNode.4/@storyPattern/@linkVariable.0" bindingState="BOUND">
              <type xsi:type="ecore:EClass" href="http://gervarro.org/democles/constraint/emf.ecore#//Reference"/>
            </objectVariable>
            <objectVariable name="targetVariable" incomingLink="//PatternTransformer/addLinkToPattern/@activity/@ownedActivityNode.4/@storyPattern/@linkVariable.1" bindingState="BOUND">
              <type xsi:type="ecore:EClass" href="http://gervarro.org/democles/specification.ecore#//Variable"/>
            </objectVariable>
            <objectVariable name="targetParameter" incomingLink="//PatternTransformer/addLinkToPattern/@activity/@ownedActivityNode.4/@storyPattern/@linkVariable.0" outgoingLink="//PatternTransformer/addLinkToPattern/@activity/@ownedActivityNode.4/@storyPattern/@linkVariable.1" bindingOperator="CREATE">
              <type xsi:type="ecore:EClass" href="http://gervarro.org/democles/specification.ecore#//ConstraintParameter"/>
            </objectVariable>
            <linkVariable name="parameters" target="//PatternTransformer/addLinkToPattern/@activity/@ownedActivityNode.4/@storyPattern/@objectVariable.2" source="//PatternTransformer/addLinkToPattern/@activity/@ownedActivityNode.4/@storyPattern/@objectVariable.0" bindingOperator="CREATE">
              <type href="http://gervarro.org/democles/specification.ecore#//Constraint/parameters"/>
            </linkVariable>
            <linkVariable name="reference" target="//PatternTransformer/addLinkToPattern/@activity/@ownedActivityNode.4/@storyPattern/@objectVariable.1" source="//PatternTransformer/addLinkToPattern/@activity/@ownedActivityNode.4/@storyPattern/@objectVariable.2" bindingOperator="CREATE">
              <type href="http://gervarro.org/democles/specification.ecore#//ConstraintParameter/reference"/>
            </linkVariable>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StoryNode" name="HandleSourceVariable" comment="HandleSourceVariable" outgoing="//PatternTransformer/addLinkToPattern/@activity/@ownedActivityEdge.3" incoming="//PatternTransformer/addLinkToPattern/@activity/@ownedActivityEdge.4">
          <storyPattern comment="HandleSourceVariable">
            <objectVariable name="constraint" outgoingLink="//PatternTransformer/addLinkToPattern/@activity/@ownedActivityNode.5/@storyPattern/@linkVariable.0" bindingState="BOUND">
              <type xsi:type="ecore:EClass" href="http://gervarro.org/democles/constraint/emf.ecore#//Reference"/>
            </objectVariable>
            <objectVariable name="sourceParameter" incomingLink="//PatternTransformer/addLinkToPattern/@activity/@ownedActivityNode.5/@storyPattern/@linkVariable.0" outgoingLink="//PatternTransformer/addLinkToPattern/@activity/@ownedActivityNode.5/@storyPattern/@linkVariable.1" bindingOperator="CREATE">
              <type xsi:type="ecore:EClass" href="http://gervarro.org/democles/specification.ecore#//ConstraintParameter"/>
            </objectVariable>
            <objectVariable name="sourceVariable" incomingLink="//PatternTransformer/addLinkToPattern/@activity/@ownedActivityNode.5/@storyPattern/@linkVariable.1" bindingState="BOUND">
              <type xsi:type="ecore:EClass" href="http://gervarro.org/democles/specification.ecore#//Variable"/>
            </objectVariable>
            <linkVariable name="parameters" target="//PatternTransformer/addLinkToPattern/@activity/@ownedActivityNode.5/@storyPattern/@objectVariable.1" source="//PatternTransformer/addLinkToPattern/@activity/@ownedActivityNode.5/@storyPattern/@objectVariable.0" bindingOperator="CREATE">
              <type href="http://gervarro.org/democles/specification.ecore#//Constraint/parameters"/>
            </linkVariable>
            <linkVariable name="reference" target="//PatternTransformer/addLinkToPattern/@activity/@ownedActivityNode.5/@storyPattern/@objectVariable.2" source="//PatternTransformer/addLinkToPattern/@activity/@ownedActivityNode.5/@storyPattern/@objectVariable.1" bindingOperator="CREATE">
              <type href="http://gervarro.org/democles/specification.ecore#//ConstraintParameter/reference"/>
            </linkVariable>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StoryNode" name="AddLinkToPattern" comment="AddLinkToPattern" outgoing="//PatternTransformer/addLinkToPattern/@activity/@ownedActivityEdge.4 //PatternTransformer/addLinkToPattern/@activity/@ownedActivityEdge.5" incoming="//PatternTransformer/addLinkToPattern/@activity/@ownedActivityEdge.8">
          <storyPattern comment="AddLinkToPattern">
            <objectVariable name="pattern" incomingLink="//PatternTransformer/addLinkToPattern/@activity/@ownedActivityNode.6/@storyPattern/@linkVariable.2" bindingState="BOUND">
              <type xsi:type="ecore:EClass" href="http://gervarro.org/democles/specification.ecore#//Pattern"/>
            </objectVariable>
            <objectVariable name="constraint" incomingLink="//PatternTransformer/addLinkToPattern/@activity/@ownedActivityNode.6/@storyPattern/@linkVariable.1" outgoingLink="//PatternTransformer/addLinkToPattern/@activity/@ownedActivityNode.6/@storyPattern/@linkVariable.0" bindingOperator="CREATE">
              <type xsi:type="ecore:EClass" href="http://gervarro.org/democles/constraint/emf.ecore#//Reference"/>
            </objectVariable>
            <objectVariable name="patternBody" outgoingLink="//PatternTransformer/addLinkToPattern/@activity/@ownedActivityNode.6/@storyPattern/@linkVariable.1 //PatternTransformer/addLinkToPattern/@activity/@ownedActivityNode.6/@storyPattern/@linkVariable.2">
              <type xsi:type="ecore:EClass" href="http://gervarro.org/democles/specification.ecore#//PatternBody"/>
            </objectVariable>
            <objectVariable name="eReference" incomingLink="//PatternTransformer/addLinkToPattern/@activity/@ownedActivityNode.6/@storyPattern/@linkVariable.0" bindingState="BOUND">
              <type xsi:type="ecore:EClass" href="http://www.eclipse.org/emf/2002/Ecore#//EReference"/>
              <bindingExpression xsi:type="callExpressions:MethodCallExpression" callee="//PatternTransformer/getEReference">
                <ownedParameterBindings parameter="//PatternTransformer/getEReference/linkVariable">
                  <valueExpression xsi:type="callExpressions:ParameterExpression" parameter="//PatternTransformer/addLinkToPattern/linkVariable"/>
                </ownedParameterBindings>
                <target xsi:type="patternExpressions:ObjectVariableExpression" object="//PatternTransformer/addLinkToPattern/@activity/@ownedActivityNode.3/@storyPattern/@objectVariable.0"/>
              </bindingExpression>
            </objectVariable>
            <linkVariable name="eModelElement" target="//PatternTransformer/addLinkToPattern/@activity/@ownedActivityNode.6/@storyPattern/@objectVariable.3" source="//PatternTransformer/addLinkToPattern/@activity/@ownedActivityNode.6/@storyPattern/@objectVariable.1" bindingOperator="CREATE">
              <type href="http://gervarro.org/democles/constraint/emf.ecore#//EMFConstraint/eModelElement"/>
            </linkVariable>
            <linkVariable name="constraints" target="//PatternTransformer/addLinkToPattern/@activity/@ownedActivityNode.6/@storyPattern/@objectVariable.1" source="//PatternTransformer/addLinkToPattern/@activity/@ownedActivityNode.6/@storyPattern/@objectVariable.2" bindingOperator="CREATE">
              <type href="http://gervarro.org/democles/specification.ecore#//PatternBody/constraints"/>
            </linkVariable>
            <linkVariable name="header" target="//PatternTransformer/addLinkToPattern/@activity/@ownedActivityNode.6/@storyPattern/@objectVariable.0" source="//PatternTransformer/addLinkToPattern/@activity/@ownedActivityNode.6/@storyPattern/@objectVariable.2">
              <type href="http://gervarro.org/democles/specification.ecore#//PatternBody/header"/>
            </linkVariable>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StoryNode" name="LookupSourceVariable" comment="LookupSourceVariable" outgoing="//PatternTransformer/addLinkToPattern/@activity/@ownedActivityEdge.6 //PatternTransformer/addLinkToPattern/@activity/@ownedActivityEdge.7" incoming="//PatternTransformer/addLinkToPattern/@activity/@ownedActivityEdge.1">
          <storyPattern comment="LookupSourceVariable">
            <objectVariable name="linkVariable" incomingLink="//PatternTransformer/addLinkToPattern/@activity/@ownedActivityNode.7/@storyPattern/@linkVariable.0" bindingState="BOUND">
              <type xsi:type="ecore:EClass" href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//patterns/LinkVariable"/>
            </objectVariable>
            <objectVariable name="source" outgoingLink="//PatternTransformer/addLinkToPattern/@activity/@ownedActivityNode.7/@storyPattern/@linkVariable.0">
              <type xsi:type="ecore:EClass" href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//patterns/ObjectVariable"/>
            </objectVariable>
            <objectVariable name="pattern" outgoingLink="//PatternTransformer/addLinkToPattern/@activity/@ownedActivityNode.7/@storyPattern/@linkVariable.1" bindingState="BOUND">
              <type xsi:type="ecore:EClass" href="http://gervarro.org/democles/specification.ecore#//Pattern"/>
            </objectVariable>
            <objectVariable name="sourceVariable" incomingLink="//PatternTransformer/addLinkToPattern/@activity/@ownedActivityNode.7/@storyPattern/@linkVariable.1">
              <type xsi:type="ecore:EClass" href="http://gervarro.org/democles/specification.ecore#//Variable"/>
              <constraint>
                <constraintExpression xsi:type="expressions:ComparisonExpression" operator="EQUAL">
                  <rightExpression xsi:type="patternExpressions:AttributeValueExpression" object="//PatternTransformer/addLinkToPattern/@activity/@ownedActivityNode.7/@storyPattern/@objectVariable.1">
                    <attribute href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//NamedElement/name"/>
                  </rightExpression>
                  <leftExpression xsi:type="patternExpressions:AttributeValueExpression" object="//PatternTransformer/addLinkToPattern/@activity/@ownedActivityNode.7/@storyPattern/@objectVariable.3">
                    <attribute href="http://gervarro.org/democles/specification.ecore#//Variable/name"/>
                  </leftExpression>
                </constraintExpression>
              </constraint>
            </objectVariable>
            <linkVariable name="outgoingLink" target="//PatternTransformer/addLinkToPattern/@activity/@ownedActivityNode.7/@storyPattern/@objectVariable.0" source="//PatternTransformer/addLinkToPattern/@activity/@ownedActivityNode.7/@storyPattern/@objectVariable.1">
              <type href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//patterns/ObjectVariable/outgoingLink"/>
            </linkVariable>
            <linkVariable name="symbolicParameters" target="//PatternTransformer/addLinkToPattern/@activity/@ownedActivityNode.7/@storyPattern/@objectVariable.3" source="//PatternTransformer/addLinkToPattern/@activity/@ownedActivityNode.7/@storyPattern/@objectVariable.2">
              <type href="http://gervarro.org/democles/specification.ecore#//Pattern/symbolicParameters"/>
            </linkVariable>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StoryNode" name="LookupTargetVariable" comment="LookupTargetVariable" outgoing="//PatternTransformer/addLinkToPattern/@activity/@ownedActivityEdge.8 //PatternTransformer/addLinkToPattern/@activity/@ownedActivityEdge.9" incoming="//PatternTransformer/addLinkToPattern/@activity/@ownedActivityEdge.6">
          <storyPattern comment="LookupTargetVariable">
            <objectVariable name="linkVariable" incomingLink="//PatternTransformer/addLinkToPattern/@activity/@ownedActivityNode.8/@storyPattern/@linkVariable.0" bindingState="BOUND">
              <type xsi:type="ecore:EClass" href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//patterns/LinkVariable"/>
            </objectVariable>
            <objectVariable name="pattern" outgoingLink="//PatternTransformer/addLinkToPattern/@activity/@ownedActivityNode.8/@storyPattern/@linkVariable.1" bindingState="BOUND">
              <type xsi:type="ecore:EClass" href="http://gervarro.org/democles/specification.ecore#//Pattern"/>
            </objectVariable>
            <objectVariable name="target" outgoingLink="//PatternTransformer/addLinkToPattern/@activity/@ownedActivityNode.8/@storyPattern/@linkVariable.0">
              <type xsi:type="ecore:EClass" href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//patterns/ObjectVariable"/>
            </objectVariable>
            <objectVariable name="targetVariable" incomingLink="//PatternTransformer/addLinkToPattern/@activity/@ownedActivityNode.8/@storyPattern/@linkVariable.1">
              <type xsi:type="ecore:EClass" href="http://gervarro.org/democles/specification.ecore#//Variable"/>
              <constraint>
                <constraintExpression xsi:type="expressions:ComparisonExpression" operator="EQUAL">
                  <rightExpression xsi:type="patternExpressions:AttributeValueExpression" object="//PatternTransformer/addLinkToPattern/@activity/@ownedActivityNode.8/@storyPattern/@objectVariable.2">
                    <attribute href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//NamedElement/name"/>
                  </rightExpression>
                  <leftExpression xsi:type="patternExpressions:AttributeValueExpression" object="//PatternTransformer/addLinkToPattern/@activity/@ownedActivityNode.8/@storyPattern/@objectVariable.3">
                    <attribute href="http://gervarro.org/democles/specification.ecore#//Variable/name"/>
                  </leftExpression>
                </constraintExpression>
              </constraint>
            </objectVariable>
            <linkVariable name="incomingLink" target="//PatternTransformer/addLinkToPattern/@activity/@ownedActivityNode.8/@storyPattern/@objectVariable.0" source="//PatternTransformer/addLinkToPattern/@activity/@ownedActivityNode.8/@storyPattern/@objectVariable.2">
              <type href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//patterns/ObjectVariable/incomingLink"/>
            </linkVariable>
            <linkVariable name="symbolicParameters" target="//PatternTransformer/addLinkToPattern/@activity/@ownedActivityNode.8/@storyPattern/@objectVariable.3" source="//PatternTransformer/addLinkToPattern/@activity/@ownedActivityNode.8/@storyPattern/@objectVariable.1">
              <type href="http://gervarro.org/democles/specification.ecore#//Pattern/symbolicParameters"/>
            </linkVariable>
          </storyPattern>
        </ownedActivityNode>
      </activity>
    </eOperations>
    <eOperations xsi:type="activities:MoflonEOperation" name="getEReference">
      <eType xsi:type="ecore:EClass" href="http://www.eclipse.org/emf/2002/Ecore#//EReference"/>
      <eParameters name="linkVariable">
        <eType xsi:type="ecore:EClass" href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//patterns/LinkVariable"/>
      </eParameters>
      <activity owningOperation="//PatternTransformer/getEReference">
        <ownedActivityEdge source="//PatternTransformer/getEReference/@activity/@ownedActivityNode.0" target="//PatternTransformer/getEReference/@activity/@ownedActivityNode.2" guard="SUCCESS"/>
        <ownedActivityEdge source="//PatternTransformer/getEReference/@activity/@ownedActivityNode.0" target="//PatternTransformer/getEReference/@activity/@ownedActivityNode.3" guard="FAILURE"/>
        <ownedActivityEdge source="//PatternTransformer/getEReference/@activity/@ownedActivityNode.1" target="//PatternTransformer/getEReference/@activity/@ownedActivityNode.0"/>
        <ownedActivityNode xsi:type="activities:StoryNode" name="LookupEReference" comment="LookupEReference" outgoing="//PatternTransformer/getEReference/@activity/@ownedActivityEdge.0 //PatternTransformer/getEReference/@activity/@ownedActivityEdge.1" incoming="//PatternTransformer/getEReference/@activity/@ownedActivityEdge.2">
          <storyPattern comment="LookupEReference">
            <objectVariable name="linkVariable" incomingLink="//PatternTransformer/getEReference/@activity/@ownedActivityNode.0/@storyPattern/@linkVariable.0" bindingState="BOUND">
              <type xsi:type="ecore:EClass" href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//patterns/LinkVariable"/>
            </objectVariable>
            <objectVariable name="sourceEClass" incomingLink="//PatternTransformer/getEReference/@activity/@ownedActivityNode.0/@storyPattern/@linkVariable.2" outgoingLink="//PatternTransformer/getEReference/@activity/@ownedActivityNode.0/@storyPattern/@linkVariable.1">
              <type xsi:type="ecore:EClass" href="http://www.eclipse.org/emf/2002/Ecore#//EClass"/>
            </objectVariable>
            <objectVariable name="source" outgoingLink="//PatternTransformer/getEReference/@activity/@ownedActivityNode.0/@storyPattern/@linkVariable.2 //PatternTransformer/getEReference/@activity/@ownedActivityNode.0/@storyPattern/@linkVariable.0">
              <type xsi:type="ecore:EClass" href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//patterns/ObjectVariable"/>
            </objectVariable>
            <objectVariable name="eReference" incomingLink="//PatternTransformer/getEReference/@activity/@ownedActivityNode.0/@storyPattern/@linkVariable.1">
              <type xsi:type="ecore:EClass" href="http://www.eclipse.org/emf/2002/Ecore#//EReference"/>
              <constraint>
                <constraintExpression xsi:type="expressions:ComparisonExpression" operator="EQUAL">
                  <rightExpression xsi:type="patternExpressions:AttributeValueExpression" object="//PatternTransformer/getEReference/@activity/@ownedActivityNode.0/@storyPattern/@objectVariable.0">
                    <attribute href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//NamedElement/name"/>
                  </rightExpression>
                  <leftExpression xsi:type="patternExpressions:AttributeValueExpression" object="//PatternTransformer/getEReference/@activity/@ownedActivityNode.0/@storyPattern/@objectVariable.3">
                    <attribute href="http://www.eclipse.org/emf/2002/Ecore#//ENamedElement/name"/>
                  </leftExpression>
                </constraintExpression>
              </constraint>
            </objectVariable>
            <linkVariable name="outgoingLink" target="//PatternTransformer/getEReference/@activity/@ownedActivityNode.0/@storyPattern/@objectVariable.0" source="//PatternTransformer/getEReference/@activity/@ownedActivityNode.0/@storyPattern/@objectVariable.2">
              <type href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//patterns/ObjectVariable/outgoingLink"/>
            </linkVariable>
            <linkVariable name="eAllReferences" target="//PatternTransformer/getEReference/@activity/@ownedActivityNode.0/@storyPattern/@objectVariable.3" source="//PatternTransformer/getEReference/@activity/@ownedActivityNode.0/@storyPattern/@objectVariable.1">
              <type href="http://www.eclipse.org/emf/2002/Ecore#//EClass/eAllReferences"/>
            </linkVariable>
            <linkVariable name="type" target="//PatternTransformer/getEReference/@activity/@ownedActivityNode.0/@storyPattern/@objectVariable.1" source="//PatternTransformer/getEReference/@activity/@ownedActivityNode.0/@storyPattern/@objectVariable.2">
              <type href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//TypedElement/type"/>
            </linkVariable>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StartNode" outgoing="//PatternTransformer/getEReference/@activity/@ownedActivityEdge.2"/>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//PatternTransformer/getEReference/@activity/@ownedActivityEdge.0">
          <returnValue xsi:type="patternExpressions:ObjectVariableExpression" object="//PatternTransformer/getEReference/@activity/@ownedActivityNode.0/@storyPattern/@objectVariable.3"/>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//PatternTransformer/getEReference/@activity/@ownedActivityEdge.1">
          <returnValue xsi:type="expressions:LiteralExpression" value="null"/>
        </ownedActivityNode>
      </activity>
    </eOperations>
    <eOperations xsi:type="activities:MoflonEOperation" name="hasSymbolicParameter">
      <eType xsi:type="ecore:EDataType" href="http://www.eclipse.org/emf/2002/Ecore#//EBoolean"/>
      <eParameters name="pattern">
        <eType xsi:type="ecore:EClass" href="http://gervarro.org/democles/specification.ecore#//Pattern"/>
      </eParameters>
      <eParameters name="variableName">
        <eType xsi:type="ecore:EDataType" href="http://www.eclipse.org/emf/2002/Ecore#//EString"/>
      </eParameters>
      <activity owningOperation="//PatternTransformer/hasSymbolicParameter">
        <ownedActivityEdge source="//PatternTransformer/hasSymbolicParameter/@activity/@ownedActivityNode.1" target="//PatternTransformer/hasSymbolicParameter/@activity/@ownedActivityNode.3"/>
        <ownedActivityEdge source="//PatternTransformer/hasSymbolicParameter/@activity/@ownedActivityNode.3" target="//PatternTransformer/hasSymbolicParameter/@activity/@ownedActivityNode.2" guard="SUCCESS"/>
        <ownedActivityEdge source="//PatternTransformer/hasSymbolicParameter/@activity/@ownedActivityNode.3" target="//PatternTransformer/hasSymbolicParameter/@activity/@ownedActivityNode.0" guard="FAILURE"/>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//PatternTransformer/hasSymbolicParameter/@activity/@ownedActivityEdge.2">
          <returnValue xsi:type="expressions:LiteralExpression" value="false"/>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StartNode" outgoing="//PatternTransformer/hasSymbolicParameter/@activity/@ownedActivityEdge.0"/>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//PatternTransformer/hasSymbolicParameter/@activity/@ownedActivityEdge.1">
          <returnValue xsi:type="expressions:LiteralExpression" value="true"/>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StoryNode" name="HasSymbolicParameter" comment="HasSymbolicParameter" outgoing="//PatternTransformer/hasSymbolicParameter/@activity/@ownedActivityEdge.1 //PatternTransformer/hasSymbolicParameter/@activity/@ownedActivityEdge.2" incoming="//PatternTransformer/hasSymbolicParameter/@activity/@ownedActivityEdge.0">
          <storyPattern comment="HasSymbolicParameter">
            <objectVariable name="pattern" outgoingLink="//PatternTransformer/hasSymbolicParameter/@activity/@ownedActivityNode.3/@storyPattern/@linkVariable.0" bindingState="BOUND">
              <type xsi:type="ecore:EClass" href="http://gervarro.org/democles/specification.ecore#//Pattern"/>
            </objectVariable>
            <objectVariable name="variable" incomingLink="//PatternTransformer/hasSymbolicParameter/@activity/@ownedActivityNode.3/@storyPattern/@linkVariable.0">
              <type xsi:type="ecore:EClass" href="http://gervarro.org/democles/specification.ecore#//Variable"/>
              <constraint>
                <constraintExpression xsi:type="expressions:ComparisonExpression" operator="EQUAL">
                  <rightExpression xsi:type="callExpressions:ParameterExpression" parameter="//PatternTransformer/hasSymbolicParameter/variableName"/>
                  <leftExpression xsi:type="patternExpressions:AttributeValueExpression" object="//PatternTransformer/hasSymbolicParameter/@activity/@ownedActivityNode.3/@storyPattern/@objectVariable.1">
                    <attribute href="http://gervarro.org/democles/specification.ecore#//Variable/name"/>
                  </leftExpression>
                </constraintExpression>
              </constraint>
            </objectVariable>
            <linkVariable name="symbolicParameters" target="//PatternTransformer/hasSymbolicParameter/@activity/@ownedActivityNode.3/@storyPattern/@objectVariable.1" source="//PatternTransformer/hasSymbolicParameter/@activity/@ownedActivityNode.3/@storyPattern/@objectVariable.0">
              <type href="http://gervarro.org/democles/specification.ecore#//Pattern/symbolicParameters"/>
            </linkVariable>
          </storyPattern>
        </ownedActivityNode>
      </activity>
    </eOperations>
    <eOperations xsi:type="activities:MoflonEOperation" name="isLinkToAdd">
      <eType xsi:type="ecore:EDataType" href="http://www.eclipse.org/emf/2002/Ecore#//EBoolean"/>
      <eParameters name="linkVariable">
        <eType xsi:type="ecore:EClass" href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//patterns/LinkVariable"/>
      </eParameters>
      <eParameters name="pattern">
        <eType xsi:type="ecore:EClass" href="http://gervarro.org/democles/specification.ecore#//Pattern"/>
      </eParameters>
      <activity owningOperation="//PatternTransformer/isLinkToAdd">
        <ownedActivityEdge source="//PatternTransformer/isLinkToAdd/@activity/@ownedActivityNode.1" target="//PatternTransformer/isLinkToAdd/@activity/@ownedActivityNode.0" guard="SUCCESS"/>
        <ownedActivityEdge source="//PatternTransformer/isLinkToAdd/@activity/@ownedActivityNode.1" target="//PatternTransformer/isLinkToAdd/@activity/@ownedActivityNode.0" guard="FAILURE"/>
        <ownedActivityEdge source="//PatternTransformer/isLinkToAdd/@activity/@ownedActivityNode.2" target="//PatternTransformer/isLinkToAdd/@activity/@ownedActivityNode.1"/>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//PatternTransformer/isLinkToAdd/@activity/@ownedActivityEdge.0 //PatternTransformer/isLinkToAdd/@activity/@ownedActivityEdge.1">
          <returnValue xsi:type="expressions:LiteralExpression" value="false"/>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StoryNode" name="DoNothing" comment="DoNothing" outgoing="//PatternTransformer/isLinkToAdd/@activity/@ownedActivityEdge.0 //PatternTransformer/isLinkToAdd/@activity/@ownedActivityEdge.1" incoming="//PatternTransformer/isLinkToAdd/@activity/@ownedActivityEdge.2">
          <storyPattern comment="DoNothing"/>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StartNode" outgoing="//PatternTransformer/isLinkToAdd/@activity/@ownedActivityEdge.2"/>
      </activity>
    </eOperations>
    <eOperations xsi:type="activities:MoflonEOperation" name="isVariableToAdd">
      <eType xsi:type="ecore:EDataType" href="http://www.eclipse.org/emf/2002/Ecore#//EBoolean"/>
      <eParameters name="objectVariable">
        <eType xsi:type="ecore:EClass" href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//patterns/ObjectVariable"/>
      </eParameters>
      <activity owningOperation="//PatternTransformer/isVariableToAdd">
        <ownedActivityEdge source="//PatternTransformer/isVariableToAdd/@activity/@ownedActivityNode.1" target="//PatternTransformer/isVariableToAdd/@activity/@ownedActivityNode.0" guard="SUCCESS"/>
        <ownedActivityEdge source="//PatternTransformer/isVariableToAdd/@activity/@ownedActivityNode.1" target="//PatternTransformer/isVariableToAdd/@activity/@ownedActivityNode.0" guard="FAILURE"/>
        <ownedActivityEdge source="//PatternTransformer/isVariableToAdd/@activity/@ownedActivityNode.2" target="//PatternTransformer/isVariableToAdd/@activity/@ownedActivityNode.1"/>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//PatternTransformer/isVariableToAdd/@activity/@ownedActivityEdge.0 //PatternTransformer/isVariableToAdd/@activity/@ownedActivityEdge.1">
          <returnValue xsi:type="expressions:LiteralExpression" value="false"/>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StoryNode" name="DoNothing" comment="DoNothing" outgoing="//PatternTransformer/isVariableToAdd/@activity/@ownedActivityEdge.0 //PatternTransformer/isVariableToAdd/@activity/@ownedActivityEdge.1" incoming="//PatternTransformer/isVariableToAdd/@activity/@ownedActivityEdge.2">
          <storyPattern comment="DoNothing"/>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StartNode" outgoing="//PatternTransformer/isVariableToAdd/@activity/@ownedActivityEdge.2"/>
      </activity>
    </eOperations>
    <eOperations xsi:type="activities:MoflonEOperation" name="postprocess">
      <eParameters name="storyPattern">
        <eType xsi:type="ecore:EClass" href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//patterns/StoryPattern"/>
      </eParameters>
      <eParameters name="pattern">
        <eType xsi:type="ecore:EClass" href="http://gervarro.org/democles/specification.ecore#//Pattern"/>
      </eParameters>
      <activity owningOperation="//PatternTransformer/postprocess">
        <ownedActivityEdge source="//PatternTransformer/postprocess/@activity/@ownedActivityNode.0" target="//PatternTransformer/postprocess/@activity/@ownedActivityNode.2"/>
        <ownedActivityEdge source="//PatternTransformer/postprocess/@activity/@ownedActivityNode.2" target="//PatternTransformer/postprocess/@activity/@ownedActivityNode.1" guard="FAILURE"/>
        <ownedActivityEdge source="//PatternTransformer/postprocess/@activity/@ownedActivityNode.2" target="//PatternTransformer/postprocess/@activity/@ownedActivityNode.1" guard="SUCCESS"/>
        <ownedActivityNode xsi:type="activities:StartNode" outgoing="//PatternTransformer/postprocess/@activity/@ownedActivityEdge.0"/>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//PatternTransformer/postprocess/@activity/@ownedActivityEdge.1 //PatternTransformer/postprocess/@activity/@ownedActivityEdge.2"/>
        <ownedActivityNode xsi:type="activities:StoryNode" name="DoNothing" comment="DoNothing" outgoing="//PatternTransformer/postprocess/@activity/@ownedActivityEdge.1 //PatternTransformer/postprocess/@activity/@ownedActivityEdge.2" incoming="//PatternTransformer/postprocess/@activity/@ownedActivityEdge.0">
          <storyPattern comment="DoNothing"/>
        </ownedActivityNode>
      </activity>
    </eOperations>
    <eOperations xsi:type="activities:MoflonEOperation" name="processLinkVariables">
      <eParameters name="storyPattern">
        <eType xsi:type="ecore:EClass" href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//patterns/StoryPattern"/>
      </eParameters>
      <eParameters name="pattern">
        <eType xsi:type="ecore:EClass" href="http://gervarro.org/democles/specification.ecore#//Pattern"/>
      </eParameters>
      <activity owningOperation="//PatternTransformer/processLinkVariables">
        <ownedActivityEdge source="//PatternTransformer/processLinkVariables/@activity/@ownedActivityNode.0" target="//PatternTransformer/processLinkVariables/@activity/@ownedActivityNode.1"/>
        <ownedActivityEdge source="//PatternTransformer/processLinkVariables/@activity/@ownedActivityNode.1" target="//PatternTransformer/processLinkVariables/@activity/@ownedActivityNode.3"/>
        <ownedActivityEdge source="//PatternTransformer/processLinkVariables/@activity/@ownedActivityNode.2" target="//PatternTransformer/processLinkVariables/@activity/@ownedActivityNode.4" guard="SUCCESS"/>
        <ownedActivityEdge source="//PatternTransformer/processLinkVariables/@activity/@ownedActivityNode.2" target="//PatternTransformer/processLinkVariables/@activity/@ownedActivityNode.3" guard="FAILURE"/>
        <ownedActivityEdge source="//PatternTransformer/processLinkVariables/@activity/@ownedActivityNode.3" target="//PatternTransformer/processLinkVariables/@activity/@ownedActivityNode.5" guard="END"/>
        <ownedActivityEdge source="//PatternTransformer/processLinkVariables/@activity/@ownedActivityNode.3" target="//PatternTransformer/processLinkVariables/@activity/@ownedActivityNode.2" guard="EACH_TIME"/>
        <ownedActivityEdge source="//PatternTransformer/processLinkVariables/@activity/@ownedActivityNode.4" target="//PatternTransformer/processLinkVariables/@activity/@ownedActivityNode.3"/>
        <ownedActivityNode xsi:type="activities:StartNode" outgoing="//PatternTransformer/processLinkVariables/@activity/@ownedActivityEdge.0"/>
        <ownedActivityNode xsi:type="activities:StoryNode" name="Init" comment="Init" outgoing="//PatternTransformer/processLinkVariables/@activity/@ownedActivityEdge.1" incoming="//PatternTransformer/processLinkVariables/@activity/@ownedActivityEdge.0">
          <storyPattern comment="Init">
            <objectVariable type="//PatternTransformer" name="this" bindingState="BOUND"/>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StatementNode" name="IsLinkAppropriate" outgoing="//PatternTransformer/processLinkVariables/@activity/@ownedActivityEdge.2 //PatternTransformer/processLinkVariables/@activity/@ownedActivityEdge.3" incoming="//PatternTransformer/processLinkVariables/@activity/@ownedActivityEdge.5">
          <statementExpression xsi:type="callExpressions:MethodCallExpression" callee="//PatternTransformer/isLinkToAdd">
            <ownedParameterBindings parameter="//PatternTransformer/isLinkToAdd/linkVariable">
              <valueExpression xsi:type="patternExpressions:ObjectVariableExpression" object="//PatternTransformer/processLinkVariables/@activity/@ownedActivityNode.3/@storyPattern/@objectVariable.1"/>
            </ownedParameterBindings>
            <ownedParameterBindings parameter="//PatternTransformer/isLinkToAdd/pattern">
              <valueExpression xsi:type="callExpressions:ParameterExpression" parameter="//PatternTransformer/processLinkVariables/pattern"/>
            </ownedParameterBindings>
            <target xsi:type="patternExpressions:ObjectVariableExpression" object="//PatternTransformer/processLinkVariables/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.0"/>
          </statementExpression>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StoryNode" name="ForEachLinkVariable" comment="ForEachLinkVariable" outgoing="//PatternTransformer/processLinkVariables/@activity/@ownedActivityEdge.4 //PatternTransformer/processLinkVariables/@activity/@ownedActivityEdge.5" incoming="//PatternTransformer/processLinkVariables/@activity/@ownedActivityEdge.1 //PatternTransformer/processLinkVariables/@activity/@ownedActivityEdge.3 //PatternTransformer/processLinkVariables/@activity/@ownedActivityEdge.6" forEach="true">
          <storyPattern comment="ForEachLinkVariable">
            <objectVariable name="storyPattern" outgoingLink="//PatternTransformer/processLinkVariables/@activity/@ownedActivityNode.3/@storyPattern/@linkVariable.0" bindingState="BOUND">
              <type xsi:type="ecore:EClass" href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//patterns/StoryPattern"/>
            </objectVariable>
            <objectVariable name="linkVariable" incomingLink="//PatternTransformer/processLinkVariables/@activity/@ownedActivityNode.3/@storyPattern/@linkVariable.0">
              <type xsi:type="ecore:EClass" href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//patterns/LinkVariable"/>
            </objectVariable>
            <linkVariable name="linkVariable" target="//PatternTransformer/processLinkVariables/@activity/@ownedActivityNode.3/@storyPattern/@objectVariable.1" source="//PatternTransformer/processLinkVariables/@activity/@ownedActivityNode.3/@storyPattern/@objectVariable.0">
              <type href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//patterns/StoryPattern/linkVariable"/>
            </linkVariable>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StatementNode" name="AddLinkToPattern" outgoing="//PatternTransformer/processLinkVariables/@activity/@ownedActivityEdge.6" incoming="//PatternTransformer/processLinkVariables/@activity/@ownedActivityEdge.2">
          <statementExpression xsi:type="callExpressions:MethodCallExpression" callee="//PatternTransformer/addLinkToPattern">
            <ownedParameterBindings parameter="//PatternTransformer/addLinkToPattern/linkVariable">
              <valueExpression xsi:type="patternExpressions:ObjectVariableExpression" object="//PatternTransformer/processLinkVariables/@activity/@ownedActivityNode.3/@storyPattern/@objectVariable.1"/>
            </ownedParameterBindings>
            <ownedParameterBindings parameter="//PatternTransformer/addLinkToPattern/pattern">
              <valueExpression xsi:type="callExpressions:ParameterExpression" parameter="//PatternTransformer/processLinkVariables/pattern"/>
            </ownedParameterBindings>
            <target xsi:type="patternExpressions:ObjectVariableExpression" object="//PatternTransformer/processLinkVariables/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.0"/>
          </statementExpression>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//PatternTransformer/processLinkVariables/@activity/@ownedActivityEdge.4"/>
      </activity>
    </eOperations>
    <eOperations xsi:type="activities:MoflonEOperation" name="transform">
      <eType xsi:type="ecore:EClass" href="platform:/plugin/org.moflon.sdm.compiler.democles.validation.result/model/Result.ecore#//ValidationReport"/>
      <eParameters name="storyPattern">
        <eType xsi:type="ecore:EClass" href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//patterns/StoryPattern"/>
      </eParameters>
      <eParameters name="pattern">
        <eType xsi:type="ecore:EClass" href="http://gervarro.org/democles/specification.ecore#//Pattern"/>
      </eParameters>
      <activity owningOperation="//PatternTransformer/transform">
        <ownedActivityEdge source="//PatternTransformer/transform/@activity/@ownedActivityNode.0" target="//PatternTransformer/transform/@activity/@ownedActivityNode.1"/>
        <ownedActivityEdge source="//PatternTransformer/transform/@activity/@ownedActivityNode.2" target="//PatternTransformer/transform/@activity/@ownedActivityNode.4"/>
        <ownedActivityEdge source="//PatternTransformer/transform/@activity/@ownedActivityNode.3" target="//PatternTransformer/transform/@activity/@ownedActivityNode.0"/>
        <ownedActivityEdge source="//PatternTransformer/transform/@activity/@ownedActivityNode.4" target="//PatternTransformer/transform/@activity/@ownedActivityNode.5"/>
        <ownedActivityEdge source="//PatternTransformer/transform/@activity/@ownedActivityNode.5" target="//PatternTransformer/transform/@activity/@ownedActivityNode.3"/>
        <ownedActivityNode xsi:type="activities:StoryNode" name="DisposeValidationReport" comment="DisposeValidationReport" outgoing="//PatternTransformer/transform/@activity/@ownedActivityEdge.0" incoming="//PatternTransformer/transform/@activity/@ownedActivityEdge.2">
          <storyPattern comment="DisposeValidationReport">
            <objectVariable type="//PatternTransformer" name="this" outgoingLink="//PatternTransformer/transform/@activity/@ownedActivityNode.0/@storyPattern/@linkVariable.0" bindingState="BOUND"/>
            <objectVariable name="report" incomingLink="//PatternTransformer/transform/@activity/@ownedActivityNode.0/@storyPattern/@linkVariable.0" bindingState="BOUND">
              <type xsi:type="ecore:EClass" href="platform:/plugin/org.moflon.sdm.compiler.democles.validation.result/model/Result.ecore#//ValidationReport"/>
            </objectVariable>
            <linkVariable name="validationReport" target="//PatternTransformer/transform/@activity/@ownedActivityNode.0/@storyPattern/@objectVariable.1" source="//PatternTransformer/transform/@activity/@ownedActivityNode.0/@storyPattern/@objectVariable.0" type="//PatternTransformer/validationReport" bindingOperator="DESTROY"/>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//PatternTransformer/transform/@activity/@ownedActivityEdge.0">
          <returnValue xsi:type="patternExpressions:ObjectVariableExpression" object="//PatternTransformer/transform/@activity/@ownedActivityNode.4/@storyPattern/@objectVariable.1"/>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StartNode" outgoing="//PatternTransformer/transform/@activity/@ownedActivityEdge.1"/>
        <ownedActivityNode xsi:type="activities:StatementNode" name="Postprocess" outgoing="//PatternTransformer/transform/@activity/@ownedActivityEdge.2" incoming="//PatternTransformer/transform/@activity/@ownedActivityEdge.4">
          <statementExpression xsi:type="callExpressions:MethodCallExpression" callee="//PatternTransformer/postprocess">
            <ownedParameterBindings parameter="//PatternTransformer/postprocess/storyPattern">
              <valueExpression xsi:type="callExpressions:ParameterExpression" parameter="//PatternTransformer/transform/storyPattern"/>
            </ownedParameterBindings>
            <ownedParameterBindings parameter="//PatternTransformer/postprocess/pattern">
              <valueExpression xsi:type="callExpressions:ParameterExpression" parameter="//PatternTransformer/transform/pattern"/>
            </ownedParameterBindings>
            <target xsi:type="patternExpressions:ObjectVariableExpression" object="//PatternTransformer/transform/@activity/@ownedActivityNode.4/@storyPattern/@objectVariable.0"/>
          </statementExpression>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StoryNode" name="Init" comment="Init" outgoing="//PatternTransformer/transform/@activity/@ownedActivityEdge.3" incoming="//PatternTransformer/transform/@activity/@ownedActivityEdge.1">
          <storyPattern comment="Init">
            <objectVariable type="//PatternTransformer" name="this" outgoingLink="//PatternTransformer/transform/@activity/@ownedActivityNode.4/@storyPattern/@linkVariable.0" bindingState="BOUND"/>
            <objectVariable name="report" incomingLink="//PatternTransformer/transform/@activity/@ownedActivityNode.4/@storyPattern/@linkVariable.0" bindingOperator="CREATE">
              <type xsi:type="ecore:EClass" href="platform:/plugin/org.moflon.sdm.compiler.democles.validation.result/model/Result.ecore#//ValidationReport"/>
            </objectVariable>
            <linkVariable name="validationReport" target="//PatternTransformer/transform/@activity/@ownedActivityNode.4/@storyPattern/@objectVariable.1" source="//PatternTransformer/transform/@activity/@ownedActivityNode.4/@storyPattern/@objectVariable.0" type="//PatternTransformer/validationReport" bindingOperator="CREATE"/>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StatementNode" name="ProcessLinkVariables" outgoing="//PatternTransformer/transform/@activity/@ownedActivityEdge.4" incoming="//PatternTransformer/transform/@activity/@ownedActivityEdge.3">
          <statementExpression xsi:type="callExpressions:MethodCallExpression" callee="//PatternTransformer/processLinkVariables">
            <ownedParameterBindings parameter="//PatternTransformer/processLinkVariables/storyPattern">
              <valueExpression xsi:type="callExpressions:ParameterExpression" parameter="//PatternTransformer/transform/storyPattern"/>
            </ownedParameterBindings>
            <ownedParameterBindings parameter="//PatternTransformer/processLinkVariables/pattern">
              <valueExpression xsi:type="callExpressions:ParameterExpression" parameter="//PatternTransformer/transform/pattern"/>
            </ownedParameterBindings>
            <target xsi:type="patternExpressions:ObjectVariableExpression" object="//PatternTransformer/transform/@activity/@ownedActivityNode.4/@storyPattern/@objectVariable.0"/>
          </statementExpression>
        </ownedActivityNode>
      </activity>
    </eOperations>
    <eStructuralFeatures xsi:type="ecore:EReference" name="validationReport">
      <eType xsi:type="ecore:EClass" href="platform:/plugin/org.moflon.sdm.compiler.democles.validation.result/model/Result.ecore#//ValidationReport"/>
    </eStructuralFeatures>
    <eStructuralFeatures xsi:type="ecore:EReference" name="expressionTransformer" eType="//ExpressionTransformer"/>
  </eClassifiers>
  <eClassifiers xsi:type="ecore:EClass" name="ExpressionTransformer" abstract="true">
    <eOperations xsi:type="activities:MoflonEOperation" name="lookupErrorMessage">
      <eType xsi:type="ecore:EDataType" href="http://www.eclipse.org/emf/2002/Ecore#//EString"/>
      <eParameters name="errorID" eType="//Errors"/>
    </eOperations>
    <eOperations xsi:type="activities:MoflonEOperation" name="transformAndAssignExpression">
      <eParameters name="report">
        <eType xsi:type="ecore:EClass" href="platform:/plugin/org.moflon.sdm.compiler.democles.validation.result/model/Result.ecore#//ValidationReport"/>
      </eParameters>
      <eParameters name="patternVariableHandler" eType="//PatternVariableHandler"/>
      <eParameters name="expression">
        <eType xsi:type="ecore:EClass" href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//expressions/Expression"/>
      </eParameters>
      <eParameters name="pattern">
        <eType xsi:type="ecore:EClass" href="http://gervarro.org/democles/specification.ecore#//Pattern"/>
      </eParameters>
      <eParameters name="variable">
        <eType xsi:type="ecore:EClass" href="http://gervarro.org/democles/specification.ecore#//Variable"/>
      </eParameters>
      <eParameters name="expectedType">
        <eType xsi:type="ecore:EClass" href="http://www.eclipse.org/emf/2002/Ecore#//EClassifier"/>
      </eParameters>
      <activity owningOperation="//ExpressionTransformer/transformAndAssignExpression">
        <ownedActivityEdge source="//ExpressionTransformer/transformAndAssignExpression/@activity/@ownedActivityNode.0" target="//ExpressionTransformer/transformAndAssignExpression/@activity/@ownedActivityNode.3"/>
        <ownedActivityEdge source="//ExpressionTransformer/transformAndAssignExpression/@activity/@ownedActivityNode.1" target="//ExpressionTransformer/transformAndAssignExpression/@activity/@ownedActivityNode.2"/>
        <ownedActivityEdge source="//ExpressionTransformer/transformAndAssignExpression/@activity/@ownedActivityNode.3" target="//ExpressionTransformer/transformAndAssignExpression/@activity/@ownedActivityNode.6"/>
        <ownedActivityEdge source="//ExpressionTransformer/transformAndAssignExpression/@activity/@ownedActivityNode.4" target="//ExpressionTransformer/transformAndAssignExpression/@activity/@ownedActivityNode.1"/>
        <ownedActivityEdge source="//ExpressionTransformer/transformAndAssignExpression/@activity/@ownedActivityNode.5" target="//ExpressionTransformer/transformAndAssignExpression/@activity/@ownedActivityNode.4"/>
        <ownedActivityEdge source="//ExpressionTransformer/transformAndAssignExpression/@activity/@ownedActivityNode.6" target="//ExpressionTransformer/transformAndAssignExpression/@activity/@ownedActivityNode.5" guard="SUCCESS"/>
        <ownedActivityEdge source="//ExpressionTransformer/transformAndAssignExpression/@activity/@ownedActivityNode.6" target="//ExpressionTransformer/transformAndAssignExpression/@activity/@ownedActivityNode.2" guard="FAILURE"/>
        <ownedActivityNode xsi:type="activities:StartNode" outgoing="//ExpressionTransformer/transformAndAssignExpression/@activity/@ownedActivityEdge.0"/>
        <ownedActivityNode xsi:type="activities:StoryNode" name="AddSecondParameter" comment="AddSecondParameter" outgoing="//ExpressionTransformer/transformAndAssignExpression/@activity/@ownedActivityEdge.1" incoming="//ExpressionTransformer/transformAndAssignExpression/@activity/@ownedActivityEdge.3">
          <storyPattern comment="AddSecondParameter">
            <objectVariable name="expressionResult" incomingLink="//ExpressionTransformer/transformAndAssignExpression/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.0" bindingState="BOUND">
              <type xsi:type="ecore:EClass" href="http://gervarro.org/democles/specification.ecore#//ConstraintVariable"/>
            </objectVariable>
            <objectVariable name="secondParameter" incomingLink="//ExpressionTransformer/transformAndAssignExpression/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.1" outgoingLink="//ExpressionTransformer/transformAndAssignExpression/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.0" bindingOperator="CREATE">
              <type xsi:type="ecore:EClass" href="http://gervarro.org/democles/specification.ecore#//ConstraintParameter"/>
            </objectVariable>
            <objectVariable name="constraint" outgoingLink="//ExpressionTransformer/transformAndAssignExpression/@activity/@ownedActivityNode.1/@storyPattern/@linkVariable.1" bindingState="BOUND">
              <type xsi:type="ecore:EClass" href="http://gervarro.org/democles/specification/constraint/relational.ecore#//Equal"/>
            </objectVariable>
            <linkVariable name="reference" target="//ExpressionTransformer/transformAndAssignExpression/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.0" source="//ExpressionTransformer/transformAndAssignExpression/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.1" bindingOperator="CREATE">
              <type href="http://gervarro.org/democles/specification.ecore#//ConstraintParameter/reference"/>
            </linkVariable>
            <linkVariable name="parameters" target="//ExpressionTransformer/transformAndAssignExpression/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.1" source="//ExpressionTransformer/transformAndAssignExpression/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.2" bindingOperator="CREATE">
              <type href="http://gervarro.org/democles/specification.ecore#//Constraint/parameters"/>
            </linkVariable>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//ExpressionTransformer/transformAndAssignExpression/@activity/@ownedActivityEdge.1 //ExpressionTransformer/transformAndAssignExpression/@activity/@ownedActivityEdge.6"/>
        <ownedActivityNode xsi:type="activities:StoryNode" name="LookupThisObject" comment="LookupThisObject" outgoing="//ExpressionTransformer/transformAndAssignExpression/@activity/@ownedActivityEdge.2" incoming="//ExpressionTransformer/transformAndAssignExpression/@activity/@ownedActivityEdge.0">
          <storyPattern comment="LookupThisObject">
            <objectVariable type="//ExpressionTransformer" name="this" bindingState="BOUND"/>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StoryNode" name="AddFirstParameter" comment="AddFirstParameter" outgoing="//ExpressionTransformer/transformAndAssignExpression/@activity/@ownedActivityEdge.3" incoming="//ExpressionTransformer/transformAndAssignExpression/@activity/@ownedActivityEdge.4">
          <storyPattern comment="AddFirstParameter">
            <objectVariable name="firstParameter" incomingLink="//ExpressionTransformer/transformAndAssignExpression/@activity/@ownedActivityNode.4/@storyPattern/@linkVariable.1" outgoingLink="//ExpressionTransformer/transformAndAssignExpression/@activity/@ownedActivityNode.4/@storyPattern/@linkVariable.0" bindingOperator="CREATE">
              <type xsi:type="ecore:EClass" href="http://gervarro.org/democles/specification.ecore#//ConstraintParameter"/>
            </objectVariable>
            <objectVariable name="constraint" outgoingLink="//ExpressionTransformer/transformAndAssignExpression/@activity/@ownedActivityNode.4/@storyPattern/@linkVariable.1" bindingState="BOUND">
              <type xsi:type="ecore:EClass" href="http://gervarro.org/democles/specification/constraint/relational.ecore#//Equal"/>
            </objectVariable>
            <objectVariable name="variable" incomingLink="//ExpressionTransformer/transformAndAssignExpression/@activity/@ownedActivityNode.4/@storyPattern/@linkVariable.0" bindingState="BOUND">
              <type xsi:type="ecore:EClass" href="http://gervarro.org/democles/specification.ecore#//Variable"/>
            </objectVariable>
            <linkVariable name="reference" target="//ExpressionTransformer/transformAndAssignExpression/@activity/@ownedActivityNode.4/@storyPattern/@objectVariable.2" source="//ExpressionTransformer/transformAndAssignExpression/@activity/@ownedActivityNode.4/@storyPattern/@objectVariable.0" bindingOperator="CREATE">
              <type href="http://gervarro.org/democles/specification.ecore#//ConstraintParameter/reference"/>
            </linkVariable>
            <linkVariable name="parameters" target="//ExpressionTransformer/transformAndAssignExpression/@activity/@ownedActivityNode.4/@storyPattern/@objectVariable.0" source="//ExpressionTransformer/transformAndAssignExpression/@activity/@ownedActivityNode.4/@storyPattern/@objectVariable.1" bindingOperator="CREATE">
              <type href="http://gervarro.org/democles/specification.ecore#//Constraint/parameters"/>
            </linkVariable>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StoryNode" name="CreateAssignmentConstraint" comment="CreateAssignmentConstraint" outgoing="//ExpressionTransformer/transformAndAssignExpression/@activity/@ownedActivityEdge.4" incoming="//ExpressionTransformer/transformAndAssignExpression/@activity/@ownedActivityEdge.5">
          <storyPattern comment="CreateAssignmentConstraint">
            <objectVariable name="body" outgoingLink="//ExpressionTransformer/transformAndAssignExpression/@activity/@ownedActivityNode.5/@storyPattern/@linkVariable.0 //ExpressionTransformer/transformAndAssignExpression/@activity/@ownedActivityNode.5/@storyPattern/@linkVariable.1">
              <type xsi:type="ecore:EClass" href="http://gervarro.org/democles/specification.ecore#//PatternBody"/>
            </objectVariable>
            <objectVariable name="pattern" incomingLink="//ExpressionTransformer/transformAndAssignExpression/@activity/@ownedActivityNode.5/@storyPattern/@linkVariable.1" bindingState="BOUND">
              <type xsi:type="ecore:EClass" href="http://gervarro.org/democles/specification.ecore#//Pattern"/>
            </objectVariable>
            <objectVariable name="constraint" incomingLink="//ExpressionTransformer/transformAndAssignExpression/@activity/@ownedActivityNode.5/@storyPattern/@linkVariable.0" bindingOperator="CREATE">
              <type xsi:type="ecore:EClass" href="http://gervarro.org/democles/specification/constraint/relational.ecore#//Equal"/>
            </objectVariable>
            <linkVariable name="constraints" target="//ExpressionTransformer/transformAndAssignExpression/@activity/@ownedActivityNode.5/@storyPattern/@objectVariable.2" source="//ExpressionTransformer/transformAndAssignExpression/@activity/@ownedActivityNode.5/@storyPattern/@objectVariable.0" bindingOperator="CREATE">
              <type href="http://gervarro.org/democles/specification.ecore#//PatternBody/constraints"/>
            </linkVariable>
            <linkVariable name="header" target="//ExpressionTransformer/transformAndAssignExpression/@activity/@ownedActivityNode.5/@storyPattern/@objectVariable.1" source="//ExpressionTransformer/transformAndAssignExpression/@activity/@ownedActivityNode.5/@storyPattern/@objectVariable.0">
              <type href="http://gervarro.org/democles/specification.ecore#//PatternBody/header"/>
            </linkVariable>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StoryNode" name="TransformExpression" comment="TransformExpression" outgoing="//ExpressionTransformer/transformAndAssignExpression/@activity/@ownedActivityEdge.5 //ExpressionTransformer/transformAndAssignExpression/@activity/@ownedActivityEdge.6" incoming="//ExpressionTransformer/transformAndAssignExpression/@activity/@ownedActivityEdge.2">
          <storyPattern comment="TransformExpression">
            <objectVariable name="expressionResult" bindingState="BOUND">
              <type xsi:type="ecore:EClass" href="http://gervarro.org/democles/specification.ecore#//ConstraintVariable"/>
              <bindingExpression xsi:type="callExpressions:MethodCallExpression" callee="//ExpressionTransformer/transformExpression">
                <ownedParameterBindings parameter="//ExpressionTransformer/transformExpression/report">
                  <valueExpression xsi:type="callExpressions:ParameterExpression" parameter="//ExpressionTransformer/transformAndAssignExpression/report"/>
                </ownedParameterBindings>
                <ownedParameterBindings parameter="//ExpressionTransformer/transformExpression/patternVariableHandler">
                  <valueExpression xsi:type="callExpressions:ParameterExpression" parameter="//ExpressionTransformer/transformAndAssignExpression/patternVariableHandler"/>
                </ownedParameterBindings>
                <ownedParameterBindings parameter="//ExpressionTransformer/transformExpression/expression">
                  <valueExpression xsi:type="callExpressions:ParameterExpression" parameter="//ExpressionTransformer/transformAndAssignExpression/expression"/>
                </ownedParameterBindings>
                <ownedParameterBindings parameter="//ExpressionTransformer/transformExpression/pattern">
                  <valueExpression xsi:type="callExpressions:ParameterExpression" parameter="//ExpressionTransformer/transformAndAssignExpression/pattern"/>
                </ownedParameterBindings>
                <ownedParameterBindings parameter="//ExpressionTransformer/transformExpression/expectedType">
                  <valueExpression xsi:type="callExpressions:ParameterExpression" parameter="//ExpressionTransformer/transformAndAssignExpression/expectedType"/>
                </ownedParameterBindings>
                <target xsi:type="patternExpressions:ObjectVariableExpression" object="//ExpressionTransformer/transformAndAssignExpression/@activity/@ownedActivityNode.3/@storyPattern/@objectVariable.0"/>
              </bindingExpression>
            </objectVariable>
          </storyPattern>
        </ownedActivityNode>
      </activity>
    </eOperations>
    <eOperations xsi:type="activities:MoflonEOperation" name="transformExpression">
      <eType xsi:type="ecore:EClass" href="http://gervarro.org/democles/specification.ecore#//ConstraintVariable"/>
      <eParameters name="report">
        <eType xsi:type="ecore:EClass" href="platform:/plugin/org.moflon.sdm.compiler.democles.validation.result/model/Result.ecore#//ValidationReport"/>
      </eParameters>
      <eParameters name="patternVariableHandler" eType="//PatternVariableHandler"/>
      <eParameters name="expression">
        <eType xsi:type="ecore:EClass" href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//expressions/Expression"/>
      </eParameters>
      <eParameters name="pattern">
        <eType xsi:type="ecore:EClass" href="http://gervarro.org/democles/specification.ecore#//Pattern"/>
      </eParameters>
      <eParameters name="expectedType">
        <eType xsi:type="ecore:EClass" href="http://www.eclipse.org/emf/2002/Ecore#//EClassifier"/>
      </eParameters>
    </eOperations>
    <eStructuralFeatures xsi:type="ecore:EReference" name="delegate" eType="//ExpressionTransformer"/>
  </eClassifiers>
  <eClassifiers xsi:type="ecore:EClass" name="RedPatternTransformer" eSuperTypes="//PatternTransformer">
    <eOperations xsi:type="activities:MoflonEOperation" name="isLinkToAdd">
      <eType xsi:type="ecore:EDataType" href="http://www.eclipse.org/emf/2002/Ecore#//EBoolean"/>
      <eParameters name="linkVariable">
        <eType xsi:type="ecore:EClass" href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//patterns/LinkVariable"/>
      </eParameters>
      <eParameters name="pattern">
        <eType xsi:type="ecore:EClass" href="http://gervarro.org/democles/specification.ecore#//Pattern"/>
      </eParameters>
      <activity owningOperation="//RedPatternTransformer/isLinkToAdd">
        <ownedActivityEdge source="//RedPatternTransformer/isLinkToAdd/@activity/@ownedActivityNode.2" target="//RedPatternTransformer/isLinkToAdd/@activity/@ownedActivityNode.1" guard="FAILURE"/>
        <ownedActivityEdge source="//RedPatternTransformer/isLinkToAdd/@activity/@ownedActivityNode.2" target="//RedPatternTransformer/isLinkToAdd/@activity/@ownedActivityNode.0" guard="SUCCESS"/>
        <ownedActivityEdge source="//RedPatternTransformer/isLinkToAdd/@activity/@ownedActivityNode.3" target="//RedPatternTransformer/isLinkToAdd/@activity/@ownedActivityNode.2"/>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//RedPatternTransformer/isLinkToAdd/@activity/@ownedActivityEdge.1">
          <returnValue xsi:type="expressions:LiteralExpression" value="true"/>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//RedPatternTransformer/isLinkToAdd/@activity/@ownedActivityEdge.0">
          <returnValue xsi:type="expressions:LiteralExpression" value="false"/>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StoryNode" name="IsLinkRed" comment="IsLinkRed" outgoing="//RedPatternTransformer/isLinkToAdd/@activity/@ownedActivityEdge.0 //RedPatternTransformer/isLinkToAdd/@activity/@ownedActivityEdge.1" incoming="//RedPatternTransformer/isLinkToAdd/@activity/@ownedActivityEdge.2">
          <storyPattern comment="IsLinkRed">
            <objectVariable name="linkVariable" bindingState="BOUND">
              <type xsi:type="ecore:EClass" href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//patterns/LinkVariable"/>
              <constraint>
                <constraintExpression xsi:type="expressions:ComparisonExpression" operator="EQUAL">
                  <rightExpression xsi:type="expressions:LiteralExpression" value="SDMLanguage.patterns.BindingOperator.DESTROY"/>
                  <leftExpression xsi:type="patternExpressions:AttributeValueExpression" object="//RedPatternTransformer/isLinkToAdd/@activity/@ownedActivityNode.2/@storyPattern/@objectVariable.0">
                    <attribute href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//patterns/LinkVariable/bindingOperator"/>
                  </leftExpression>
                </constraintExpression>
              </constraint>
            </objectVariable>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StartNode" outgoing="//RedPatternTransformer/isLinkToAdd/@activity/@ownedActivityEdge.2"/>
      </activity>
    </eOperations>
    <eOperations xsi:type="activities:MoflonEOperation" name="isVariableToAdd">
      <eType xsi:type="ecore:EDataType" href="http://www.eclipse.org/emf/2002/Ecore#//EBoolean"/>
      <eParameters name="objectVariable">
        <eType xsi:type="ecore:EClass" href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//patterns/ObjectVariable"/>
      </eParameters>
      <activity owningOperation="//RedPatternTransformer/isVariableToAdd">
        <ownedActivityEdge source="//RedPatternTransformer/isVariableToAdd/@activity/@ownedActivityNode.1" target="//RedPatternTransformer/isVariableToAdd/@activity/@ownedActivityNode.7" guard="FAILURE"/>
        <ownedActivityEdge source="//RedPatternTransformer/isVariableToAdd/@activity/@ownedActivityNode.1" target="//RedPatternTransformer/isVariableToAdd/@activity/@ownedActivityNode.5" guard="SUCCESS"/>
        <ownedActivityEdge source="//RedPatternTransformer/isVariableToAdd/@activity/@ownedActivityNode.4" target="//RedPatternTransformer/isVariableToAdd/@activity/@ownedActivityNode.3" guard="SUCCESS"/>
        <ownedActivityEdge source="//RedPatternTransformer/isVariableToAdd/@activity/@ownedActivityNode.4" target="//RedPatternTransformer/isVariableToAdd/@activity/@ownedActivityNode.1" guard="FAILURE"/>
        <ownedActivityEdge source="//RedPatternTransformer/isVariableToAdd/@activity/@ownedActivityNode.6" target="//RedPatternTransformer/isVariableToAdd/@activity/@ownedActivityNode.4"/>
        <ownedActivityEdge source="//RedPatternTransformer/isVariableToAdd/@activity/@ownedActivityNode.7" target="//RedPatternTransformer/isVariableToAdd/@activity/@ownedActivityNode.8" guard="FAILURE"/>
        <ownedActivityEdge source="//RedPatternTransformer/isVariableToAdd/@activity/@ownedActivityNode.7" target="//RedPatternTransformer/isVariableToAdd/@activity/@ownedActivityNode.2" guard="SUCCESS"/>
        <ownedActivityEdge source="//RedPatternTransformer/isVariableToAdd/@activity/@ownedActivityNode.8" target="//RedPatternTransformer/isVariableToAdd/@activity/@ownedActivityNode.9" guard="SUCCESS"/>
        <ownedActivityEdge source="//RedPatternTransformer/isVariableToAdd/@activity/@ownedActivityNode.8" target="//RedPatternTransformer/isVariableToAdd/@activity/@ownedActivityNode.0" guard="FAILURE"/>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//RedPatternTransformer/isVariableToAdd/@activity/@ownedActivityEdge.8">
          <returnValue xsi:type="expressions:LiteralExpression" value="false"/>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StoryNode" name="isVariableRed" comment="isVariableRed" outgoing="//RedPatternTransformer/isVariableToAdd/@activity/@ownedActivityEdge.0 //RedPatternTransformer/isVariableToAdd/@activity/@ownedActivityEdge.1" incoming="//RedPatternTransformer/isVariableToAdd/@activity/@ownedActivityEdge.3">
          <storyPattern comment="isVariableRed">
            <objectVariable name="objectVariable" bindingState="BOUND">
              <type xsi:type="ecore:EClass" href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//patterns/ObjectVariable"/>
              <constraint>
                <constraintExpression xsi:type="expressions:ComparisonExpression" operator="EQUAL">
                  <rightExpression xsi:type="expressions:LiteralExpression" value="SDMLanguage.patterns.BindingOperator.DESTROY"/>
                  <leftExpression xsi:type="patternExpressions:AttributeValueExpression" object="//RedPatternTransformer/isVariableToAdd/@activity/@ownedActivityNode.1/@storyPattern/@objectVariable.0">
                    <attribute href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//patterns/ObjectVariable/bindingOperator"/>
                  </leftExpression>
                </constraintExpression>
              </constraint>
            </objectVariable>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//RedPatternTransformer/isVariableToAdd/@activity/@ownedActivityEdge.6">
          <returnValue xsi:type="expressions:LiteralExpression" value="true"/>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//RedPatternTransformer/isVariableToAdd/@activity/@ownedActivityEdge.2">
          <returnValue xsi:type="expressions:LiteralExpression" value="false"/>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StoryNode" name="HasBindingExpression" comment="HasBindingExpression" outgoing="//RedPatternTransformer/isVariableToAdd/@activity/@ownedActivityEdge.2 //RedPatternTransformer/isVariableToAdd/@activity/@ownedActivityEdge.3" incoming="//RedPatternTransformer/isVariableToAdd/@activity/@ownedActivityEdge.4">
          <storyPattern comment="HasBindingExpression">
            <objectVariable name="binding" incomingLink="//RedPatternTransformer/isVariableToAdd/@activity/@ownedActivityNode.4/@storyPattern/@linkVariable.0">
              <type xsi:type="ecore:EClass" href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//expressions/Expression"/>
            </objectVariable>
            <objectVariable name="objectVariable" outgoingLink="//RedPatternTransformer/isVariableToAdd/@activity/@ownedActivityNode.4/@storyPattern/@linkVariable.0" bindingState="BOUND">
              <type xsi:type="ecore:EClass" href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//patterns/ObjectVariable"/>
            </objectVariable>
            <linkVariable name="bindingExpression" target="//RedPatternTransformer/isVariableToAdd/@activity/@ownedActivityNode.4/@storyPattern/@objectVariable.0" source="//RedPatternTransformer/isVariableToAdd/@activity/@ownedActivityNode.4/@storyPattern/@objectVariable.1">
              <type href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//patterns/ObjectVariable/bindingExpression"/>
            </linkVariable>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//RedPatternTransformer/isVariableToAdd/@activity/@ownedActivityEdge.1">
          <returnValue xsi:type="expressions:LiteralExpression" value="true"/>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StartNode" outgoing="//RedPatternTransformer/isVariableToAdd/@activity/@ownedActivityEdge.4"/>
        <ownedActivityNode xsi:type="activities:StoryNode" name="HasIncomingRedLink" comment="HasIncomingRedLink" outgoing="//RedPatternTransformer/isVariableToAdd/@activity/@ownedActivityEdge.5 //RedPatternTransformer/isVariableToAdd/@activity/@ownedActivityEdge.6" incoming="//RedPatternTransformer/isVariableToAdd/@activity/@ownedActivityEdge.0">
          <storyPattern comment="HasIncomingRedLink">
            <objectVariable name="objectVariable" outgoingLink="//RedPatternTransformer/isVariableToAdd/@activity/@ownedActivityNode.7/@storyPattern/@linkVariable.0" bindingState="BOUND">
              <type xsi:type="ecore:EClass" href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//patterns/ObjectVariable"/>
            </objectVariable>
            <objectVariable name="incomingLink" incomingLink="//RedPatternTransformer/isVariableToAdd/@activity/@ownedActivityNode.7/@storyPattern/@linkVariable.0">
              <type xsi:type="ecore:EClass" href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//patterns/LinkVariable"/>
              <constraint>
                <constraintExpression xsi:type="expressions:ComparisonExpression" operator="EQUAL">
                  <rightExpression xsi:type="expressions:LiteralExpression" value="SDMLanguage.patterns.BindingOperator.DESTROY"/>
                  <leftExpression xsi:type="patternExpressions:AttributeValueExpression" object="//RedPatternTransformer/isVariableToAdd/@activity/@ownedActivityNode.7/@storyPattern/@objectVariable.1">
                    <attribute href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//patterns/LinkVariable/bindingOperator"/>
                  </leftExpression>
                </constraintExpression>
              </constraint>
            </objectVariable>
            <linkVariable name="incomingLink" target="//RedPatternTransformer/isVariableToAdd/@activity/@ownedActivityNode.7/@storyPattern/@objectVariable.1" source="//RedPatternTransformer/isVariableToAdd/@activity/@ownedActivityNode.7/@storyPattern/@objectVariable.0">
              <type href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//patterns/ObjectVariable/incomingLink"/>
            </linkVariable>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StoryNode" name="HasOutgoingRedLink" comment="HasOutgoingRedLink" outgoing="//RedPatternTransformer/isVariableToAdd/@activity/@ownedActivityEdge.7 //RedPatternTransformer/isVariableToAdd/@activity/@ownedActivityEdge.8" incoming="//RedPatternTransformer/isVariableToAdd/@activity/@ownedActivityEdge.5">
          <storyPattern comment="HasOutgoingRedLink">
            <objectVariable name="objectVariable" outgoingLink="//RedPatternTransformer/isVariableToAdd/@activity/@ownedActivityNode.8/@storyPattern/@linkVariable.0" bindingState="BOUND">
              <type xsi:type="ecore:EClass" href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//patterns/ObjectVariable"/>
            </objectVariable>
            <objectVariable name="outgoingLink" incomingLink="//RedPatternTransformer/isVariableToAdd/@activity/@ownedActivityNode.8/@storyPattern/@linkVariable.0">
              <type xsi:type="ecore:EClass" href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//patterns/LinkVariable"/>
              <constraint>
                <constraintExpression xsi:type="expressions:ComparisonExpression" operator="EQUAL">
                  <rightExpression xsi:type="expressions:LiteralExpression" value="SDMLanguage.patterns.BindingOperator.DESTROY"/>
                  <leftExpression xsi:type="patternExpressions:AttributeValueExpression" object="//RedPatternTransformer/isVariableToAdd/@activity/@ownedActivityNode.8/@storyPattern/@objectVariable.1">
                    <attribute href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//patterns/LinkVariable/bindingOperator"/>
                  </leftExpression>
                </constraintExpression>
              </constraint>
            </objectVariable>
            <linkVariable name="outgoingLink" target="//RedPatternTransformer/isVariableToAdd/@activity/@ownedActivityNode.8/@storyPattern/@objectVariable.1" source="//RedPatternTransformer/isVariableToAdd/@activity/@ownedActivityNode.8/@storyPattern/@objectVariable.0">
              <type href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//patterns/ObjectVariable/outgoingLink"/>
            </linkVariable>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//RedPatternTransformer/isVariableToAdd/@activity/@ownedActivityEdge.7">
          <returnValue xsi:type="expressions:LiteralExpression" value="true"/>
        </ownedActivityNode>
      </activity>
    </eOperations>
  </eClassifiers>
  <eClassifiers xsi:type="ecore:EClass" name="LiteralExpressionTransformer" eSuperTypes="//ExpressionTransformer">
    <eOperations xsi:type="activities:MoflonEOperation" name="transformExpression">
      <eType xsi:type="ecore:EClass" href="http://gervarro.org/democles/specification.ecore#//ConstraintVariable"/>
      <eParameters name="report">
        <eType xsi:type="ecore:EClass" href="platform:/plugin/org.moflon.sdm.compiler.democles.validation.result/model/Result.ecore#//ValidationReport"/>
      </eParameters>
      <eParameters name="patternVariableHandler" eType="//PatternVariableHandler"/>
      <eParameters name="expression">
        <eType xsi:type="ecore:EClass" href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//expressions/Expression"/>
      </eParameters>
      <eParameters name="pattern">
        <eType xsi:type="ecore:EClass" href="http://gervarro.org/democles/specification.ecore#//Pattern"/>
      </eParameters>
      <eParameters name="expectedType">
        <eType xsi:type="ecore:EClass" href="http://www.eclipse.org/emf/2002/Ecore#//EClassifier"/>
      </eParameters>
      <activity owningOperation="//LiteralExpressionTransformer/transformExpression">
        <ownedActivityEdge source="//LiteralExpressionTransformer/transformExpression/@activity/@ownedActivityNode.0" target="//LiteralExpressionTransformer/transformExpression/@activity/@ownedActivityNode.3" guard="FAILURE"/>
        <ownedActivityEdge source="//LiteralExpressionTransformer/transformExpression/@activity/@ownedActivityNode.0" target="//LiteralExpressionTransformer/transformExpression/@activity/@ownedActivityNode.5" guard="SUCCESS"/>
        <ownedActivityEdge source="//LiteralExpressionTransformer/transformExpression/@activity/@ownedActivityNode.1" target="//LiteralExpressionTransformer/transformExpression/@activity/@ownedActivityNode.3" guard="FAILURE"/>
        <ownedActivityEdge source="//LiteralExpressionTransformer/transformExpression/@activity/@ownedActivityNode.1" target="//LiteralExpressionTransformer/transformExpression/@activity/@ownedActivityNode.0" guard="SUCCESS"/>
        <ownedActivityEdge source="//LiteralExpressionTransformer/transformExpression/@activity/@ownedActivityNode.2" target="//LiteralExpressionTransformer/transformExpression/@activity/@ownedActivityNode.4"/>
        <ownedActivityEdge source="//LiteralExpressionTransformer/transformExpression/@activity/@ownedActivityNode.4" target="//LiteralExpressionTransformer/transformExpression/@activity/@ownedActivityNode.1" guard="SUCCESS"/>
        <ownedActivityEdge source="//LiteralExpressionTransformer/transformExpression/@activity/@ownedActivityNode.4" target="//LiteralExpressionTransformer/transformExpression/@activity/@ownedActivityNode.3" guard="FAILURE"/>
        <ownedActivityNode xsi:type="activities:StoryNode" name="AddConstant" comment="AddConstant" outgoing="//LiteralExpressionTransformer/transformExpression/@activity/@ownedActivityEdge.0 //LiteralExpressionTransformer/transformExpression/@activity/@ownedActivityEdge.1" incoming="//LiteralExpressionTransformer/transformExpression/@activity/@ownedActivityEdge.3">
          <storyPattern comment="AddConstant">
            <objectVariable name="constant" incomingLink="//LiteralExpressionTransformer/transformExpression/@activity/@ownedActivityNode.0/@storyPattern/@linkVariable.0" bindingState="BOUND">
              <type xsi:type="ecore:EClass" href="http://gervarro.org/democles/specification.ecore#//Constant"/>
            </objectVariable>
            <objectVariable name="patternBody" outgoingLink="//LiteralExpressionTransformer/transformExpression/@activity/@ownedActivityNode.0/@storyPattern/@linkVariable.0 //LiteralExpressionTransformer/transformExpression/@activity/@ownedActivityNode.0/@storyPattern/@linkVariable.1">
              <type xsi:type="ecore:EClass" href="http://gervarro.org/democles/specification.ecore#//PatternBody"/>
            </objectVariable>
            <objectVariable name="pattern" incomingLink="//LiteralExpressionTransformer/transformExpression/@activity/@ownedActivityNode.0/@storyPattern/@linkVariable.1" bindingState="BOUND">
              <type xsi:type="ecore:EClass" href="http://gervarro.org/democles/specification.ecore#//Pattern"/>
            </objectVariable>
            <linkVariable name="constants" target="//LiteralExpressionTransformer/transformExpression/@activity/@ownedActivityNode.0/@storyPattern/@objectVariable.0" source="//LiteralExpressionTransformer/transformExpression/@activity/@ownedActivityNode.0/@storyPattern/@objectVariable.1" bindingOperator="CREATE">
              <type href="http://gervarro.org/democles/specification.ecore#//PatternBody/constants"/>
            </linkVariable>
            <linkVariable name="header" target="//LiteralExpressionTransformer/transformExpression/@activity/@ownedActivityNode.0/@storyPattern/@objectVariable.2" source="//LiteralExpressionTransformer/transformExpression/@activity/@ownedActivityNode.0/@storyPattern/@objectVariable.1">
              <type href="http://gervarro.org/democles/specification.ecore#//PatternBody/header"/>
            </linkVariable>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StoryNode" name="CreateConstant" comment="CreateConstant" outgoing="//LiteralExpressionTransformer/transformExpression/@activity/@ownedActivityEdge.2 //LiteralExpressionTransformer/transformExpression/@activity/@ownedActivityEdge.3" incoming="//LiteralExpressionTransformer/transformExpression/@activity/@ownedActivityEdge.5">
          <storyPattern comment="CreateConstant">
            <objectVariable name="constant" bindingState="BOUND">
              <type xsi:type="ecore:EClass" href="http://gervarro.org/democles/specification.ecore#//Constant"/>
              <bindingExpression xsi:type="callExpressions:MethodCallExpression">
                <ownedParameterBindings>
                  <valueExpression xsi:type="patternExpressions:ObjectVariableExpression" object="//LiteralExpressionTransformer/transformExpression/@activity/@ownedActivityNode.4/@storyPattern/@objectVariable.2"/>
                  <parameter href="platform:/plugin/org.moflon.sdm.democles.literalexpressionsolver/model/Literalexpressionsolver.ecore#//ConstantTransformer/transformLiteralExpression/literalExpression"/>
                </ownedParameterBindings>
                <ownedParameterBindings>
                  <valueExpression xsi:type="callExpressions:ParameterExpression" parameter="//LiteralExpressionTransformer/transformExpression/expectedType"/>
                  <parameter href="platform:/plugin/org.moflon.sdm.democles.literalexpressionsolver/model/Literalexpressionsolver.ecore#//ConstantTransformer/transformLiteralExpression/expectedType"/>
                </ownedParameterBindings>
                <callee href="platform:/plugin/org.moflon.sdm.democles.literalexpressionsolver/model/Literalexpressionsolver.ecore#//ConstantTransformer/transformLiteralExpression"/>
                <target xsi:type="patternExpressions:ObjectVariableExpression" object="//LiteralExpressionTransformer/transformExpression/@activity/@ownedActivityNode.4/@storyPattern/@objectVariable.1"/>
              </bindingExpression>
            </objectVariable>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StartNode" outgoing="//LiteralExpressionTransformer/transformExpression/@activity/@ownedActivityEdge.4"/>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//LiteralExpressionTransformer/transformExpression/@activity/@ownedActivityEdge.0 //LiteralExpressionTransformer/transformExpression/@activity/@ownedActivityEdge.2 //LiteralExpressionTransformer/transformExpression/@activity/@ownedActivityEdge.6">
          <returnValue xsi:type="expressions:LiteralExpression" value="null"/>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StoryNode" name="Init" comment="Init" outgoing="//LiteralExpressionTransformer/transformExpression/@activity/@ownedActivityEdge.5 //LiteralExpressionTransformer/transformExpression/@activity/@ownedActivityEdge.6" incoming="//LiteralExpressionTransformer/transformExpression/@activity/@ownedActivityEdge.4">
          <storyPattern comment="Init">
            <objectVariable type="//LiteralExpressionTransformer" name="this" outgoingLink="//LiteralExpressionTransformer/transformExpression/@activity/@ownedActivityNode.4/@storyPattern/@linkVariable.0" bindingState="BOUND"/>
            <objectVariable name="constantConverter" incomingLink="//LiteralExpressionTransformer/transformExpression/@activity/@ownedActivityNode.4/@storyPattern/@linkVariable.0">
              <type xsi:type="ecore:EClass" href="platform:/plugin/org.moflon.sdm.democles.literalexpressionsolver/model/Literalexpressionsolver.ecore#//ConstantTransformer"/>
            </objectVariable>
            <objectVariable name="literalExpression" bindingState="BOUND">
              <type xsi:type="ecore:EClass" href="platform:/plugin/SDMLanguage/model/SDMLanguage.ecore#//expressions/LiteralExpression"/>
              <bindingExpression xsi:type="callExpressions:ParameterExpression" parameter="//LiteralExpressionTransformer/transformExpression/expression"/>
            </objectVariable>
            <linkVariable name="constantTransformer" target="//LiteralExpressionTransformer/transformExpression/@activity/@ownedActivityNode.4/@storyPattern/@objectVariable.1" source="//LiteralExpressionTransformer/transformExpression/@activity/@ownedActivityNode.4/@storyPattern/@objectVariable.0" type="//LiteralExpressionTransformer/constantTransformer"/>
          </storyPattern>
        </ownedActivityNode>
        <ownedActivityNode xsi:type="activities:StopNode" incoming="//LiteralExpressionTransformer/transformExpression/@activity/@ownedActivityEdge.1">
          <returnValue xsi:type="patternExpressions:ObjectVariableExpression" object="//LiteralExpressionTransformer/transformExpression/@activity/@ownedActivityNode.0/@storyPattern/@objectVariable.0"/>
        </ownedActivityNode>
      </activity>
    </eOperations>
    <eStructuralFeatures xsi:type="ecore:EReference" name="constantTransformer">
      <eType xsi:type="ecore:EClass" href="platform:/plugin/org.moflon.sdm.democles.literalexpressionsolver/model/Literalexpressionsolver.ecore#//ConstantTransformer"/>
    </eStructuralFeatures>
  </eClassifiers>
</ecore:EPackage>
